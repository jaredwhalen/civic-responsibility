import"../chunks/NZTpNUN0.js";import{o as be,h as pe}from"../chunks/DynTgfaT.js";import{p as fe,u as me,b as m,t as b,a as p,d as _e,e as g,f as G,g as e,h as o,i as f,j as i,k as c,$ as xe,r as h}from"../chunks/DAD_4Sg-.js";import{i as $e,s as ye,a as J}from"../chunks/D7XTKjgb.js";import{s as Me,H as ke,_ as N,F as Se,c as we,e as P,B as Q,T as Be,a as x,i as U,b as H,D as Te,t as ze,f as Fe,S as V,d as De,g as Ee}from"../chunks/BjZvwbhN.js";import{b as Ce}from"../chunks/BlFAYOyP.js";var Le=m('<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/> <meta name="description"/>',1),je=m('<div class="dashboard-overlay svelte-15cacbz" role="dialog" aria-modal="true" aria-labelledby="dashboard-title" aria-describedby="dashboard-description"><div><div class="dashboard-header svelte-15cacbz"><h2 id="dashboard-title" class="visually-hidden svelte-15cacbz">Interactive Dashboard</h2> <p id="dashboard-description" class="visually-hidden svelte-15cacbz">Explore civic responsibility data and insights</p></div> <!></div></div>'),He=m('<div class="background-container" role="presentation" aria-hidden="true"><!></div>'),Ie=m('<div role="main" aria-label="First content slides"></div>'),We=m('<div class="background-container" role="presentation" aria-hidden="true"><!></div> <!>',1),Ke=m('<div role="main" aria-label="Second content slides"></div>'),Oe=m('<main role="main" aria-label="Civic Responsibility Interactive Experience"><header class="main-header svelte-15cacbz" role="banner" aria-label="Site navigation"><div class="header-left svelte-15cacbz"></div> <div class="header-right svelte-15cacbz"><img class="logo svelte-15cacbz" alt="More in Common" role="img" aria-label="More in Common logo"/></div></header> <!>  <!> <!> <!> <!></main>');function Pe(X,Y){fe(Y,!0);const[I,Z]=ye(),ee=()=>J(De,"$isMobile",I),te=()=>J(Ee,"$isTablet",I),{meta:W,content:v}=we;let w=i(0),M=i(0),B=i(0),T=i(0),re=0,oe=.25,ae=1,z=i(0),k=i(0),F=i(0),D=i(0),se=0,ne=.25,ie=1;const $=c(()=>v.scrolly.slidesScroll[e(M)]),_=c(()=>v.scrolly.slidesFixed[e(k)]);let a=i(!1),E=i(!1),C=i(!1);me(()=>{e(a)?(o(E,!0),setTimeout(()=>{o(C,!0)},250)):(o(C,!1),setTimeout(()=>{o(E,!1)},250))}),be(()=>{const d=n=>{n.key==="Escape"&&e(a)&&o(a,!1)};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)});var S=Oe();pe(d=>{var n=Le(),t=g(G(n),2);b(()=>{xe.title=W.title,x(t,"content",W.description||"Interactive civic responsibility exploration")}),p(d,n)}),Me(S,"",{},{"--bg-color":"#d1dfed"});var L=f(S),K=g(f(L),2),de=f(K);h(K),h(L);var O=g(L,2);const le=c(()=>v.hero.video||"/assets/videos/web-bg.mp4"),ce=c(()=>v.hero.poster||"/assets/videos/placeholder.jpg");ke(O,{get videoSrc(){return e(le)},get poster(){return e(ce)},get heroText(){return v.hero.text}});var R=g(O,2);{var ve=d=>{var n=je(),t=f(n),r=g(f(t),2);Te(r,{activeId:"9999-dashboard",animateMount:!1,get interactiveMode(){return e(a)},set interactiveMode(s){o(a,s,!0)}}),h(t),h(n),b(()=>H(t,1,`dashboard-overlay-content ${e(C)?"expanded":""} ${ee()?"mobile":""} ${te()?"tablet":""}`,"svelte-15cacbz")),ze(3,n,()=>Fe,()=>({duration:250})),p(d,n)};$e(R,d=>{e(E)&&d(ve)})}var q=g(R,2);const ue=c(()=>!!e($).interactiveBg);N(q,{top:re,threshold:oe,bottom:ae,get interactiveBg(){return e(ue)},role:"region","aria-label":"First interactive content scroll area",get count(){return e(w)},set count(t){o(w,t,!0)},get index(){return e(M)},set index(t){o(M,t,!0)},get offset(){return e(B)},set offset(t){o(B,t,!0)},get progress(){return e(T)},set progress(t){o(T,t,!0)},background:t=>{var r=He(),s=f(r);const l=c(()=>!!e($).showDashboard);Q(s,{get count(){return e(w)},get index(){return e(M)},get offset(){return e(B)},get progress(){return e(T)},get activeId(){return e($).id},get showDashboard(){return e(l)},get interactiveMode(){return e(a)}}),h(r),b(()=>x(r,"data-theme",e($).theme||"default")),p(t,r)},foreground:t=>{var r=Ie();P(r,21,()=>v.scrolly.slidesScroll,U,(s,l,u)=>{const y=c(()=>v.scrolly.slidesScroll.length);V(s,{get content(){return e(l)},get cls(){return`slide-${u} ${e(l).cls??""}`},index:u,get"aria-label"(){return`Slide ${u+1} of ${e(y)??""}`},get interactiveMode(){return e(a)},set interactiveMode(j){o(a,j,!0)}})}),h(r),b(()=>{H(r,1,`foreground-container ${e(a)?"interactive-mode":""}`),x(r,"data-theme",e($).theme||"default")}),p(t,r)},$$slots:{background:!0,foreground:!0}});var A=g(q,2);const ge=c(()=>!!e(_).interactiveBg);N(A,{top:se,threshold:ne,bottom:ie,get interactiveBg(){return e(ge)},role:"region","aria-label":"Second interactive content scroll area",get count(){return e(z)},set count(t){o(z,t,!0)},get index(){return e(k)},set index(t){o(k,t,!0)},get offset(){return e(F)},set offset(t){o(F,t,!0)},get progress(){return e(D)},set progress(t){o(D,t,!0)},background:t=>{var r=We(),s=G(r),l=f(s);const u=c(()=>!!e(_).showDashboard);Q(l,{get count(){return e(z)},get index(){return e(k)},get offset(){return e(F)},get progress(){return e(D)},get activeId(){return e(_).id},get showDashboard(){return e(u)},get interactiveMode(){return e(a)}}),h(s);var y=g(s,2);Be(y,{get content(){return e(_)}}),b(()=>x(s,"data-theme",e(_).theme||"default")),p(t,r)},foreground:t=>{var r=Ke();P(r,21,()=>v.scrolly.slidesFixed,U,(s,l,u)=>{const y=c(()=>v.scrolly.slidesFixed.length);V(s,{get content(){return e(l)},get cls(){return`slide-${u} ${e(l).cls??""}`},index:u,get"aria-label"(){return`Slide ${u+1} of ${e(y)??""}`},get noText(){return e(l).noFgText},get interactiveMode(){return e(a)},set interactiveMode(j){o(a,j,!0)}})}),h(r),b(()=>{H(r,1,`foreground-container ${e(a)?"interactive-mode":""}`),x(r,"data-theme",e(_).theme||"default")}),p(t,r)},$$slots:{background:!0,foreground:!0}});var he=g(A,2);Se(he),h(S),b(()=>x(de,"src",Ce+"/assets/icons/Lockup_WhiteWhite.png")),p(X,S),_e(),Z()}export{Pe as component};
