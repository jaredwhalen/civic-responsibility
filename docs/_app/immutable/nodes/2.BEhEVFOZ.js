import"../chunks/NZTpNUN0.js";import{K as J,h as xe,a as be,w as Tn,bc as Cn,d as Se,au as $n,aJ as Nn,bd as Pn,be as qn,aM as ke,Z as Rn,bf as On,at as Bt,bg as Ln,b4 as Dn,J as K,ah as nt,A as F,O as A,C as L,N as Z,s as $,ai as Y,an as Dt,P as k,F as P,j as u,aj as Ee,f as et,ak as b,R as Qt,B as ot,Q as Fn,bh as Mt,bi as In,aa as Bn,v as rt,k as wt,am as He,g as Ut,ao as zn,aq as Xn}from"../chunks/Bc-ifaFe.js";import{p as U,i as lt,b as mt,a as kt,c as Ue}from"../chunks/BBcAs6B0.js";import{a as at,t as st,h as ee,f as Tt,b as Ct,i as ue,s as j,e as Ve,c as Ge,g as Ae}from"../chunks/Cpg1GEhr.js";import{b as fe}from"../chunks/DyW5KSxv.js";import{s as Me,c as Yn,p as Hn}from"../chunks/Ck6RiX9-.js";import{g as We,a as Un}from"../chunks/DhNFbmla.js";import{g as E,S as W,E as Vn,F as Gn}from"../chunks/BzX0c-Ej.js";import{i as xt,a as Te,b as Wn,c as Ce,l as $e,g as _t,D as Ke,u as $t,k as Kn,G as Zn}from"../chunks/DPZdIQb1.js";import{b as Ne}from"../chunks/ChvQqODY.js";import{b as q}from"../chunks/Cm_gSxwl.js";import"../chunks/BbZAAmF9.js";import{i as Ze}from"../chunks/CpvPBMtp.js";import{c as Qn}from"../chunks/D0d2SCp3.js";function Jn(t,e,n=!1,i=!1,r=!1){var o=t,s="";J(()=>{var a=Tn;if(s===(s=e()??"")){xe&&be();return}if(a.nodes_start!==null&&(Cn(a.nodes_start,a.nodes_end),a.nodes_start=a.nodes_end=null),s!==""){if(xe){Se.data;for(var l=be(),c=l;l!==null&&(l.nodeType!==$n||l.data!=="");)c=l,l=Nn(l);if(l===null)throw Pn(),qn;ke(Se,c),o=Rn(l);return}var d=s+"";n?d=`<svg>${d}</svg>`:i&&(d=`<math>${d}</math>`);var f=On(d);if((n||i)&&(f=Bt(f)),ke(Bt(f),f.lastChild),n||i)for(;Bt(f);)o.before(Bt(f));else o.before(f)}})}function jn(t,e){Ln(window,["resize"],()=>Dn(()=>e(window[t])))}var ti=F('<div class="hero-title svelte-1joyxxh"><h1 class="svelte-1joyxxh">What do we</h1> <h1 class="svelte-1joyxxh">owe each other</h1> <h1 class="svelte-1joyxxh">as Americans?</h1></div>'),ei=F('<div class="scroll-down svelte-1joyxxh"><span class="svelte-1joyxxh">Scroll down</span></div>'),ni=F(`<section class="hero-section svelte-1joyxxh" role="banner" aria-label="Hero section"><div class="hero-video-bg svelte-1joyxxh" role="presentation" aria-hidden="true"><video autoplay loop playsinline="" aria-label="Background video" class="svelte-1joyxxh"><source type="video/mp4" class="svelte-1joyxxh"/> <p class="svelte-1joyxxh">Your browser doesn't support HTML5 video.</p></video> <div class="hero-video-overlay svelte-1joyxxh"></div> <div class="hero-video-blur svelte-1joyxxh"></div></div> <div class="hero-content svelte-1joyxxh"><!></div> <!></section>`,2);function ii(t,e){K(e,!0);let n=U(e,"videoSrc",3,"/assets/videos/civic-montage.mp4"),i=U(e,"poster",3,"/assets/videos/placeholder.jpg");U(e,"heroText",3,"");let r=Y(!1);nt(()=>{$(r,!0)});var o=ni(),s=A(o),a=A(s);a.muted=!0;var l=A(a);Dt(2),k(a),Dt(4),k(s);var c=P(s,2),d=A(c);{var f=p=>{var _=ti(),M=A(_),S=P(M,2),m=P(S,2);k(_),st(3,M,()=>ee,()=>({axis:"y",duration:1e3,delay:150})),st(3,S,()=>ee,()=>({axis:"y",duration:1e3,delay:300})),st(3,m,()=>ee,()=>({axis:"y",duration:1e3,delay:450})),L(p,_)};lt(d,p=>{u(r)&&p(f)})}k(c);var h=P(c,2);{var v=p=>{var _=ei();st(1,_,()=>Tt,()=>({duration:1e3,delay:1e3})),L(p,_)};lt(h,p=>{u(r)&&p(v)})}k(o),J(()=>{at(a,"poster",i()),at(l,"src",fe+n())}),L(t,o),Z()}function ne(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(r);++i<r;)o[i]=t+i*n;return o}var ri={value:()=>{}};function Qe(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Xt(n)}function Xt(t){this._=t}function oi(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Xt.prototype=Qe.prototype={constructor:Xt,on:function(t,e){var n=this._,i=oi(t+"",n),r,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((r=(t=i[o]).type)&&(r=si(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(r=(t=i[o]).type)n[r]=Pe(n[r],t.name,e);else if(e==null)for(r in n)n[r]=Pe(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Xt(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,o;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};function si(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function Pe(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=ri,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var ie="http://www.w3.org/1999/xhtml";const qe={svg:"http://www.w3.org/2000/svg",xhtml:ie,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jt(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),qe.hasOwnProperty(e)?{space:qe[e],local:t}:t}function ai(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ie&&e.documentElement.namespaceURI===ie?e.createElement(t):e.createElementNS(n,t)}}function li(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Je(t){var e=Jt(t);return(e.local?li:ai)(e)}function ci(){}function de(t){return t==null?ci:function(){return this.querySelector(t)}}function ui(t){typeof t!="function"&&(t=de(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=new Array(s),l,c,d=0;d<s;++d)(l=o[d])&&(c=t.call(l,l.__data__,d,o))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new it(i,this._parents)}function fi(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function di(){return[]}function je(t){return t==null?di:function(){return this.querySelectorAll(t)}}function hi(t){return function(){return fi(t.apply(this,arguments))}}function vi(t){typeof t=="function"?t=hi(t):t=je(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s=e[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(i.push(t.call(l,l.__data__,c,s)),r.push(l));return new it(i,r)}function tn(t){return function(){return this.matches(t)}}function en(t){return function(e){return e.matches(t)}}var pi=Array.prototype.find;function _i(t){return function(){return pi.call(this.children,t)}}function gi(){return this.firstElementChild}function mi(t){return this.select(t==null?gi:_i(typeof t=="function"?t:en(t)))}var yi=Array.prototype.filter;function wi(){return Array.from(this.children)}function xi(t){return function(){return yi.call(this.children,t)}}function bi(t){return this.selectAll(t==null?wi:xi(typeof t=="function"?t:en(t)))}function Si(t){typeof t!="function"&&(t=tn(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=[],l,c=0;c<s;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&a.push(l);return new it(i,this._parents)}function nn(t){return new Array(t.length)}function ki(){return new it(this._enter||this._groups.map(nn),this._parents)}function Vt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Vt.prototype={constructor:Vt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ei(t){return function(){return t}}function Ai(t,e,n,i,r,o){for(var s=0,a,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new Vt(t,o[s]);for(;s<l;++s)(a=e[s])&&(r[s]=a)}function Mi(t,e,n,i,r,o,s){var a,l,c=new Map,d=e.length,f=o.length,h=new Array(d),v;for(a=0;a<d;++a)(l=e[a])&&(h[a]=v=s.call(l,l.__data__,a,e)+"",c.has(v)?r[a]=l:c.set(v,l));for(a=0;a<f;++a)v=s.call(t,o[a],a,o)+"",(l=c.get(v))?(i[a]=l,l.__data__=o[a],c.delete(v)):n[a]=new Vt(t,o[a]);for(a=0;a<d;++a)(l=e[a])&&c.get(h[a])===l&&(r[a]=l)}function Ti(t){return t.__data__}function Ci(t,e){if(!arguments.length)return Array.from(this,Ti);var n=e?Mi:Ai,i=this._parents,r=this._groups;typeof t!="function"&&(t=Ei(t));for(var o=r.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var d=i[c],f=r[c],h=f.length,v=$i(t.call(d,d&&d.__data__,c,i)),p=v.length,_=a[c]=new Array(p),M=s[c]=new Array(p),S=l[c]=new Array(h);n(d,f,_,M,S,v,e);for(var m=0,w=0,C,x;m<p;++m)if(C=_[m]){for(m>=w&&(w=m+1);!(x=M[w])&&++w<p;);C._next=x||null}}return s=new it(s,i),s._enter=a,s._exit=l,s}function $i(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ni(){return new it(this._exit||this._groups.map(nn),this._parents)}function Pi(t,e,n){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?o.remove():n(o),i&&r?i.merge(r).order():r}function qi(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,s=Math.min(r,o),a=new Array(r),l=0;l<s;++l)for(var c=n[l],d=i[l],f=c.length,h=a[l]=new Array(f),v,p=0;p<f;++p)(v=c[p]||d[p])&&(h[p]=v);for(;l<r;++l)a[l]=n[l];return new it(a,this._parents)}function Ri(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,o=i[r],s;--r>=0;)(s=i[r])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Oi(t){t||(t=Li);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s=n[o],a=s.length,l=r[o]=new Array(a),c,d=0;d<a;++d)(c=s[d])&&(l[d]=c);l.sort(e)}return new it(r,this._parents).order()}function Li(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Di(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Fi(){return Array.from(this)}function Ii(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null}function Bi(){let t=0;for(const e of this)++t;return t}function zi(){return!this.node()}function Xi(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],o=0,s=r.length,a;o<s;++o)(a=r[o])&&t.call(a,a.__data__,o,r);return this}function Yi(t){return function(){this.removeAttribute(t)}}function Hi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ui(t,e){return function(){this.setAttribute(t,e)}}function Vi(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Gi(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Wi(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ki(t,e){var n=Jt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Hi:Yi:typeof e=="function"?n.local?Wi:Gi:n.local?Vi:Ui)(n,e))}function rn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Zi(t){return function(){this.style.removeProperty(t)}}function Qi(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ji(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function ji(t,e,n){return arguments.length>1?this.each((e==null?Zi:typeof e=="function"?Ji:Qi)(t,e,n??"")):Nt(this.node(),t)}function Nt(t,e){return t.style.getPropertyValue(e)||rn(t).getComputedStyle(t,null).getPropertyValue(e)}function tr(t){return function(){delete this[t]}}function er(t,e){return function(){this[t]=e}}function nr(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ir(t,e){return arguments.length>1?this.each((e==null?tr:typeof e=="function"?nr:er)(t,e)):this.node()[t]}function on(t){return t.trim().split(/^|\s+/)}function he(t){return t.classList||new sn(t)}function sn(t){this._node=t,this._names=on(t.getAttribute("class")||"")}sn.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function an(t,e){for(var n=he(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function ln(t,e){for(var n=he(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function rr(t){return function(){an(this,t)}}function or(t){return function(){ln(this,t)}}function sr(t,e){return function(){(e.apply(this,arguments)?an:ln)(this,t)}}function ar(t,e){var n=on(t+"");if(arguments.length<2){for(var i=he(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?sr:e?rr:or)(n,e))}function lr(){this.textContent=""}function cr(t){return function(){this.textContent=t}}function ur(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function fr(t){return arguments.length?this.each(t==null?lr:(typeof t=="function"?ur:cr)(t)):this.node().textContent}function dr(){this.innerHTML=""}function hr(t){return function(){this.innerHTML=t}}function vr(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function pr(t){return arguments.length?this.each(t==null?dr:(typeof t=="function"?vr:hr)(t)):this.node().innerHTML}function _r(){this.nextSibling&&this.parentNode.appendChild(this)}function gr(){return this.each(_r)}function mr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yr(){return this.each(mr)}function wr(t){var e=typeof t=="function"?t:Je(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function xr(){return null}function br(t,e){var n=typeof t=="function"?t:Je(t),i=e==null?xr:typeof e=="function"?e:de(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Sr(){var t=this.parentNode;t&&t.removeChild(this)}function kr(){return this.each(Sr)}function Er(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ar(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Mr(t){return this.select(t?Ar:Er)}function Tr(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Cr(t){return function(e){t.call(this,e,this.__data__)}}function $r(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Nr(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,o;n<r;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++i]=o;++i?e.length=i:delete this.__on}}}function Pr(t,e,n){return function(){var i=this.__on,r,o=Cr(e);if(i){for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=e;return}}this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function qr(t,e,n){var i=$r(t+""),r,o=i.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(r=0,d=a[l];r<o;++r)if((s=i[r]).type===d.type&&s.name===d.name)return d.value}return}for(a=e?Pr:Nr,r=0;r<o;++r)this.each(a(i[r],e,n));return this}function cn(t,e,n){var i=rn(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Rr(t,e){return function(){return cn(this,t,e)}}function Or(t,e){return function(){return cn(this,t,e.apply(this,arguments))}}function Lr(t,e){return this.each((typeof e=="function"?Or:Rr)(t,e))}function*Dr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length,s;r<o;++r)(s=i[r])&&(yield s)}var un=[null];function it(t,e){this._groups=t,this._parents=e}function It(){return new it([[document.documentElement]],un)}function Fr(){return this}it.prototype=It.prototype={constructor:it,select:ui,selectAll:vi,selectChild:mi,selectChildren:bi,filter:Si,data:Ci,enter:ki,exit:Ni,join:Pi,merge:qi,selection:Fr,order:Ri,sort:Oi,call:Di,nodes:Fi,node:Ii,size:Bi,empty:zi,each:Xi,attr:Ki,style:ji,property:ir,classed:ar,text:fr,html:pr,raise:gr,lower:yr,append:wr,insert:br,remove:kr,clone:Mr,datum:Tr,on:qr,dispatch:Lr,[Symbol.iterator]:Dr};function Re(t){return typeof t=="string"?new it([[document.querySelector(t)]],[document.documentElement]):new it([[t]],un)}var Oe=180/Math.PI,re={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function fn(t,e,n,i,r,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Oe,skewX:Math.atan(l)*Oe,scaleX:s,scaleY:a}}var zt;function Ir(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?re:fn(e.a,e.b,e.c,e.d,e.e,e.f)}function Br(t){return t==null||(zt||(zt=document.createElementNS("http://www.w3.org/2000/svg","g")),zt.setAttribute("transform",t),!(t=zt.transform.baseVal.consolidate()))?re:(t=t.matrix,fn(t.a,t.b,t.c,t.d,t.e,t.f))}function dn(t,e,n,i){function r(c){return c.length?c.pop()+" ":""}function o(c,d,f,h,v,p){if(c!==f||d!==h){var _=v.push("translate(",null,e,null,n);p.push({i:_-4,x:xt(c,f)},{i:_-2,x:xt(d,h)})}else(f||h)&&v.push("translate("+f+e+h+n)}function s(c,d,f,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:f.push(r(f)+"rotate(",null,i)-2,x:xt(c,d)})):d&&f.push(r(f)+"rotate("+d+i)}function a(c,d,f,h){c!==d?h.push({i:f.push(r(f)+"skewX(",null,i)-2,x:xt(c,d)}):d&&f.push(r(f)+"skewX("+d+i)}function l(c,d,f,h,v,p){if(c!==f||d!==h){var _=v.push(r(v)+"scale(",null,",",null,")");p.push({i:_-4,x:xt(c,f)},{i:_-2,x:xt(d,h)})}else(f!==1||h!==1)&&v.push(r(v)+"scale("+f+","+h+")")}return function(c,d){var f=[],h=[];return c=t(c),d=t(d),o(c.translateX,c.translateY,d.translateX,d.translateY,f,h),s(c.rotate,d.rotate,f,h),a(c.skewX,d.skewX,f,h),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,h),c=d=null,function(v){for(var p=-1,_=h.length,M;++p<_;)f[(M=h[p]).i]=M.x(v);return f.join("")}}}var zr=dn(Ir,"px, ","px)","deg)"),Xr=dn(Br,", ",")",")"),Pt=0,Rt=0,qt=0,hn=1e3,Gt,Ot,Wt=0,St=0,jt=0,Ft=typeof performance=="object"&&performance.now?performance:Date,vn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ve(){return St||(vn(Yr),St=Ft.now()+jt)}function Yr(){St=0}function Kt(){this._call=this._time=this._next=null}Kt.prototype=pn.prototype={constructor:Kt,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ve():+n)+(e==null?0:+e),!this._next&&Ot!==this&&(Ot?Ot._next=this:Gt=this,Ot=this),this._call=t,this._time=n,oe()},stop:function(){this._call&&(this._call=null,this._time=1/0,oe())}};function pn(t,e,n){var i=new Kt;return i.restart(t,e,n),i}function Hr(){ve(),++Pt;for(var t=Gt,e;t;)(e=St-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Pt}function Le(){St=(Wt=Ft.now())+jt,Pt=Rt=0;try{Hr()}finally{Pt=0,Vr(),St=0}}function Ur(){var t=Ft.now(),e=t-Wt;e>hn&&(jt-=e,Wt=t)}function Vr(){for(var t,e=Gt,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Gt=n);Ot=t,oe(i)}function oe(t){if(!Pt){Rt&&(Rt=clearTimeout(Rt));var e=t-St;e>24?(t<1/0&&(Rt=setTimeout(Le,t-Ft.now()-jt)),qt&&(qt=clearInterval(qt))):(qt||(Wt=Ft.now(),qt=setInterval(Ur,hn)),Pt=1,vn(Le))}}function De(t,e,n){var i=new Kt;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}var Gr=Qe("start","end","cancel","interrupt"),Wr=[],_n=0,Fe=1,se=2,Yt=3,Ie=4,ae=5,Ht=6;function te(t,e,n,i,r,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Kr(t,n,{name:e,index:i,group:r,on:Gr,tween:Wr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:_n})}function pe(t,e){var n=ct(t,e);if(n.state>_n)throw new Error("too late; already scheduled");return n}function ht(t,e){var n=ct(t,e);if(n.state>Yt)throw new Error("too late; already running");return n}function ct(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Kr(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=pn(o,0,n.time);function o(c){n.state=Fe,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var d,f,h,v;if(n.state!==Fe)return l();for(d in i)if(v=i[d],v.name===n.name){if(v.state===Yt)return De(s);v.state===Ie?(v.state=Ht,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete i[d]):+d<e&&(v.state=Ht,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete i[d])}if(De(function(){n.state===Yt&&(n.state=Ie,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=se,n.on.call("start",t,t.__data__,n.index,n.group),n.state===se){for(n.state=Yt,r=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(v=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(r[++f]=v);r.length=f+1}}function a(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=ae,1),f=-1,h=r.length;++f<h;)r[f].call(t,d);n.state===ae&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Ht,n.timer.stop(),delete i[e];for(var c in i)return;delete t.__transition}}function Zr(t,e){var n=t.__transition,i,r,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){o=!1;continue}r=i.state>se&&i.state<ae,i.state=Ht,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}o&&delete t.__transition}}function Qr(t){return this.each(function(){Zr(this,t)})}function Jr(t,e){var n,i;return function(){var r=ht(this,t),o=r.tween;if(o!==n){i=n=o;for(var s=0,a=i.length;s<a;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function jr(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var o=ht(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=a;break}l===c&&r.push(a)}o.tween=r}}function to(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=ct(this.node(),n).tween,r=0,o=i.length,s;r<o;++r)if((s=i[r]).name===t)return s.value;return null}return this.each((e==null?Jr:jr)(n,t,e))}function _e(t,e,n){var i=t._id;return t.each(function(){var r=ht(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return ct(r,i).value[e]}}function gn(t,e){var n;return(typeof e=="number"?xt:e instanceof Ce?Te:(n=Ce(e))?(e=n,Te):Wn)(t,e)}function eo(t){return function(){this.removeAttribute(t)}}function no(t){return function(){this.removeAttributeNS(t.space,t.local)}}function io(t,e,n){var i,r=n+"",o;return function(){var s=this.getAttribute(t);return s===r?null:s===i?o:o=e(i=s,n)}}function ro(t,e,n){var i,r=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===r?null:s===i?o:o=e(i=s,n)}}function oo(t,e,n){var i,r,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=a+"",s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,a)))}}function so(t,e,n){var i,r,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=a+"",s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,a)))}}function ao(t,e){var n=Jt(t),i=n==="transform"?Xr:gn;return this.attrTween(t,typeof e=="function"?(n.local?so:oo)(n,i,_e(this,"attr."+t,e)):e==null?(n.local?no:eo)(n):(n.local?ro:io)(n,i,e))}function lo(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function co(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function uo(t,e){var n,i;function r(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&co(t,o)),n}return r._value=e,r}function fo(t,e){var n,i;function r(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&lo(t,o)),n}return r._value=e,r}function ho(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Jt(t);return this.tween(n,(i.local?uo:fo)(i,e))}function vo(t,e){return function(){pe(this,t).delay=+e.apply(this,arguments)}}function po(t,e){return e=+e,function(){pe(this,t).delay=e}}function _o(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?vo:po)(e,t)):ct(this.node(),e).delay}function go(t,e){return function(){ht(this,t).duration=+e.apply(this,arguments)}}function mo(t,e){return e=+e,function(){ht(this,t).duration=e}}function yo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?go:mo)(e,t)):ct(this.node(),e).duration}function wo(t,e){if(typeof e!="function")throw new Error;return function(){ht(this,t).ease=e}}function xo(t){var e=this._id;return arguments.length?this.each(wo(e,t)):ct(this.node(),e).ease}function bo(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ht(this,t).ease=n}}function So(t){if(typeof t!="function")throw new Error;return this.each(bo(this._id,t))}function ko(t){typeof t!="function"&&(t=tn(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=[],l,c=0;c<s;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&a.push(l);return new gt(i,this._parents,this._name,this._id)}function Eo(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l=e[a],c=n[a],d=l.length,f=s[a]=new Array(d),h,v=0;v<d;++v)(h=l[v]||c[v])&&(f[v]=h);for(;a<i;++a)s[a]=e[a];return new gt(s,this._parents,this._name,this._id)}function Ao(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Mo(t,e,n){var i,r,o=Ao(e)?pe:ht;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}function To(t,e){var n=this._id;return arguments.length<2?ct(this.node(),n).on.on(t):this.each(Mo(n,t,e))}function Co(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function $o(){return this.on("end.remove",Co(this._id))}function No(t){var e=this._name,n=this._id;typeof t!="function"&&(t=de(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a=i[s],l=a.length,c=o[s]=new Array(l),d,f,h=0;h<l;++h)(d=a[h])&&(f=t.call(d,d.__data__,h,a))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f,te(c[h],e,n,h,c,ct(d,n)));return new gt(o,this._parents,e,n)}function Po(t){var e=this._name,n=this._id;typeof t!="function"&&(t=je(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var l=i[a],c=l.length,d,f=0;f<c;++f)if(d=l[f]){for(var h=t.call(d,d.__data__,f,l),v,p=ct(d,n),_=0,M=h.length;_<M;++_)(v=h[_])&&te(v,e,n,_,h,p);o.push(h),s.push(d)}return new gt(o,s,e,n)}var qo=It.prototype.constructor;function Ro(){return new qo(this._groups,this._parents)}function Oo(t,e){var n,i,r;return function(){var o=Nt(this,t),s=(this.style.removeProperty(t),Nt(this,t));return o===s?null:o===n&&s===i?r:r=e(n=o,i=s)}}function mn(t){return function(){this.style.removeProperty(t)}}function Lo(t,e,n){var i,r=n+"",o;return function(){var s=Nt(this,t);return s===r?null:s===i?o:o=e(i=s,n)}}function Do(t,e,n){var i,r,o;return function(){var s=Nt(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Nt(this,t))),s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,a))}}function Fo(t,e){var n,i,r,o="style."+e,s="end."+o,a;return function(){var l=ht(this,t),c=l.on,d=l.value[o]==null?a||(a=mn(e)):void 0;(c!==n||r!==d)&&(i=(n=c).copy()).on(s,r=d),l.on=i}}function Io(t,e,n){var i=(t+="")=="transform"?zr:gn;return e==null?this.styleTween(t,Oo(t,i)).on("end.style."+t,mn(t)):typeof e=="function"?this.styleTween(t,Do(t,i,_e(this,"style."+t,e))).each(Fo(this._id,t)):this.styleTween(t,Lo(t,i,e),n).on("end.style."+t,null)}function Bo(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function zo(t,e,n){var i,r;function o(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&Bo(t,s,n)),i}return o._value=e,o}function Xo(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,zo(t,e,n??""))}function Yo(t){return function(){this.textContent=t}}function Ho(t){return function(){var e=t(this);this.textContent=e??""}}function Uo(t){return this.tween("text",typeof t=="function"?Ho(_e(this,"text",t)):Yo(t==null?"":t+""))}function Vo(t){return function(e){this.textContent=t.call(this,e)}}function Go(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Vo(r)),e}return i._value=t,i}function Wo(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Go(t))}function Ko(){for(var t=this._name,e=this._id,n=yn(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var d=ct(l,e);te(l,t,n,c,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new gt(i,this._parents,t,n)}function Zo(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--r===0&&o()}};n.each(function(){var c=ht(this,i),d=c.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),r===0&&o()})}var Qo=0;function gt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function yn(){return++Qo}var pt=It.prototype;gt.prototype={constructor:gt,select:No,selectAll:Po,selectChild:pt.selectChild,selectChildren:pt.selectChildren,filter:ko,merge:Eo,selection:Ro,transition:Ko,call:pt.call,nodes:pt.nodes,node:pt.node,size:pt.size,empty:pt.empty,each:pt.each,on:To,attr:ao,attrTween:ho,style:Io,styleTween:Xo,text:Uo,textTween:Wo,remove:$o,tween:to,delay:_o,duration:yo,ease:xo,easeVarying:So,end:Zo,[Symbol.iterator]:pt[Symbol.iterator]};const Be=t=>+t;function Jo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var jo={time:null,delay:0,duration:250,ease:Jo};function ts(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function es(t){var e,n;t instanceof gt?(e=t._id,t=t._name):(e=yn(),(n=jo).time=ve(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&te(l,t,e,c,s,n||ts(l,e));return new gt(i,this._parents,t,e)}It.prototype.interrupt=Qr;It.prototype.transition=es;const le=Math.PI,ce=2*le,bt=1e-6,ns=ce-bt;function wn(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function is(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return wn;const n=10**e;return function(i){this._+=i[0];for(let r=1,o=i.length;r<o;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class rs{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?wn:is(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,o,s){this._append`C${+e},${+n},${+i},${+r},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,i,r,o){if(e=+e,n=+n,i=+i,r=+r,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=i-e,c=r-n,d=s-e,f=a-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>bt)if(!(Math.abs(f*l-c*d)>bt)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let v=i-s,p=r-a,_=l*l+c*c,M=v*v+p*p,S=Math.sqrt(_),m=Math.sqrt(h),w=o*Math.tan((le-Math.acos((_+h-M)/(2*S*m)))/2),C=w/m,x=w/S;Math.abs(C-1)>bt&&this._append`L${e+C*d},${n+C*f}`,this._append`A${o},${o},0,0,${+(f*v>d*p)},${this._x1=e+x*l},${this._y1=n+x*c}`}}arc(e,n,i,r,o,s){if(e=+e,n=+n,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(r),l=i*Math.sin(r),c=e+a,d=n+l,f=1^s,h=s?r-o:o-r;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>bt||Math.abs(this._y1-d)>bt)&&this._append`L${c},${d}`,i&&(h<0&&(h=h%ce+ce),h>ns?this._append`A${i},${i},0,1,${f},${e-a},${n-l}A${i},${i},0,1,${f},${this._x1=c},${this._y1=d}`:h>bt&&this._append`A${i},${i},0,${+(h>=le)},${f},${this._x1=e+i*Math.cos(o)},${this._y1=n+i*Math.sin(o)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function V(t){return function(){return t}}function xn(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new rs(e)}function bn(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Sn(t){this._context=t}Sn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function kn(t){return new Sn(t)}function En(t){return t[0]}function An(t){return t[1]}function os(t,e){var n=V(!0),i=null,r=kn,o=null,s=xn(a);t=typeof t=="function"?t:t===void 0?En:V(t),e=typeof e=="function"?e:e===void 0?An:V(e);function a(l){var c,d=(l=bn(l)).length,f,h=!1,v;for(i==null&&(o=r(v=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,c,l),+e(f,c,l));if(v)return o=null,v+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:V(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:V(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:V(!!l),a):n},a.curve=function(l){return arguments.length?(r=l,i!=null&&(o=r(i)),a):r},a.context=function(l){return arguments.length?(l==null?i=o=null:o=r(i=l),a):i},a}function ss(t,e,n){var i=null,r=V(!0),o=null,s=kn,a=null,l=xn(c);t=typeof t=="function"?t:t===void 0?En:V(+t),e=typeof e=="function"?e:V(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?An:V(+n);function c(f){var h,v,p,_=(f=bn(f)).length,M,S=!1,m,w=new Array(_),C=new Array(_);for(o==null&&(a=s(m=l())),h=0;h<=_;++h){if(!(h<_&&r(M=f[h],h,f))===S)if(S=!S)v=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=h-1;p>=v;--p)a.point(w[p],C[p]);a.lineEnd(),a.areaEnd()}S&&(w[h]=+t(M,h,f),C[h]=+e(M,h,f),a.point(i?+i(M,h,f):w[h],n?+n(M,h,f):C[h]))}if(m)return a=null,m+""||null}function d(){return os().defined(r).curve(s).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:V(+f),i=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:V(+f),c):t},c.x1=function(f){return arguments.length?(i=f==null?null:typeof f=="function"?f:V(+f),c):i},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:V(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:V(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:V(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(i).y(e)},c.defined=function(f){return arguments.length?(r=typeof f=="function"?f:V(!!f),c):r},c.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),c):s},c.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),c):o},c}function ze(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Mn(t){this._context=t}Mn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ze(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ze(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function as(t){return new Mn(t)}function Lt(t,e,n){this.k=t,this.x=e,this.y=n}Lt.prototype={constructor:Lt,scale:function(t){return t===1?this:new Lt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Lt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Lt.prototype;function ls(){if(typeof window>"u")return!1;const t=navigator.hardwareConcurrency||4,e=navigator.deviceMemory||4,n=navigator.connection,i=n&&(n.effectiveType==="slow-2g"||n.effectiveType==="2g"||n.saveData===!0);return t<=2||e<=2||i}function cs(){return typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches}function us(){const t=ls();return{enabled:!cs(),complexity:t?"low":"high",targetFPS:t?30:60,d3Duration:t?100:50,disableHeavyEffects:t}}var fs=F('<div class="inner-container svelte-10tfcss"><svg width="100%" class="svelte-10tfcss"><g transform="translate(0, 1)"><path fill="url(#leftGradient)" opacity="0.8" class="svelte-10tfcss"></path><path fill="url(#rightGradient)" opacity="0.8" class="svelte-10tfcss"></path></g></svg></div>');function ds(t,e){K(e,!0);let n=U(e,"offset",3,0),i=U(e,"width",7);const r=.1,o=.9,s=ne(-5,5.01,10/20);let a=Y(void 0),l=Y(void 0),c=Y(void 0);function d({years:y=10,bins:g=21,sigma:T=1,separationStart:I=.5,separationEnd:z=5}={}){const D=(B,G,X)=>Math.exp(-.5*((B-G)/X)**2)/(X*Math.sqrt(2*Math.PI)),O=Array.from({length:g},(B,G)=>(G/(g-1)*6-3)*T);function R(B,G){let X=O.map(N=>D(N,B,G));const tt=X.reduce((N,Q)=>N+Q,0);return X.map(N=>N/tt*100)}const H=[];for(let B=0;B<y;B++){const G=y===1?0:B/(y-1),X=I+G*(z-I),tt=-X/2,N=X/2,Q=R(tt,T),ut=R(N,T);H.push([{name:"Dem",data:Q.map(ft=>+ft.toFixed(2))},{name:"REP",data:ut.map(ft=>+ft.toFixed(2))}])}return H}const f=d({years:12,bins:21,sigma:1,separationStart:.5,separationEnd:4});nt(async()=>{await Ee(),i(u(a).clientWidth),_()});const h=us();let v=-1,p;const _=()=>{if(!h.enabled||Math.abs(n()-v)<.01)return;v=n();const y=(n()-r)/(o-r),g=Math.max(0,Math.min(1,y)),T=f.length,I=g*(T-1),z=Math.floor(I),D=Math.min(z+1,T-1),O=I-z,R=f[z][0].data,H=f[z][1].data,B=f[D][0].data,G=f[D][1].data,X=ne(R.length).map(vt=>R[vt]*(1-O)+B[vt]*O),tt=ne(H.length).map(vt=>H[vt]*(1-O)+G[vt]*O),N=Math.max(...X,...tt),Q=$e().domain([-5,5]).range([0,i()]),ut=$e().domain([0,N]).range([e.height,0]),ft=vt=>ss().x((Et,At)=>Q(s[At])).y0(e.height).y1(Et=>ut(Et)).curve(as);p&&cancelAnimationFrame(p),p=requestAnimationFrame(()=>{Re(u(l)).transition().duration(h.d3Duration).ease(Be).attr("d",ft()(X)),Re(u(c)).transition().duration(h.d3Duration).ease(Be).attr("d",ft()(tt))})};et(()=>{_()});const M=()=>{const y=document.querySelector("svg");if(!y)return;const g=y.querySelector("defs");g&&g.remove();const T=y.appendChild(document.createElementNS("http://www.w3.org/2000/svg","defs")),I=(z,D)=>{const O=T.appendChild(document.createElementNS("http://www.w3.org/2000/svg","radialGradient"));O.setAttribute("id",z),O.setAttribute("cx","50%"),O.setAttribute("cy","50%"),O.setAttribute("r","100%");const R=O.appendChild(document.createElementNS("http://www.w3.org/2000/svg","stop"));R.setAttribute("offset","20%"),R.setAttribute("stop-color",D);const H=O.appendChild(document.createElementNS("http://www.w3.org/2000/svg","stop"));H.setAttribute("offset","100%"),H.setAttribute("stop-color",_t("--color-theme-blue"))};I("leftGradient",_t("--color-theme-dem-blue")),I("rightGradient",_t("--color-theme-gop-red"))};nt(async()=>{await Ee(),M()});var S=fs(),m=A(S),w=A(m),C=A(w);q(C,y=>$(l,y),()=>u(l));var x=P(C);q(x,y=>$(c,y),()=>u(c)),k(w),k(m),q(m,y=>$(a,y),()=>u(a)),k(S),J((y,g)=>{at(m,"height",e.height),at(C,"stroke",y),at(x,"stroke",g)},[()=>_t("--color-theme-dem-blue"),()=>_t("--color-theme-gop-red")]),st(7,m,()=>Tt,()=>({duration:400})),st(5,S,()=>Tt,()=>({duration:400,delay:500})),L(t,S),Z()}var hs=F('<div class="step-1 svelte-ojv31"><div class="text-content svelte-ojv31"><div class="text-body svelte-ojv31">Our country is growing more<br class="svelte-ojv31"/><span class="text-accent svelte-ojv31">polarized</span></div></div> <div class="art-content svelte-ojv31"><!></div></div>');function vs(t,e){K(e,!0);let n,i,r,o=Y(0),s=b(()=>u(o)>=25?1:0),a=b(()=>u(o)>=25?0:-50),l=25,c=b(()=>u(o)>=l?Math.min(1,(u(o)-l)*.04):0),d=b(()=>u(o)>=l?Math.min(1,(u(o)-l)*.02):0),f=b(()=>u(d)*.5);nt(()=>{E.registerPlugin(W),W.config({ignoreMobileResize:!0}),E.set(i,{opacity:0,y:-50}),E.set(r,{opacity:0});const x=W.create({trigger:n,start:"top bottom",end:"bottom top",onUpdate:y=>{$(o,y.progress*100)}});return()=>{x.kill()}}),et(()=>{i&&E.to(i,{opacity:u(s),y:u(a),duration:.1,ease:"none"}),r&&E.to(r,{opacity:u(c),duration:.1,ease:"none"})});let h=Y(void 0),v=Y(void 0);var p=hs(),_=A(p),M=A(_),S=P(A(M),2);k(M),k(_),q(_,x=>i=x,()=>i);var m=P(_,2),w=A(m);{var C=x=>{ds(x,{get offset(){return u(d)},get height(){return u(h)},get width(){return u(v)}})};lt(w,x=>{u(h)&&u(v)&&x(C)})}k(m),q(m,x=>r=x,()=>r),k(p),q(p,x=>n=x,()=>n),J(()=>Ct(S,`letter-spacing: ${u(f)??""}em; --gradient-opacity: ${u(d)??""}`)),Ne(m,"clientHeight",x=>$(h,x)),Ne(m,"clientWidth",x=>$(v,x)),L(t,p),Z()}var ps=F('<div class="d-words text-body svelte-1bvhoce"><div><span class="text-accent svelte-1bvhoce">divided</span> in our beliefs,</div> <div><span class="text-accent svelte-1bvhoce">disillusioned</span> with our politics, and</div> <div><span class="text-accent svelte-1bvhoce">distrustful</span> of each other.</div></div>'),_s=F('<div class="d-words text-body svelte-1bvhoce"><div><span class="text-accent svelte-1bvhoce">divided</span> in our beliefs,</div> <div><span class="text-accent svelte-1bvhoce">disillusioned</span> with our politics, and</div> <div><span class="text-accent svelte-1bvhoce">distrustful</span> of each other.</div></div>'),gs=F('<div class="step-2 svelte-1bvhoce"><div class="text-content svelte-1bvhoce"><div class="text-body svelte-1bvhoce"><span class="text-accent">We are increasingly</span></div> <!></div></div>');function ms(t,e){K(e,!0);const[n,i]=kt(),r=()=>mt(ue,"$isMobile",n);let o,s,a,l,c,d=Y(0),f=b(()=>u(d)>=20?1:0),h=b(()=>u(d)>=20?0:-30),v=b(()=>Math.max(0,Math.min(1,(u(d)-15)/15))),p=b(()=>Math.max(0,Math.min(1,(u(d)-30)/15))),_=b(()=>Math.max(0,Math.min(1,(u(d)-45)/15))),M=b(()=>300-u(v)*300),S=b(()=>300-u(p)*300),m=b(()=>300-u(_)*300),w=b(()=>u(v)>.7),C=b(()=>u(p)>.7),x=b(()=>u(_)>.7);nt(()=>{E.registerPlugin(W),E.set(s,{opacity:0,y:r()?0:-30}),E.set(a,{x:300,opacity:0}),E.set(l,{x:300,opacity:0}),E.set(c,{x:300,opacity:0});const D=W.create({trigger:o,start:"top bottom",end:"bottom top",onUpdate:O=>{$(d,O.progress*100)}});return()=>{D.kill()}}),et(()=>{s&&E.to(s,{opacity:u(f),y:u(h),duration:.1,ease:"none"}),a&&E.set(a,{x:u(M),opacity:u(v)}),l&&E.set(l,{x:u(S),opacity:u(p)}),c&&E.set(c,{x:u(m),opacity:u(_)})});var y=gs(),g=A(y),T=P(A(g),2);{var I=D=>{var O=ps(),R=A(O);let H;q(R,N=>a=N,()=>a);var B=P(R,2);let G;q(B,N=>l=N,()=>l);var X=P(B,2);let tt;q(X,N=>c=N,()=>c),k(O),J((N,Q,ut)=>{H=j(R,1,"d-word svelte-1bvhoce",null,H,N),G=j(B,1,"d-word svelte-1bvhoce",null,G,Q),tt=j(X,1,"d-word svelte-1bvhoce",null,tt,ut)},[()=>({visible:u(w)}),()=>({visible:u(C)}),()=>({visible:u(x)})]),L(D,O)},z=D=>{var O=_s(),R=A(O);let H;q(R,N=>a=N,()=>a);var B=P(R,2);let G;q(B,N=>l=N,()=>l);var X=P(B,2);let tt;q(X,N=>c=N,()=>c),k(O),J((N,Q,ut)=>{H=j(R,1,"d-word svelte-1bvhoce",null,H,N),G=j(B,1,"d-word svelte-1bvhoce",null,G,Q),tt=j(X,1,"d-word svelte-1bvhoce",null,tt,ut)},[()=>({visible:u(w)}),()=>({visible:u(C)}),()=>({visible:u(x)})]),L(D,O)};lt(T,D=>{r()?D(I):D(z,!1)})}k(g),q(g,D=>s=D,()=>s),k(y),q(y,D=>o=D,()=>o),L(t,y),Z(),i()}var ys=F(`<div class="step-3 svelte-a3ag8a"><div class="background-container svelte-a3ag8a"><div class="background-image svelte-a3ag8a"></div> <div class="color-overlay svelte-a3ag8a"></div></div> <div class="text-overlay svelte-a3ag8a"><div class="text-body">As we approach America's 250th anniversary, it is important to remember the <b>civic responsibilities</b> we all share.</div></div></div>`);function ws(t,e){K(e,!0);let n,i,r,o=Y(0),s=b(()=>u(o)>=20?1:0),a=b(()=>u(o)>=20?0:30),l=b(()=>u(o)*8),c=b(()=>.25+u(o)/90*.6),d=b(()=>1+u(o)/100*.2);nt(()=>{E.registerPlugin(W),E.set(r,{opacity:0,y:30});const p=W.create({trigger:n,start:"top bottom",end:"bottom top",onUpdate:_=>{$(o,_.progress*100)}});return()=>{p.kill()}}),et(()=>{if(r&&E.to(r,{opacity:u(s),y:u(a)+u(l),duration:.1,ease:"none"}),i){const p=i.querySelector(".color-overlay"),_=i.querySelector(".background-image");p&&E.set(p,{opacity:u(c)}),_&&E.set(_,{scale:u(d)})}});var f=ys(),h=A(f);q(h,p=>i=p,()=>i);var v=P(h,2);q(v,p=>r=p,()=>r),k(f),q(f,p=>n=p,()=>n),L(t,f),Z()}var xs=F('<div class="step-4 svelte-1wbto4d"><div class="text-content svelte-1wbto4d"><div class="text-body">We asked 5,000 Americans from all 50 states: <b class="svelte-1wbto4d">What are our civic responsibilities as Americans?</b></div></div> <div class="definition-content svelte-1wbto4d"><div class="dictionary-entry svelte-1wbto4d"><div class="term svelte-1wbto4d"><span class="term-text svelte-1wbto4d">civic responsibilities</span></div> <div class="part-of-speech svelte-1wbto4d">noun phrase</div> <div class="definition-text svelte-1wbto4d">Behaviors people are expected to perform as upstanding members of our national community.</div></div></div></div>');function bs(t,e){K(e,!0);const[n,i]=kt(),r=()=>mt(ue,"$isMobile",n);let o,s,a,l=Y(0),c=Y(0),d=Y(0),f=b(()=>Math.max(u(c),u(d))),h=b(()=>Math.max(0,Math.min(1,(u(l)-20)/15))),v=b(()=>u(h)),p=b(()=>-200+u(h)*200),_=b(()=>Math.max(0,Math.min(1,(u(l)-35)/15))),M=b(()=>u(_)),S=b(()=>200-u(_)*200);nt(()=>{E.registerPlugin(W),s&&$(c,s.offsetHeight,!0),a&&$(d,a.offsetHeight,!0),E.set(s,{opacity:0,x:-200}),E.set(a,{x:200,opacity:0});const g=W.create({trigger:o,start:"top bottom",end:"bottom top",onUpdate:T=>{$(l,T.progress*100)}});return()=>{g.kill()}}),et(()=>{s&&E.set(s,{opacity:u(v),x:u(p)}),a&&E.set(a,{x:u(S),opacity:u(M)})});var m=xs(),w=A(m);let C;q(w,g=>s=g,()=>s);var x=P(w,2);let y;q(x,g=>a=g,()=>a),k(m),q(m,g=>o=g,()=>o),J((g,T)=>{C=Ct(w,"",C,g),y=Ct(x,"",y,T)},[()=>({"min-height":r()?"auto":`${u(f)}px`}),()=>({"min-height":r()?"auto":`${u(f)}px`})]),L(t,m),Z(),i()}var Ss=F('<div class="comment-item svelte-xwwfsa"><img class="svelte-xwwfsa"/></div>');function Xe(t,e){K(e,!0);let n=U(e,"progress",3,0),i=U(e,"startProgress",3,0),r=U(e,"endProgress",3,1),o=[],s=b(()=>()=>n()<i()?0:n()>r()?1:(n()-i())/(r()-i()));et(()=>{o.forEach((c,d)=>{if(c){const h=e.commentData[d].position.scale||.3;E.set(c,{scale:h*.5,opacity:0,y:100})}})}),et(()=>{const c=u(s)();o.forEach((d,f)=>{if(d){const v=e.commentData[f].position.scale||1,p=Math.max(0,Math.min(1,(c-f*.1)/.3)),_=v*.5,M=_+p*(v-_),S=p,m=(1-p)*100;E.to(d,{scale:M,opacity:S,y:m,duration:.1,ease:"power2.out"})}})});var a=Qt(),l=ot(a);Ve(l,17,()=>e.commentData,Ge,(c,d,f)=>{var h=Ss(),v=A(h);k(h),q(h,(p,_)=>o[_]=p,p=>o?.[p],()=>[f]),J(()=>{Ct(h,`
        top: ${u(d).position.top??""}; 
        left: ${u(d).position.left??""};
      `),at(v,"src",`/assets/comments/${u(d).name}`),at(v,"alt",u(d).text)}),L(c,h)}),L(t,a),Z()}var ks=F('<div class="step-5 svelte-1y4zb3e"><div class="section expected svelte-1y4zb3e"><div class="text-content svelte-1y4zb3e"><div class="text-body svelte-1y4zb3e">Some answers we expected</div></div> <div class="comments-container svelte-1y4zb3e"><!></div></div> <div class="section surprising svelte-1y4zb3e"><div class="text-content svelte-1y4zb3e"><div class="text-body svelte-1y4zb3e">Others surprised us</div></div> <div class="comments-container svelte-1y4zb3e"><!></div></div></div> <div class="space svelte-1y4zb3e"></div>',1);function Es(t,e){K(e,!0);const[n,i]=kt(),r=()=>mt(ue,"$isMobile",n),o=[{text:"Honoring the Constitution",name:"honoring-the-constitution.png",position:{top:"5%",left:"10%",scale:1}},{text:"Practicing freedom of speech",name:"practicing-freedom-of-speech.png",position:{top:"40%",left:"15%",scale:.7,direction:"right"}},{text:"Obeying the law",name:"obeying-the-law.png",position:{top:"20%",left:"65%",scale:.8}},{text:"Paying your taxes",name:"paying-your-taxes.png",position:{top:"100%",left:"5%",scale:1,direction:"right"}},{text:"Serving on a jury",name:"serving-on-a-jury.png",position:{top:"65%",left:"50%",scale:1}},{text:"Voting",name:"voting.png",position:{top:"100%",left:"70%",scale:.8,direction:"right"}}],s=[{text:"Tolerating differences",name:"tolerating-differences.png",position:{top:r()?"5%":"15%",left:"10%",scale:.7,direction:"right"}},{text:"Being grateful for your opportunities",name:"being-grateful-for-your-opportunities.png",position:{top:"20%",left:r()?"65%":"70%",scale:1}},{text:"Helping one's community",name:"helping-ones-community.png",position:{top:"40%",left:"50%",scale:.7,direction:"right"}},{text:"Caring for future generations",name:"caring-for-future-generations.png",position:{top:"60%",left:"10%",scale:.9}},{text:"Making one's voice heard",name:"making-one-s-voice-heard.png",position:{top:"95%",left:"10%",scale:.8}},{text:"Protecting the environment",name:"protecting-the-environment.png",position:{top:"85%",left:r()?"65%":"75%",scale:.8,direction:"right"}}];let a,l,c,d,f,h=Y(0),v=b(()=>u(h)>=10?1:0),p=b(()=>u(h)>=10?0:-30),_=b(()=>u(h)>=15?Math.min(1,(u(h)-15)/25):0),M=b(()=>r()?u(h)>=45?1:0:u(h)>=55?1:0),S=b(()=>u(h)>=55?0:-30),m=b(()=>u(h)>=60?Math.min(1,(u(h)-60)/20):0);nt(()=>{E.registerPlugin(W),E.set(l,{opacity:0,y:r()?0:-30}),E.set(d,{opacity:0,y:r()?0:-30});const R=W.create({trigger:a,start:"top bottom",end:"bottom top",onUpdate:H=>{$(h,H.progress*100)}});return()=>{R.kill()}}),et(()=>{l&&E.to(l,{opacity:u(v),y:r()?0:u(p),duration:.2,ease:"none"}),d&&E.to(d,{opacity:u(M),y:r()?0:u(S),duration:.2,ease:"none"})});var w=ks(),C=ot(w),x=A(C),y=A(x);q(y,R=>l=R,()=>l);var g=P(y,2),T=A(g);Xe(T,{get commentData(){return o},get progress(){return u(_)},startProgress:0,endProgress:1}),k(g),q(g,R=>c=R,()=>c),k(x);var I=P(x,2),z=A(I);q(z,R=>d=R,()=>d);var D=P(z,2),O=A(D);Xe(O,{get commentData(){return s},get progress(){return u(m)},startProgress:0,endProgress:1}),k(D),q(D,R=>f=R,()=>f),k(I),k(C),q(C,R=>a=R,()=>a),Dt(2),L(t,w),Z(),i()}var As=F('<div class="step-12 svelte-1lo2ten"><div class="text-content svelte-1lo2ten"><div class="text-body svelte-1lo2ten">Yet despite these differences, <b class="svelte-1lo2ten">93% of Americans</b> agree on one thing…</div></div></div>');function Ms(t,e){K(e,!0);let n,i,r=Y(0),o=b(()=>Math.max(0,Math.min(1,(u(r)-20)/30))),s=b(()=>20-u(o)*20);nt(()=>{E.registerPlugin(W),E.set(i,{opacity:0,y:20});const c=W.create({trigger:n,start:"top bottom",end:"bottom top",onUpdate:d=>{$(r,d.progress*100)}});return()=>{c.kill()}}),et(()=>{i&&E.to(i,{opacity:u(o),y:u(s),duration:.1,ease:"none"})});var a=As(),l=A(a);q(l,c=>i=c,()=>i),k(a),q(a,c=>n=c,()=>n),L(t,a),Z()}var Ts=F('<div class="step-13 svelte-10051yt"><div class="sticky-container svelte-10051yt"><div class="text-content svelte-10051yt"><div class="quotes-background svelte-10051yt"><span class="quote quote-left svelte-10051yt">“</span> <span class="quote quote-right svelte-10051yt">”</span></div> <div class="text-body svelte-10051yt"><div class="first-line svelte-10051yt">Now more than ever, it is important to</div> <div class="second-line svelte-10051yt"><span class="word svelte-10051yt">honor</span> <span class="word svelte-10051yt">our</span> <span class="word svelte-10051yt">civic</span> <span class="word svelte-10051yt">responsibilities.</span></div></div></div> <div class="big-number-container svelte-10051yt"><div class="big-number svelte-10051yt"> </div> <div class="agree-text svelte-10051yt">agree</div></div></div></div>');function Cs(t,e){K(e,!0);let n,i,r,o=Y(0),s=Y(0),a,l=b(()=>Math.max(0,Math.min(1,(u(o)-15)/20))),c=b(()=>Math.max(0,Math.min(1,(u(o)-25)/25))),d=b(()=>Math.max(0,Math.min(1,(u(o)-10)/30))),f=b(()=>()=>u(o)>=15&&u(o)<=35?(u(o)-15)/20:u(o)>35&&u(o)<70?1:u(o)>=70&&u(o)<=90?1-(u(o)-70)/20:0);nt(()=>{E.registerPlugin(W),E.set(i,{opacity:0}),E.set(r,{opacity:0});const w=i?.querySelector(".first-line"),C=i?.querySelectorAll(".second-line .word");w&&E.set(w,{opacity:0,y:-50}),C&&E.set(C,{opacity:0,y:30,scale:.8});const x=W.create({trigger:n,start:"top bottom",end:"bottom top",onUpdate:y=>{$(o,y.progress*100)}});return()=>{x.kill(),a&&a.kill()}}),et(()=>{if(i){E.to(i,{opacity:u(f),duration:.1,ease:"none"}),r&&E.to(r,{opacity:u(d),duration:.1,ease:"none"});const w=i.querySelector(".first-line");if(w){const x=u(l),y=-50+u(l)*50;E.set(w,{opacity:x,y,duration:.1,ease:"none"})}if(i.querySelectorAll(".second-line .word").forEach((x,y)=>{const g=Math.max(0,Math.min(1,(u(c)-y*.15)/.4)),T=g,I=30-g*30,z=.8+g*.2;E.set(x,{opacity:T,y:I,scale:z,duration:.1,ease:"none"})}),u(o)>25){if(!a||!a.isActive()){const x={value:u(s)};a=E.to(x,{value:93,duration:3,ease:"power2.out",onUpdate(){$(s,Math.round(x.value),!0)}})}}else a&&a.kill(),$(s,0)}});var h=Ts(),v=A(h),p=A(v),_=A(p);q(_,w=>r=w,()=>r),Dt(2),k(p),q(p,w=>i=w,()=>i);var M=P(p,2),S=A(M),m=A(S);k(S),Dt(2),k(M),k(v),k(h),q(h,w=>n=w,()=>n),J(()=>Fn(m,`${u(s)??""}%`)),L(t,h),Z()}var $s=F('<div class="dark-bg svelte-1ayam46"><!> <!> <!></div> <div class="dark-bg reverse svelte-1ayam46"><!> <!></div>',1),Ns=F("<!> <!>",1),Ps=F('<div class="scroller svelte-1ayam46"><!> <!></div>');function Ye(t,e){var n=Ps(),i=A(n);{var r=a=>{var l=$s(),c=ot(l),d=A(c);vs(d,{});var f=P(d,2);ms(f,{});var h=P(f,2);ws(h,{}),k(c);var v=P(c,2),p=A(v);bs(p,{});var _=P(p,2);Es(_,{}),k(v),L(a,l)};lt(i,a=>{e.section=="intro"&&a(r)})}var o=P(i,2);{var s=a=>{var l=Ns(),c=ot(l);Ms(c,{});var d=P(c,2);Cs(d,{}),L(a,l)};lt(o,a=>{e.section=="outro"&&a(s)})}k(n),L(t,n)}const dt=[];let Zt;if(typeof window<"u"){const t=()=>dt.forEach(e=>e());window.addEventListener("scroll",t),window.addEventListener("resize",t)}if(typeof IntersectionObserver<"u"){const t=new Map,e=new IntersectionObserver((n,i)=>{n.forEach(r=>{const o=t.get(r.target),s=dt.indexOf(o);r.isIntersecting?s===-1&&dt.push(o):(o(),s!==-1&&dt.splice(s,1))})},{rootMargin:"400px 0px"});Zt={add:({outer:n,update:i})=>{const{top:r,bottom:o}=n.getBoundingClientRect();r<window.innerHeight&&o>0&&dt.push(i),t.set(n,i),e.observe(n)},remove:({outer:n,update:i})=>{const r=dt.indexOf(i);r!==-1&&dt.splice(r,1),t.delete(n),e.unobserve(n)}}}else Zt={add:({update:t})=>{dt.push(t)},remove:({update:t})=>{const e=dt.indexOf(t);e!==-1&&dt.splice(e,1)}};var qs=F("<svelte-scroller-outer><svelte-scroller-background-container><svelte-scroller-background><!></svelte-scroller-background></svelte-scroller-background-container> <svelte-scroller-foreground><!></svelte-scroller-foreground></svelte-scroller-outer>",2);function Rs(t,e){K(e,!1);const n=rt(),i=rt(),r=rt(),o=rt(),s=rt();let a=U(e,"top",8,0),l=U(e,"bottom",8,1),c=U(e,"threshold",8,.5),d=U(e,"query",8,"section"),f=U(e,"parallax",8,!1),h=U(e,"interactiveBg",8,!1),v=U(e,"index",12,0),p=U(e,"count",12,0),_=U(e,"offset",12,0),M=U(e,"progress",12,0),S=U(e,"visible",12,!1),m=rt(),w=rt(),C=rt(),x,y,g=rt(0),T=rt(),I=rt(0),z=rt(1);nt(()=>{y=u(w).querySelectorAll(d()),D();const N={outer:u(m),update:D};return Zt.add(N),()=>Zt.remove(N)});function D(){if(!u(w))return;const N=u(m).getBoundingClientRect();x=N.left,$(z,N.right-x);const Q=u(w).getBoundingClientRect(),ut=u(C).getBoundingClientRect();S(Q.top<u(g)&&Q.bottom>0);const ft=Q.bottom-Q.top,vt=ut.bottom-ut.top,Et=u(i)-u(n);M((u(n)-Q.top)/(ft-Et)),M()<=0?($(I,0),$(T,!1)):M()>=1?($(I,f()?ft-vt:ft-Et),$(T,!1)):($(I,f()?Math.round(u(n)-M()*(vt-Et)):u(n)),$(T,!0));const At=Array.from(y).filter(yt=>window.getComputedStyle(yt).display!=="none");p(At.length);for(let yt=0;yt<At.length;yt++){const ge=At[yt],{top:me}=ge.getBoundingClientRect(),ye=At[yt+1],we=ye?ye.getBoundingClientRect().top:Q.bottom;if(_((u(r)-me)/(we-me)),we>=u(r)){v(yt);break}}}Mt(()=>(wt(a()),u(g)),()=>{$(n,Math.round(a()*u(g)))}),Mt(()=>(wt(l()),u(g)),()=>{$(i,Math.round(l()*u(g)))}),Mt(()=>(wt(c()),u(g)),()=>{$(r,Math.round(c()*u(g)))}),Mt(()=>(wt(a()),wt(l()),wt(c()),wt(f())),()=>{a(),l(),c(),f(),D()}),Mt(()=>(u(T),u(I)),()=>{$(o,`
		position: ${u(T)?"fixed":"absolute"};
		top: 0;
		transform: translate(0, ${u(I)}px);
		z-index: 10;
	`)}),Mt(()=>(u(T),u(z)),()=>{$(s,u(T)?`width:${u(z)}px;`:"")}),In(),Ze();var O=qs();j(O,1,"svelte-xdbafy");var R=A(O);let H;var B=A(R);j(B,1,"svelte-xdbafy");var G=A(B);Me(G,e,"background",{}),k(B),q(B,N=>$(C,N),()=>u(C)),k(R);var X=P(R,2);j(X,1,"svelte-xdbafy");var tt=A(X);Me(tt,e,"foreground",{}),k(X),q(X,N=>$(w,N),()=>u(w)),k(O),q(O,N=>$(m,N),()=>u(m)),J(N=>{H=j(R,1,"background-container svelte-xdbafy",null,H,N),Ct(R,`${u(o)??""}${u(s)??""}`)},[()=>({interactive:h()})],Bn),jn("innerHeight",N=>$(g,N)),L(t,O),Z()}var Os=F('<div role="region" aria-label="Interactive dashboard" aria-describedby="dashboard-content"><!></div>');function Ls(t,e){K(e,!0);let n=U(e,"showDashboard",3,!1),i=U(e,"interactiveMode",15);var r=Qt(),o=ot(r);{var s=a=>{var l=Os();let c;var d=A(l);Ke(d,{get activeId(){return e.activeId},get interactiveMode(){return i()},set interactiveMode(f){i(f)}}),k(l),J(f=>c=j(l,1,`dashboard-wrapper ${i()?"interactive-mode":""}`,"svelte-1hccq8g",c,f),[()=>({visible:n()})]),st(1,l,()=>Tt,()=>({duration:500,delay:500})),st(2,l,()=>Tt,()=>({duration:500})),L(a,l)};lt(o,a=>{n()&&a(s)})}L(t,r),Z()}function Ds(t){document.querySelector(t).scrollIntoView({behavior:"smooth"})}function Fs(t,e){Ue($t,Ut(e).submitted=!0,Ut(e)),setTimeout(()=>{Ds(".matrix.slide[data-index='1']")},10)}var Is=F('<span class="instructions drag">Drag the dot to your guess.<button class="svelte-xv4hqn">Submit</button></span>');function Bs(t,e){K(e,!1);const[n,i]=kt(),r=()=>mt($t,"$userResponse",n);Ze();var o=Qt(),s=ot(o);{var a=l=>{var c=Is(),d=P(A(c));d.__click=[Fs,r],k(c),st(3,c,()=>Tt),L(l,c)};lt(s,l=>{r().submitted||l(a)})}L(t,o),Z(),i()}He(["click"]);var zs=F('<div class="text__component"><!></div>'),Xs=F('<div><div class="text__content text-block content"><!></div> <!></div>');function Ys(t,e){K(e,!0);const[n,i]=kt(),r=()=>mt($t,"$userResponse",n),o={GroupLegend:Zn,Submit:Bs},s=b(()=>[{label:"Generation",value:"generation",series:[{label:"Gen Z",color:_t("--color-theme-blue")},{label:"Baby Boomers",color:_t("--color-theme-yellow")}]},{label:"Political Identification",value:"pid",series:[{label:"Democrats",color:_t("--color-theme-dem-blue")},{label:"Republicans",color:_t("--color-theme-gop-red")}]}]);let a=b(()=>e.content.component?o[e.content.component.id]:null);function l(f){if(!f)return"";const h={userResponse:r().guess.toFixed(0)};return f.replace(/\{(\w+)\}/g,(v,p)=>h[p]!==void 0?h[p]:v)}et(()=>{if(typeof document<"u"){let f=document.querySelector(".show-on-interaction");e.content&&f&&r().userSubmitted===!0&&r().guess.toFixed(0)==87&&(f.textContent="That's right!")}});var c=Qt(),d=ot(c);Kn(d,()=>e.content,f=>{var h=Xs();let v;var p=A(h),_=A(p);Jn(_,()=>e.content.text.split(`\r
`).map(m=>`<p>${l(m)}</p>`).join("")),k(p);var M=P(p,2);{var S=m=>{var w=zs(),C=A(w);const x=b(()=>u(s).find(g=>g.value===e.content.component.series)),y=b(()=>e.content?.component?.variant);Qn(C,()=>u(a),(g,T)=>{T(g,{get options(){return u(x)},get variant(){return u(y)}})}),k(w),L(m,w)};lt(M,m=>{u(a)&&m(S)})}k(h),J(m=>v=j(h,1,"text",null,v,m),[()=>({hide:e.content.hideFooter})]),st(1,h,()=>Ae,()=>({y:-50,duration:400,delay:200})),st(2,h,()=>Ae,()=>({y:50,duration:300})),L(f,h)}),L(t,c),Z(),i()}var Hs=F('<div class="background-container" style="height: 100vh;" role="presentation" aria-hidden="true"><!> <div></div></div> <!>',1),Us=F("<section></section>"),Vs=F('<div role="main" aria-label="Second content slides"></div>');function Gs(t,e){K(e,!0);const[n,i]=kt(),r=()=>mt($t,"$userResponse",n);let o=Y(0),s=Y(0),a=Y(0),l=Y(0),c=0,d=.5,f=1,h=!1;const v=b(()=>e.content.scrolly.slidesFixed[r().submitted?u(s):0]);et(()=>{r().submitted||$(s,0)});const p=b(()=>!!u(v).interactiveBg);Rs(t,{top:c,threshold:d,bottom:f,get interactiveBg(){return u(p)},role:"region","aria-label":"Second interactive content scroll area",get count(){return u(o)},set count(S){$(o,S,!0)},get index(){return u(s)},set index(S){$(s,S,!0)},get offset(){return u(a)},set offset(S){$(a,S,!0)},get progress(){return u(l)},set progress(S){$(l,S,!0)},background:S=>{var m=Hs(),w=ot(m),C=A(w);const x=b(()=>!!u(v).showDashboard);Ls(C,{get count(){return u(o)},get index(){return u(s)},get offset(){return u(a)},get progress(){return u(l)},get activeId(){return u(v).id},get showDashboard(){return u(x)},interactiveMode:h});var y=P(C,2);let g,T;k(w);var I=P(w,2);Ys(I,{get content(){return u(v)}}),J((z,D)=>{at(w,"data-theme",u(v).theme||"default"),g=j(y,1,"progress-indicator svelte-1lorfx0",null,g,z),T=Ct(y,"",T,D)},[()=>({hidden:!r().submitted}),()=>({"--slide-progress":u(a)})]),L(S,m)},foreground:S=>{var m=Vs();j(m,1,"foreground-container "),Ve(m,21,()=>e.content.scrolly.slidesFixed,Ge,(w,C,x)=>{var y=Us();let g;at(y,"data-index",x),J(T=>g=j(y,1,"matrix slide svelte-1lorfx0",null,g,T),[()=>({first:x===0,hidden:!r().submitted&&x>0})]),L(w,y)}),k(m),J(()=>at(m,"data-theme",u(v).theme||"default")),L(S,m)},$$slots:{background:!0,foreground:!0}}),Z(),i()}var Ws=()=>We(fe+"/dashboard?fromExplore=true"),Ks=()=>We(fe+"/quiz?fromExplore=true"),Zs=F(`<div id="explore" class="explore-section svelte-ilke7o"><div class="explore-background svelte-ilke7o"><!></div> <div class="explore-overlay svelte-ilke7o"></div> <div class="explore-content svelte-ilke7o"><div class="explore-title svelte-ilke7o"><h2 class="svelte-ilke7o">Explore further...</h2></div> <div class="explore-columns svelte-ilke7o"><div class="explore-column dashboard-column svelte-ilke7o"><div class="column-content svelte-ilke7o"><h3 class="svelte-ilke7o">Data Dashboard</h3> <p class="svelte-ilke7o">Learn how Americans' beliefs differ by political affiliation, gender, location, and
						more.</p> <button data-button="explore" class="svelte-ilke7o">Explore the data</button></div></div> <div class="explore-column quiz-column svelte-ilke7o"><div class="column-content svelte-ilke7o"><h3 class="svelte-ilke7o">Interactive Quiz</h3> <p class="svelte-ilke7o">How do your beliefs compare to other Americans'?</p> <button data-button="quiz" class="svelte-ilke7o">Start the quiz</button></div></div></div></div></div>`);function Qs(t,e){K(e,!0);let n,i,r,o,s=Y(0),a=b(()=>u(s)>=20?1:0),l=b(()=>u(s)>=20?0:30),c=b(()=>u(s)>=20?1:0),d=b(()=>u(s)>=20?1:.8);nt(()=>{E.registerPlugin(W),E.set(i,{opacity:0,y:30}),E.set(r,{opacity:0,scale:.8}),E.set(o,{opacity:0,scale:.8});const g=W.create({trigger:n,start:"top 80%",end:"bottom 20%",onUpdate:T=>{$(s,T.progress*100)}});return()=>{g.kill()}}),et(()=>{i&&E.to(i,{opacity:u(a),y:u(l),duration:.1,ease:"none"}),r&&E.to(r,{opacity:u(c),scale:u(d),duration:.1,ease:"none"}),o&&E.to(o,{opacity:u(c),scale:u(d),duration:.1,ease:"none"})});var f=Zs(),h=A(f),v=A(h);Ke(v,{activeId:"9999-dashboard",interactiveMode:!0,disableTippy:!0}),k(h);var p=P(h,4),_=A(p);q(_,g=>i=g,()=>i);var M=P(_,2),S=A(M),m=A(S),w=P(A(m),4);w.__click=[Ws],q(w,g=>r=g,()=>r),k(m),k(S);var C=P(S,2),x=A(C),y=P(A(x),4);y.__click=[Ks],q(y,g=>o=g,()=>o),k(x),k(C),k(M),k(p),k(f),q(f,g=>n=g,()=>n),L(t,f),Z()}He(["click"]);var Js=F('<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/> <meta name="description"/>',1),js=F("<!> <!>",1),ta=F("<!> <!> <!>",1),ea=F("<!> <!> <!> <!>",1);function _a(t,e){K(e,!0);const[n,i]=kt(),r=()=>mt(Hn,"$page",n),o=()=>mt($t,"$userResponse",n),{meta:s,content:a}=Yn;let l=Y(!1),c=Y(!1);function d(){const y=window.pageYOffset||document.documentElement.scrollTop,g=document.documentElement.scrollHeight,T=window.innerHeight;y+T>=g-10&&!u(l)&&o().submitted&&setTimeout(()=>{$(l,!0)},500)}function f(){r().url.href.includes("?fromExplore=true")&&(Ue($t,Ut(o).submitted=!0,Ut(o)),$(l,!0),setTimeout(()=>{const g=document.getElementById("explore");g&&g.scrollIntoView();const T=new URL(window.location.href);T.searchParams.delete("fromExplore"),window.history.replaceState({},"",T.pathname+T.search+T.hash)},0)),setTimeout(()=>{d()},100)}function h(){u(c)||(window.addEventListener("scroll",d),$(c,!0))}function v(){u(c)&&(window.removeEventListener("scroll",d),$(c,!1))}nt(()=>(f(),h(),()=>{v()})),et(()=>{const y=r().route.id;r().url.pathname,y==="/"?setTimeout(()=>{f(),h()},0):v()}),Un(({to:y})=>{y?.route.id==="/"?setTimeout(()=>{f(),h()},10):v()});var p=ea();zn(y=>{var g=Js(),T=P(ot(g),2);J(()=>{Xn.title=s.title,at(T,"content",s.description)}),L(y,g)});var _=ot(p);const M=b(()=>a.hero.video||"/assets/videos/web-bg.mp4"),S=b(()=>a.hero.poster||"/assets/videos/placeholder.jpg");ii(_,{get videoSrc(){return u(M)},get poster(){return u(S)},get heroText(){return a.hero.text}});var m=P(_,2);Ye(m,{section:"intro"});var w=P(m,2);Gs(w,{get content(){return a}});var C=P(w,2);{var x=y=>{var g=ta(),T=ot(g);Ye(T,{section:"outro"});var I=P(T,2);Qs(I,{});var z=P(I,2);{var D=O=>{var R=js(),H=ot(R);Vn(H,{});var B=P(H,2);Gn(B),L(O,R)};lt(z,O=>{u(l)&&O(D)})}L(y,g)};lt(C,y=>{o().submitted&&y(x)})}L(t,p),Z(),i()}export{_a as component};
