import"../chunks/NZTpNUN0.js";import{K as J,h as we,a as xe,w as An,bc as Mn,d as be,au as qn,aJ as Cn,bd as Tn,be as $n,aM as Se,Z as Nn,bf as Pn,at as Bt,bg as Rn,b8 as On,J as K,ah as et,A as D,O as A,C as R,N as Z,s as $,ai as H,an as Lt,P as E,F as N,j as u,aj as Ee,f as nt,ak as b,R as Qt,B as ot,Q as Dn,bh as kt,bi as Ln,aa as Fn,v as rt,k as wt,am as He,g as Ut,ao as In,aq as Bn}from"../chunks/CeDBCaGf.js";import{p as z,i as lt,b as St,a as $t,c as ze}from"../chunks/CYoJYW9r.js";import{a as at,b as At,i as Ue,s as j,e as Ve,c as Ge}from"../chunks/5dv1ZvhQ.js";import{b as Xn}from"../chunks/Cb3K8nMi.js";import{s as ke,c as Yn,p as Hn}from"../chunks/TLVA74OP.js";import"../chunks/DkEFbHeo.js";import{t as st,e as ee,b as Mt,f as Ae}from"../chunks/CB2lV5pK.js";import{g as k,S as W,E as zn,F as Un}from"../chunks/CDxLxxrn.js";import{i as xt,a as Me,b as Vn,c as qe,l as Ce,g as gt,D as We,u as qt,k as Gn,G as Wn}from"../chunks/CSTsBewX.js";import{b as Te}from"../chunks/BJC4vQVC.js";import{b as P}from"../chunks/xfigmB9a.js";import"../chunks/B-TkYvY6.js";import{i as Ke}from"../chunks/BzHYRiTH.js";import{c as Kn}from"../chunks/C3XygPge.js";function Zn(t,e,n=!1,i=!1,r=!1){var o=t,s="";J(()=>{var a=An;if(s===(s=e()??"")){we&&xe();return}if(a.nodes_start!==null&&(Mn(a.nodes_start,a.nodes_end),a.nodes_start=a.nodes_end=null),s!==""){if(we){be.data;for(var c=xe(),l=c;c!==null&&(c.nodeType!==qn||c.data!=="");)l=c,c=Cn(c);if(c===null)throw Tn(),$n;Se(be,l),o=Nn(c);return}var d=s+"";n?d=`<svg>${d}</svg>`:i&&(d=`<math>${d}</math>`);var f=Pn(d);if((n||i)&&(f=Bt(f)),Se(Bt(f),f.lastChild),n||i)for(;Bt(f);)o.before(Bt(f));else o.before(f)}})}function Qn(t,e){Rn(window,["resize"],()=>On(()=>e(window[t])))}var Jn=D('<div class="hero-title svelte-1joyxxh"><h1 class="svelte-1joyxxh">What do we</h1> <h1 class="svelte-1joyxxh">owe each other</h1> <h1 class="svelte-1joyxxh">as Americans?</h1></div>'),jn=D('<div class="scroll-down svelte-1joyxxh"><span class="svelte-1joyxxh">Scroll down</span></div>'),ti=D(`<section class="hero-section svelte-1joyxxh" role="banner" aria-label="Hero section"><div class="hero-video-bg svelte-1joyxxh" role="presentation" aria-hidden="true"><video autoplay loop playsinline="" aria-label="Background video" class="svelte-1joyxxh"><source type="video/mp4" class="svelte-1joyxxh"/> <p class="svelte-1joyxxh">Your browser doesn't support HTML5 video.</p></video> <div class="hero-video-overlay svelte-1joyxxh"></div> <div class="hero-video-blur svelte-1joyxxh"></div></div> <div class="hero-content svelte-1joyxxh"><!></div> <!></section>`,2);function ei(t,e){K(e,!0);let n=z(e,"videoSrc",3,"/assets/videos/civic-montage.mp4"),i=z(e,"poster",3,"/assets/videos/placeholder.jpg");z(e,"heroText",3,"");let r=H(!1);et(()=>{$(r,!0)});var o=ti(),s=A(o),a=A(s);a.muted=!0;var c=A(a);Lt(2),E(a),Lt(4),E(s);var l=N(s,2),d=A(l);{var f=p=>{var g=Jn(),q=A(g),x=N(q,2),_=N(x,2);E(g),st(3,q,()=>ee,()=>({axis:"y",duration:1e3,delay:150})),st(3,x,()=>ee,()=>({axis:"y",duration:1e3,delay:300})),st(3,_,()=>ee,()=>({axis:"y",duration:1e3,delay:450})),R(p,g)};lt(d,p=>{u(r)&&p(f)})}E(l);var h=N(l,2);{var v=p=>{var g=jn();st(1,g,()=>Mt,()=>({duration:1e3,delay:1e3})),R(p,g)};lt(h,p=>{u(r)&&p(v)})}E(o),J(()=>{at(a,"poster",i()),at(c,"src",Xn+n())}),R(t,o),Z()}function ne(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(r);++i<r;)o[i]=t+i*n;return o}var ni={value:()=>{}};function Ze(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Yt(n)}function Yt(t){this._=t}function ii(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Yt.prototype=Ze.prototype={constructor:Yt,on:function(t,e){var n=this._,i=ii(t+"",n),r,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((r=(t=i[o]).type)&&(r=ri(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(r=(t=i[o]).type)n[r]=$e(n[r],t.name,e);else if(e==null)for(r in n)n[r]=$e(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Yt(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,o;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};function ri(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function $e(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=ni,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var ie="http://www.w3.org/1999/xhtml";const Ne={svg:"http://www.w3.org/2000/svg",xhtml:ie,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jt(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ne.hasOwnProperty(e)?{space:Ne[e],local:t}:t}function oi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ie&&e.documentElement.namespaceURI===ie?e.createElement(t):e.createElementNS(n,t)}}function si(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Qe(t){var e=Jt(t);return(e.local?si:oi)(e)}function ai(){}function ue(t){return t==null?ai:function(){return this.querySelector(t)}}function li(t){typeof t!="function"&&(t=ue(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=new Array(s),c,l,d=0;d<s;++d)(c=o[d])&&(l=t.call(c,c.__data__,d,o))&&("__data__"in c&&(l.__data__=c.__data__),a[d]=l);return new it(i,this._parents)}function ci(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ui(){return[]}function Je(t){return t==null?ui:function(){return this.querySelectorAll(t)}}function fi(t){return function(){return ci(t.apply(this,arguments))}}function di(t){typeof t=="function"?t=fi(t):t=Je(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s=e[o],a=s.length,c,l=0;l<a;++l)(c=s[l])&&(i.push(t.call(c,c.__data__,l,s)),r.push(c));return new it(i,r)}function je(t){return function(){return this.matches(t)}}function tn(t){return function(e){return e.matches(t)}}var hi=Array.prototype.find;function vi(t){return function(){return hi.call(this.children,t)}}function pi(){return this.firstElementChild}function _i(t){return this.select(t==null?pi:vi(typeof t=="function"?t:tn(t)))}var gi=Array.prototype.filter;function mi(){return Array.from(this.children)}function yi(t){return function(){return gi.call(this.children,t)}}function wi(t){return this.selectAll(t==null?mi:yi(typeof t=="function"?t:tn(t)))}function xi(t){typeof t!="function"&&(t=je(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=[],c,l=0;l<s;++l)(c=o[l])&&t.call(c,c.__data__,l,o)&&a.push(c);return new it(i,this._parents)}function en(t){return new Array(t.length)}function bi(){return new it(this._enter||this._groups.map(en),this._parents)}function Vt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Vt.prototype={constructor:Vt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Si(t){return function(){return t}}function Ei(t,e,n,i,r,o){for(var s=0,a,c=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new Vt(t,o[s]);for(;s<c;++s)(a=e[s])&&(r[s]=a)}function ki(t,e,n,i,r,o,s){var a,c,l=new Map,d=e.length,f=o.length,h=new Array(d),v;for(a=0;a<d;++a)(c=e[a])&&(h[a]=v=s.call(c,c.__data__,a,e)+"",l.has(v)?r[a]=c:l.set(v,c));for(a=0;a<f;++a)v=s.call(t,o[a],a,o)+"",(c=l.get(v))?(i[a]=c,c.__data__=o[a],l.delete(v)):n[a]=new Vt(t,o[a]);for(a=0;a<d;++a)(c=e[a])&&l.get(h[a])===c&&(r[a]=c)}function Ai(t){return t.__data__}function Mi(t,e){if(!arguments.length)return Array.from(this,Ai);var n=e?ki:Ei,i=this._parents,r=this._groups;typeof t!="function"&&(t=Si(t));for(var o=r.length,s=new Array(o),a=new Array(o),c=new Array(o),l=0;l<o;++l){var d=i[l],f=r[l],h=f.length,v=qi(t.call(d,d&&d.__data__,l,i)),p=v.length,g=a[l]=new Array(p),q=s[l]=new Array(p),x=c[l]=new Array(h);n(d,f,g,q,x,v,e);for(var _=0,m=0,M,w;_<p;++_)if(M=g[_]){for(_>=m&&(m=_+1);!(w=q[m])&&++m<p;);M._next=w||null}}return s=new it(s,i),s._enter=a,s._exit=c,s}function qi(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ci(){return new it(this._exit||this._groups.map(en),this._parents)}function Ti(t,e,n){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?o.remove():n(o),i&&r?i.merge(r).order():r}function $i(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,s=Math.min(r,o),a=new Array(r),c=0;c<s;++c)for(var l=n[c],d=i[c],f=l.length,h=a[c]=new Array(f),v,p=0;p<f;++p)(v=l[p]||d[p])&&(h[p]=v);for(;c<r;++c)a[c]=n[c];return new it(a,this._parents)}function Ni(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,o=i[r],s;--r>=0;)(s=i[r])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Pi(t){t||(t=Ri);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s=n[o],a=s.length,c=r[o]=new Array(a),l,d=0;d<a;++d)(l=s[d])&&(c[d]=l);c.sort(e)}return new it(r,this._parents).order()}function Ri(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Oi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Di(){return Array.from(this)}function Li(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null}function Fi(){let t=0;for(const e of this)++t;return t}function Ii(){return!this.node()}function Bi(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],o=0,s=r.length,a;o<s;++o)(a=r[o])&&t.call(a,a.__data__,o,r);return this}function Xi(t){return function(){this.removeAttribute(t)}}function Yi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hi(t,e){return function(){this.setAttribute(t,e)}}function zi(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ui(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Vi(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Gi(t,e){var n=Jt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Yi:Xi:typeof e=="function"?n.local?Vi:Ui:n.local?zi:Hi)(n,e))}function nn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Wi(t){return function(){this.style.removeProperty(t)}}function Ki(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Zi(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Qi(t,e,n){return arguments.length>1?this.each((e==null?Wi:typeof e=="function"?Zi:Ki)(t,e,n??"")):Ct(this.node(),t)}function Ct(t,e){return t.style.getPropertyValue(e)||nn(t).getComputedStyle(t,null).getPropertyValue(e)}function Ji(t){return function(){delete this[t]}}function ji(t,e){return function(){this[t]=e}}function tr(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function er(t,e){return arguments.length>1?this.each((e==null?Ji:typeof e=="function"?tr:ji)(t,e)):this.node()[t]}function rn(t){return t.trim().split(/^|\s+/)}function fe(t){return t.classList||new on(t)}function on(t){this._node=t,this._names=rn(t.getAttribute("class")||"")}on.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function sn(t,e){for(var n=fe(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function an(t,e){for(var n=fe(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function nr(t){return function(){sn(this,t)}}function ir(t){return function(){an(this,t)}}function rr(t,e){return function(){(e.apply(this,arguments)?sn:an)(this,t)}}function or(t,e){var n=rn(t+"");if(arguments.length<2){for(var i=fe(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?rr:e?nr:ir)(n,e))}function sr(){this.textContent=""}function ar(t){return function(){this.textContent=t}}function lr(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function cr(t){return arguments.length?this.each(t==null?sr:(typeof t=="function"?lr:ar)(t)):this.node().textContent}function ur(){this.innerHTML=""}function fr(t){return function(){this.innerHTML=t}}function dr(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function hr(t){return arguments.length?this.each(t==null?ur:(typeof t=="function"?dr:fr)(t)):this.node().innerHTML}function vr(){this.nextSibling&&this.parentNode.appendChild(this)}function pr(){return this.each(vr)}function _r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gr(){return this.each(_r)}function mr(t){var e=typeof t=="function"?t:Qe(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function yr(){return null}function wr(t,e){var n=typeof t=="function"?t:Qe(t),i=e==null?yr:typeof e=="function"?e:ue(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function xr(){var t=this.parentNode;t&&t.removeChild(this)}function br(){return this.each(xr)}function Sr(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Er(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function kr(t){return this.select(t?Er:Sr)}function Ar(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Mr(t){return function(e){t.call(this,e,this.__data__)}}function qr(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Cr(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,o;n<r;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++i]=o;++i?e.length=i:delete this.__on}}}function Tr(t,e,n){return function(){var i=this.__on,r,o=Mr(e);if(i){for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=e;return}}this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function $r(t,e,n){var i=qr(t+""),r,o=i.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,l=a.length,d;c<l;++c)for(r=0,d=a[c];r<o;++r)if((s=i[r]).type===d.type&&s.name===d.name)return d.value}return}for(a=e?Tr:Cr,r=0;r<o;++r)this.each(a(i[r],e,n));return this}function ln(t,e,n){var i=nn(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Nr(t,e){return function(){return ln(this,t,e)}}function Pr(t,e){return function(){return ln(this,t,e.apply(this,arguments))}}function Rr(t,e){return this.each((typeof e=="function"?Pr:Nr)(t,e))}function*Or(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length,s;r<o;++r)(s=i[r])&&(yield s)}var cn=[null];function it(t,e){this._groups=t,this._parents=e}function It(){return new it([[document.documentElement]],cn)}function Dr(){return this}it.prototype=It.prototype={constructor:it,select:li,selectAll:di,selectChild:_i,selectChildren:wi,filter:xi,data:Mi,enter:bi,exit:Ci,join:Ti,merge:$i,selection:Dr,order:Ni,sort:Pi,call:Oi,nodes:Di,node:Li,size:Fi,empty:Ii,each:Bi,attr:Gi,style:Qi,property:er,classed:or,text:cr,html:hr,raise:pr,lower:gr,append:mr,insert:wr,remove:br,clone:kr,datum:Ar,on:$r,dispatch:Rr,[Symbol.iterator]:Or};function Pe(t){return typeof t=="string"?new it([[document.querySelector(t)]],[document.documentElement]):new it([[t]],cn)}var Re=180/Math.PI,re={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function un(t,e,n,i,r,o){var s,a,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,c/=a),t*i<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Re,skewX:Math.atan(c)*Re,scaleX:s,scaleY:a}}var Xt;function Lr(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?re:un(e.a,e.b,e.c,e.d,e.e,e.f)}function Fr(t){return t==null||(Xt||(Xt=document.createElementNS("http://www.w3.org/2000/svg","g")),Xt.setAttribute("transform",t),!(t=Xt.transform.baseVal.consolidate()))?re:(t=t.matrix,un(t.a,t.b,t.c,t.d,t.e,t.f))}function fn(t,e,n,i){function r(l){return l.length?l.pop()+" ":""}function o(l,d,f,h,v,p){if(l!==f||d!==h){var g=v.push("translate(",null,e,null,n);p.push({i:g-4,x:xt(l,f)},{i:g-2,x:xt(d,h)})}else(f||h)&&v.push("translate("+f+e+h+n)}function s(l,d,f,h){l!==d?(l-d>180?d+=360:d-l>180&&(l+=360),h.push({i:f.push(r(f)+"rotate(",null,i)-2,x:xt(l,d)})):d&&f.push(r(f)+"rotate("+d+i)}function a(l,d,f,h){l!==d?h.push({i:f.push(r(f)+"skewX(",null,i)-2,x:xt(l,d)}):d&&f.push(r(f)+"skewX("+d+i)}function c(l,d,f,h,v,p){if(l!==f||d!==h){var g=v.push(r(v)+"scale(",null,",",null,")");p.push({i:g-4,x:xt(l,f)},{i:g-2,x:xt(d,h)})}else(f!==1||h!==1)&&v.push(r(v)+"scale("+f+","+h+")")}return function(l,d){var f=[],h=[];return l=t(l),d=t(d),o(l.translateX,l.translateY,d.translateX,d.translateY,f,h),s(l.rotate,d.rotate,f,h),a(l.skewX,d.skewX,f,h),c(l.scaleX,l.scaleY,d.scaleX,d.scaleY,f,h),l=d=null,function(v){for(var p=-1,g=h.length,q;++p<g;)f[(q=h[p]).i]=q.x(v);return f.join("")}}}var Ir=fn(Lr,"px, ","px)","deg)"),Br=fn(Fr,", ",")",")"),Tt=0,Rt=0,Pt=0,dn=1e3,Gt,Ot,Wt=0,Et=0,jt=0,Ft=typeof performance=="object"&&performance.now?performance:Date,hn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function de(){return Et||(hn(Xr),Et=Ft.now()+jt)}function Xr(){Et=0}function Kt(){this._call=this._time=this._next=null}Kt.prototype=vn.prototype={constructor:Kt,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?de():+n)+(e==null?0:+e),!this._next&&Ot!==this&&(Ot?Ot._next=this:Gt=this,Ot=this),this._call=t,this._time=n,oe()},stop:function(){this._call&&(this._call=null,this._time=1/0,oe())}};function vn(t,e,n){var i=new Kt;return i.restart(t,e,n),i}function Yr(){de(),++Tt;for(var t=Gt,e;t;)(e=Et-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Tt}function Oe(){Et=(Wt=Ft.now())+jt,Tt=Rt=0;try{Yr()}finally{Tt=0,zr(),Et=0}}function Hr(){var t=Ft.now(),e=t-Wt;e>dn&&(jt-=e,Wt=t)}function zr(){for(var t,e=Gt,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Gt=n);Ot=t,oe(i)}function oe(t){if(!Tt){Rt&&(Rt=clearTimeout(Rt));var e=t-Et;e>24?(t<1/0&&(Rt=setTimeout(Oe,t-Ft.now()-jt)),Pt&&(Pt=clearInterval(Pt))):(Pt||(Wt=Ft.now(),Pt=setInterval(Hr,dn)),Tt=1,hn(Oe))}}function De(t,e,n){var i=new Kt;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}var Ur=Ze("start","end","cancel","interrupt"),Vr=[],pn=0,Le=1,se=2,Ht=3,Fe=4,ae=5,zt=6;function te(t,e,n,i,r,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Gr(t,n,{name:e,index:i,group:r,on:Ur,tween:Vr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:pn})}function he(t,e){var n=ct(t,e);if(n.state>pn)throw new Error("too late; already scheduled");return n}function ht(t,e){var n=ct(t,e);if(n.state>Ht)throw new Error("too late; already running");return n}function ct(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Gr(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=vn(o,0,n.time);function o(l){n.state=Le,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var d,f,h,v;if(n.state!==Le)return c();for(d in i)if(v=i[d],v.name===n.name){if(v.state===Ht)return De(s);v.state===Fe?(v.state=zt,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete i[d]):+d<e&&(v.state=zt,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete i[d])}if(De(function(){n.state===Ht&&(n.state=Fe,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=se,n.on.call("start",t,t.__data__,n.index,n.group),n.state===se){for(n.state=Ht,r=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(v=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(r[++f]=v);r.length=f+1}}function a(l){for(var d=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=ae,1),f=-1,h=r.length;++f<h;)r[f].call(t,d);n.state===ae&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=zt,n.timer.stop(),delete i[e];for(var l in i)return;delete t.__transition}}function Wr(t,e){var n=t.__transition,i,r,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){o=!1;continue}r=i.state>se&&i.state<ae,i.state=zt,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}o&&delete t.__transition}}function Kr(t){return this.each(function(){Wr(this,t)})}function Zr(t,e){var n,i;return function(){var r=ht(this,t),o=r.tween;if(o!==n){i=n=o;for(var s=0,a=i.length;s<a;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function Qr(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var o=ht(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},c=0,l=r.length;c<l;++c)if(r[c].name===e){r[c]=a;break}c===l&&r.push(a)}o.tween=r}}function Jr(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=ct(this.node(),n).tween,r=0,o=i.length,s;r<o;++r)if((s=i[r]).name===t)return s.value;return null}return this.each((e==null?Zr:Qr)(n,t,e))}function ve(t,e,n){var i=t._id;return t.each(function(){var r=ht(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return ct(r,i).value[e]}}function _n(t,e){var n;return(typeof e=="number"?xt:e instanceof qe?Me:(n=qe(e))?(e=n,Me):Vn)(t,e)}function jr(t){return function(){this.removeAttribute(t)}}function to(t){return function(){this.removeAttributeNS(t.space,t.local)}}function eo(t,e,n){var i,r=n+"",o;return function(){var s=this.getAttribute(t);return s===r?null:s===i?o:o=e(i=s,n)}}function no(t,e,n){var i,r=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===r?null:s===i?o:o=e(i=s,n)}}function io(t,e,n){var i,r,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),c=a+"",s===c?null:s===i&&c===r?o:(r=c,o=e(i=s,a)))}}function ro(t,e,n){var i,r,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),c=a+"",s===c?null:s===i&&c===r?o:(r=c,o=e(i=s,a)))}}function oo(t,e){var n=Jt(t),i=n==="transform"?Br:_n;return this.attrTween(t,typeof e=="function"?(n.local?ro:io)(n,i,ve(this,"attr."+t,e)):e==null?(n.local?to:jr)(n):(n.local?no:eo)(n,i,e))}function so(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ao(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function lo(t,e){var n,i;function r(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&ao(t,o)),n}return r._value=e,r}function co(t,e){var n,i;function r(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&so(t,o)),n}return r._value=e,r}function uo(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Jt(t);return this.tween(n,(i.local?lo:co)(i,e))}function fo(t,e){return function(){he(this,t).delay=+e.apply(this,arguments)}}function ho(t,e){return e=+e,function(){he(this,t).delay=e}}function vo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?fo:ho)(e,t)):ct(this.node(),e).delay}function po(t,e){return function(){ht(this,t).duration=+e.apply(this,arguments)}}function _o(t,e){return e=+e,function(){ht(this,t).duration=e}}function go(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?po:_o)(e,t)):ct(this.node(),e).duration}function mo(t,e){if(typeof e!="function")throw new Error;return function(){ht(this,t).ease=e}}function yo(t){var e=this._id;return arguments.length?this.each(mo(e,t)):ct(this.node(),e).ease}function wo(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ht(this,t).ease=n}}function xo(t){if(typeof t!="function")throw new Error;return this.each(wo(this._id,t))}function bo(t){typeof t!="function"&&(t=je(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=[],c,l=0;l<s;++l)(c=o[l])&&t.call(c,c.__data__,l,o)&&a.push(c);return new mt(i,this._parents,this._name,this._id)}function So(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var c=e[a],l=n[a],d=c.length,f=s[a]=new Array(d),h,v=0;v<d;++v)(h=c[v]||l[v])&&(f[v]=h);for(;a<i;++a)s[a]=e[a];return new mt(s,this._parents,this._name,this._id)}function Eo(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function ko(t,e,n){var i,r,o=Eo(e)?he:ht;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}function Ao(t,e){var n=this._id;return arguments.length<2?ct(this.node(),n).on.on(t):this.each(ko(n,t,e))}function Mo(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function qo(){return this.on("end.remove",Mo(this._id))}function Co(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ue(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a=i[s],c=a.length,l=o[s]=new Array(c),d,f,h=0;h<c;++h)(d=a[h])&&(f=t.call(d,d.__data__,h,a))&&("__data__"in d&&(f.__data__=d.__data__),l[h]=f,te(l[h],e,n,h,l,ct(d,n)));return new mt(o,this._parents,e,n)}function To(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Je(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var c=i[a],l=c.length,d,f=0;f<l;++f)if(d=c[f]){for(var h=t.call(d,d.__data__,f,c),v,p=ct(d,n),g=0,q=h.length;g<q;++g)(v=h[g])&&te(v,e,n,g,h,p);o.push(h),s.push(d)}return new mt(o,s,e,n)}var $o=It.prototype.constructor;function No(){return new $o(this._groups,this._parents)}function Po(t,e){var n,i,r;return function(){var o=Ct(this,t),s=(this.style.removeProperty(t),Ct(this,t));return o===s?null:o===n&&s===i?r:r=e(n=o,i=s)}}function gn(t){return function(){this.style.removeProperty(t)}}function Ro(t,e,n){var i,r=n+"",o;return function(){var s=Ct(this,t);return s===r?null:s===i?o:o=e(i=s,n)}}function Oo(t,e,n){var i,r,o;return function(){var s=Ct(this,t),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),Ct(this,t))),s===c?null:s===i&&c===r?o:(r=c,o=e(i=s,a))}}function Do(t,e){var n,i,r,o="style."+e,s="end."+o,a;return function(){var c=ht(this,t),l=c.on,d=c.value[o]==null?a||(a=gn(e)):void 0;(l!==n||r!==d)&&(i=(n=l).copy()).on(s,r=d),c.on=i}}function Lo(t,e,n){var i=(t+="")=="transform"?Ir:_n;return e==null?this.styleTween(t,Po(t,i)).on("end.style."+t,gn(t)):typeof e=="function"?this.styleTween(t,Oo(t,i,ve(this,"style."+t,e))).each(Do(this._id,t)):this.styleTween(t,Ro(t,i,e),n).on("end.style."+t,null)}function Fo(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Io(t,e,n){var i,r;function o(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&Fo(t,s,n)),i}return o._value=e,o}function Bo(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Io(t,e,n??""))}function Xo(t){return function(){this.textContent=t}}function Yo(t){return function(){var e=t(this);this.textContent=e??""}}function Ho(t){return this.tween("text",typeof t=="function"?Yo(ve(this,"text",t)):Xo(t==null?"":t+""))}function zo(t){return function(e){this.textContent=t.call(this,e)}}function Uo(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&zo(r)),e}return i._value=t,i}function Vo(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Uo(t))}function Go(){for(var t=this._name,e=this._id,n=mn(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,c,l=0;l<a;++l)if(c=s[l]){var d=ct(c,e);te(c,t,n,l,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new mt(i,this._parents,t,n)}function Wo(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(o,s){var a={value:s},c={value:function(){--r===0&&o()}};n.each(function(){var l=ht(this,i),d=l.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),l.on=e}),r===0&&o()})}var Ko=0;function mt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function mn(){return++Ko}var _t=It.prototype;mt.prototype={constructor:mt,select:Co,selectAll:To,selectChild:_t.selectChild,selectChildren:_t.selectChildren,filter:bo,merge:So,selection:No,transition:Go,call:_t.call,nodes:_t.nodes,node:_t.node,size:_t.size,empty:_t.empty,each:_t.each,on:Ao,attr:oo,attrTween:uo,style:Lo,styleTween:Bo,text:Ho,textTween:Vo,remove:qo,tween:Jr,delay:vo,duration:go,ease:yo,easeVarying:xo,end:Wo,[Symbol.iterator]:_t[Symbol.iterator]};const Ie=t=>+t;function Zo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Qo={time:null,delay:0,duration:250,ease:Zo};function Jo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function jo(t){var e,n;t instanceof mt?(e=t._id,t=t._name):(e=mn(),(n=Qo).time=de(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,c,l=0;l<a;++l)(c=s[l])&&te(c,t,e,l,s,n||Jo(c,e));return new mt(i,this._parents,t,e)}It.prototype.interrupt=Kr;It.prototype.transition=jo;const le=Math.PI,ce=2*le,bt=1e-6,ts=ce-bt;function yn(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function es(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return yn;const n=10**e;return function(i){this._+=i[0];for(let r=1,o=i.length;r<o;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class ns{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?yn:es(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,o,s){this._append`C${+e},${+n},${+i},${+r},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,i,r,o){if(e=+e,n=+n,i=+i,r=+r,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,c=i-e,l=r-n,d=s-e,f=a-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>bt)if(!(Math.abs(f*c-l*d)>bt)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let v=i-s,p=r-a,g=c*c+l*l,q=v*v+p*p,x=Math.sqrt(g),_=Math.sqrt(h),m=o*Math.tan((le-Math.acos((g+h-q)/(2*x*_)))/2),M=m/_,w=m/x;Math.abs(M-1)>bt&&this._append`L${e+M*d},${n+M*f}`,this._append`A${o},${o},0,0,${+(f*v>d*p)},${this._x1=e+w*c},${this._y1=n+w*l}`}}arc(e,n,i,r,o,s){if(e=+e,n=+n,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(r),c=i*Math.sin(r),l=e+a,d=n+c,f=1^s,h=s?r-o:o-r;this._x1===null?this._append`M${l},${d}`:(Math.abs(this._x1-l)>bt||Math.abs(this._y1-d)>bt)&&this._append`L${l},${d}`,i&&(h<0&&(h=h%ce+ce),h>ts?this._append`A${i},${i},0,1,${f},${e-a},${n-c}A${i},${i},0,1,${f},${this._x1=l},${this._y1=d}`:h>bt&&this._append`A${i},${i},0,${+(h>=le)},${f},${this._x1=e+i*Math.cos(o)},${this._y1=n+i*Math.sin(o)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function U(t){return function(){return t}}function wn(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new ns(e)}function xn(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bn(t){this._context=t}bn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function pe(t){return new bn(t)}function Sn(t){return t[0]}function En(t){return t[1]}function is(t,e){var n=U(!0),i=null,r=pe,o=null,s=wn(a);t=typeof t=="function"?t:t===void 0?Sn:U(t),e=typeof e=="function"?e:e===void 0?En:U(e);function a(c){var l,d=(c=xn(c)).length,f,h=!1,v;for(i==null&&(o=r(v=s())),l=0;l<=d;++l)!(l<d&&n(f=c[l],l,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,l,c),+e(f,l,c));if(v)return o=null,v+""||null}return a.x=function(c){return arguments.length?(t=typeof c=="function"?c:U(+c),a):t},a.y=function(c){return arguments.length?(e=typeof c=="function"?c:U(+c),a):e},a.defined=function(c){return arguments.length?(n=typeof c=="function"?c:U(!!c),a):n},a.curve=function(c){return arguments.length?(r=c,i!=null&&(o=r(i)),a):r},a.context=function(c){return arguments.length?(c==null?i=o=null:o=r(i=c),a):i},a}function rs(t,e,n){var i=null,r=U(!0),o=null,s=pe,a=null,c=wn(l);t=typeof t=="function"?t:t===void 0?Sn:U(+t),e=typeof e=="function"?e:U(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?En:U(+n);function l(f){var h,v,p,g=(f=xn(f)).length,q,x=!1,_,m=new Array(g),M=new Array(g);for(o==null&&(a=s(_=c())),h=0;h<=g;++h){if(!(h<g&&r(q=f[h],h,f))===x)if(x=!x)v=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=h-1;p>=v;--p)a.point(m[p],M[p]);a.lineEnd(),a.areaEnd()}x&&(m[h]=+t(q,h,f),M[h]=+e(q,h,f),a.point(i?+i(q,h,f):m[h],n?+n(q,h,f):M[h]))}if(_)return a=null,_+""||null}function d(){return is().defined(r).curve(s).context(o)}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:U(+f),i=null,l):t},l.x0=function(f){return arguments.length?(t=typeof f=="function"?f:U(+f),l):t},l.x1=function(f){return arguments.length?(i=f==null?null:typeof f=="function"?f:U(+f),l):i},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:U(+f),n=null,l):e},l.y0=function(f){return arguments.length?(e=typeof f=="function"?f:U(+f),l):e},l.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:U(+f),l):n},l.lineX0=l.lineY0=function(){return d().x(t).y(e)},l.lineY1=function(){return d().x(t).y(n)},l.lineX1=function(){return d().x(i).y(e)},l.defined=function(f){return arguments.length?(r=typeof f=="function"?f:U(!!f),l):r},l.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),l):s},l.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),l):o},l}function Be(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function kn(t){this._context=t}kn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Be(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Be(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function os(t){return new kn(t)}function Dt(t,e,n){this.k=t,this.x=e,this.y=n}Dt.prototype={constructor:Dt,scale:function(t){return t===1?this:new Dt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Dt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Dt.prototype;function ss(){if(typeof window>"u")return!1;const t=navigator.hardwareConcurrency||4,e=navigator.deviceMemory||4,n=navigator.connection,i=n&&(n.effectiveType==="slow-2g"||n.effectiveType==="2g"||n.saveData===!0);return t<=2||e<=2||i}function as(){return typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches}function ls(){const t=ss();return{enabled:!as(),complexity:t?"low":"high",targetFPS:t?30:60,d3Duration:t?100:50,disableHeavyEffects:t}}var cs=D('<div class="inner-container svelte-10tfcss"><svg width="100%" class="svelte-10tfcss"><g transform="translate(0, 1)"><path fill="url(#leftGradient)" opacity="0.8" class="svelte-10tfcss"></path><path fill="url(#rightGradient)" opacity="0.8" class="svelte-10tfcss"></path></g></svg></div>');function us(t,e){K(e,!0);let n=z(e,"offset",3,0),i=z(e,"width",7);const r=.1,o=.9,s=ne(-5,5.01,10/20);let a=H(void 0),c=H(void 0),l=H(void 0);function d({years:S=10,bins:y=21,sigma:C=1,separationStart:I=.5,separationEnd:O=5}={}){const L=(B,G,X)=>Math.exp(-.5*((B-G)/X)**2)/(X*Math.sqrt(2*Math.PI)),F=Array.from({length:y},(B,G)=>(G/(y-1)*6-3)*C);function Y(B,G){let X=F.map(T=>L(T,B,G));const tt=X.reduce((T,Q)=>T+Q,0);return X.map(T=>T/tt*100)}const V=[];for(let B=0;B<S;B++){const G=S===1?0:B/(S-1),X=I+G*(O-I),tt=-X/2,T=X/2,Q=Y(tt,C),ut=Y(T,C);V.push([{name:"Dem",data:Q.map(vt=>+vt.toFixed(2))},{name:"REP",data:ut.map(vt=>+vt.toFixed(2))}])}return V}const f=d({years:12,bins:21,sigma:1,separationStart:.5,separationEnd:4});et(async()=>{await Ee(),i(u(a).clientWidth),g()});const h=ls();let v=-1,p;const g=()=>{if(!h.enabled||Math.abs(n()-v)<.01)return;v=n();const S=(n()-r)/(o-r),y=Math.max(0,Math.min(1,S)),C=f.length,I=y*(C-1),O=Math.floor(I),L=Math.min(O+1,C-1),F=I-O,Y=f[O][0].data,V=f[O][1].data,B=f[L][0].data,G=f[L][1].data,X=ne(Y.length).map(ft=>Y[ft]*(1-F)+B[ft]*F),tt=ne(V.length).map(ft=>V[ft]*(1-F)+G[ft]*F),T=Math.max(...X,...tt),Q=Ce().domain([-5,5]).range([0,i()]),ut=Ce().domain([0,T]).range([e.height,0]),vt=h.complexity==="low"?pe:os,Nt=ft=>rs().x((yt,pt)=>Q(s[pt])).y0(e.height).y1(yt=>ut(yt)).curve(vt);p&&cancelAnimationFrame(p),p=requestAnimationFrame(()=>{Pe(u(c)).transition().duration(h.d3Duration).ease(Ie).attr("d",Nt()(X)),Pe(u(l)).transition().duration(h.d3Duration).ease(Ie).attr("d",Nt()(tt))})};nt(()=>{g()});const q=()=>{const S=document.querySelector("svg");if(!S)return;const y=S.querySelector("defs");y&&y.remove();const C=S.appendChild(document.createElementNS("http://www.w3.org/2000/svg","defs")),I=(O,L)=>{const F=C.appendChild(document.createElementNS("http://www.w3.org/2000/svg","radialGradient"));F.setAttribute("id",O),F.setAttribute("cx","50%"),F.setAttribute("cy","50%"),F.setAttribute("r","100%");const Y=F.appendChild(document.createElementNS("http://www.w3.org/2000/svg","stop"));Y.setAttribute("offset","20%"),Y.setAttribute("stop-color",L);const V=F.appendChild(document.createElementNS("http://www.w3.org/2000/svg","stop"));V.setAttribute("offset","100%"),V.setAttribute("stop-color",gt("--color-theme-blue"))};I("leftGradient",gt("--color-theme-dem-blue")),I("rightGradient",gt("--color-theme-gop-red"))};et(async()=>{await Ee(),q()});var x=cs(),_=A(x),m=A(_),M=A(m);P(M,S=>$(c,S),()=>u(c));var w=N(M);P(w,S=>$(l,S),()=>u(l)),E(m),E(_),P(_,S=>$(a,S),()=>u(a)),E(x),J((S,y)=>{at(_,"height",e.height),at(M,"stroke",S),at(w,"stroke",y)},[()=>gt("--color-theme-dem-blue"),()=>gt("--color-theme-gop-red")]),st(7,_,()=>Mt,()=>({duration:400})),st(5,x,()=>Mt,()=>({duration:400,delay:500})),R(t,x),Z()}var fs=D('<div class="step-1 svelte-1uqnj3"><div class="text-content svelte-1uqnj3"><div class="text-body svelte-1uqnj3">Our country is growing more<br class="svelte-1uqnj3"/><span class="text-accent svelte-1uqnj3">polarized</span></div></div> <div class="art-content svelte-1uqnj3"><!></div></div>');function ds(t,e){K(e,!0);let n,i,r,o=H(0),s=b(()=>u(o)>=25?1:0),a=b(()=>u(o)>=25?0:-50),c=25,l=b(()=>u(o)>=c?Math.min(1,(u(o)-c)*.04):0),d=b(()=>u(o)>=c?Math.min(1,(u(o)-c)*.02):0),f=b(()=>u(d)*.5);et(()=>{k.registerPlugin(W),W.config({ignoreMobileResize:!0}),k.set(i,{opacity:0,y:-50}),k.set(r,{opacity:0});const w=W.create({trigger:n,start:"top bottom",end:"bottom top",onUpdate:S=>{$(o,S.progress*100)}});return()=>{w.kill()}}),nt(()=>{i&&k.to(i,{opacity:u(s),y:u(a),duration:.1,ease:"none"}),r&&k.to(r,{opacity:u(l),duration:.1,ease:"none"})});let h=H(void 0),v=H(void 0);var p=fs(),g=A(p),q=A(g),x=N(A(q),2);E(q),E(g),P(g,w=>i=w,()=>i);var _=N(g,2),m=A(_);{var M=w=>{us(w,{get offset(){return u(d)},get height(){return u(h)},get width(){return u(v)}})};lt(m,w=>{u(h)&&u(v)&&w(M)})}E(_),P(_,w=>r=w,()=>r),E(p),P(p,w=>n=w,()=>n),J(()=>At(x,`letter-spacing: ${u(f)??""}em; --gradient-opacity: ${u(d)??""}`)),Te(_,"clientHeight",w=>$(h,w)),Te(_,"clientWidth",w=>$(v,w)),R(t,p),Z()}var hs=D('<div class="d-words text-body svelte-r7ifgb"><div><span class="text-accent svelte-r7ifgb">divided</span> in our beliefs,</div> <div><span class="text-accent svelte-r7ifgb">disillusioned</span> with our politics, and</div> <div><span class="text-accent svelte-r7ifgb">distrustful</span> of each other.</div></div>'),vs=D('<div class="d-words text-body svelte-r7ifgb"><div><span class="text-accent svelte-r7ifgb">divided</span> in our beliefs,</div> <div><span class="text-accent svelte-r7ifgb">disillusioned</span> with our politics, and</div> <div><span class="text-accent svelte-r7ifgb">distrustful</span> of each other.</div></div>'),ps=D('<div class="step-2 svelte-r7ifgb"><div class="text-content svelte-r7ifgb"><div class="text-body svelte-r7ifgb"><span class="text-accent">We are increasingly</span></div> <!></div></div>');function _s(t,e){K(e,!0);const[n,i]=$t(),r=()=>St(Ue,"$isMobile",n);let o,s,a,c,l,d=H(0),f=b(()=>u(d)>=20?1:0),h=b(()=>u(d)>=20?0:-30),v=b(()=>Math.max(0,Math.min(1,(u(d)-15)/15))),p=b(()=>Math.max(0,Math.min(1,(u(d)-30)/15))),g=b(()=>Math.max(0,Math.min(1,(u(d)-45)/15))),q=b(()=>300-u(v)*300),x=b(()=>300-u(p)*300),_=b(()=>300-u(g)*300),m=b(()=>u(v)>.7),M=b(()=>u(p)>.7),w=b(()=>u(g)>.7);et(()=>{k.registerPlugin(W),k.set(s,{opacity:0,y:-30}),k.set(a,{x:300,opacity:0}),k.set(c,{x:300,opacity:0}),k.set(l,{x:300,opacity:0});const L=W.create({trigger:o,start:"top bottom",end:"bottom top",onUpdate:F=>{$(d,F.progress*100)}});return()=>{L.kill()}}),nt(()=>{s&&k.to(s,{opacity:u(f),y:u(h),duration:.1,ease:"none"}),a&&k.set(a,{x:u(q),opacity:u(v)}),c&&k.set(c,{x:u(x),opacity:u(p)}),l&&k.set(l,{x:u(_),opacity:u(g)})});var S=ps(),y=A(S),C=N(A(y),2);{var I=L=>{var F=hs(),Y=A(F);let V;P(Y,T=>a=T,()=>a);var B=N(Y,2);let G;P(B,T=>c=T,()=>c);var X=N(B,2);let tt;P(X,T=>l=T,()=>l),E(F),J((T,Q,ut)=>{V=j(Y,1,"d-word svelte-r7ifgb",null,V,T),G=j(B,1,"d-word svelte-r7ifgb",null,G,Q),tt=j(X,1,"d-word svelte-r7ifgb",null,tt,ut)},[()=>({visible:u(m)}),()=>({visible:u(M)}),()=>({visible:u(w)})]),R(L,F)},O=L=>{var F=vs(),Y=A(F);let V;P(Y,T=>a=T,()=>a);var B=N(Y,2);let G;P(B,T=>c=T,()=>c);var X=N(B,2);let tt;P(X,T=>l=T,()=>l),E(F),J((T,Q,ut)=>{V=j(Y,1,"d-word svelte-r7ifgb",null,V,T),G=j(B,1,"d-word svelte-r7ifgb",null,G,Q),tt=j(X,1,"d-word svelte-r7ifgb",null,tt,ut)},[()=>({visible:u(m)}),()=>({visible:u(M)}),()=>({visible:u(w)})]),R(L,F)};lt(C,L=>{r()?L(I):L(O,!1)})}E(y),P(y,L=>s=L,()=>s),E(S),P(S,L=>o=L,()=>o),R(t,S),Z(),i()}var gs=D(`<div class="step-3 svelte-a3ag8a"><div class="background-container svelte-a3ag8a"><div class="background-image svelte-a3ag8a"></div> <div class="color-overlay svelte-a3ag8a"></div></div> <div class="text-overlay svelte-a3ag8a"><div class="text-body">As we approach America's 250th anniversary, it is important to remember the <b>civic responsibilities</b> we all share.</div></div></div>`);function ms(t,e){K(e,!0);let n,i,r,o=H(0),s=b(()=>u(o)>=20?1:0),a=b(()=>u(o)>=20?0:30),c=b(()=>u(o)*10),l=b(()=>.25+u(o)/90*.6),d=b(()=>1+u(o)/100*.2);et(()=>{k.registerPlugin(W),k.set(r,{opacity:0,y:30});const p=W.create({trigger:n,start:"top bottom",end:"bottom top",onUpdate:g=>{$(o,g.progress*100)}});return()=>{p.kill()}}),nt(()=>{if(r&&k.to(r,{opacity:u(s),y:u(a)+u(c),duration:.1,ease:"none"}),i){const p=i.querySelector(".color-overlay"),g=i.querySelector(".background-image");p&&k.set(p,{opacity:u(l)}),g&&k.set(g,{scale:u(d)})}});var f=gs(),h=A(f);P(h,p=>i=p,()=>i);var v=N(h,2);P(v,p=>r=p,()=>r),E(f),P(f,p=>n=p,()=>n),R(t,f),Z()}var ys=D('<div class="step-4 svelte-1wbto4d"><div class="text-content svelte-1wbto4d"><div class="text-body">We asked 5,000 Americans from all 50 states: <b class="svelte-1wbto4d">What are our civic responsibilities as Americans?</b></div></div> <div class="definition-content svelte-1wbto4d"><div class="dictionary-entry svelte-1wbto4d"><div class="term svelte-1wbto4d"><span class="term-text svelte-1wbto4d">civic responsibilities</span></div> <div class="part-of-speech svelte-1wbto4d">noun phrase</div> <div class="definition-text svelte-1wbto4d">Behaviors people are expected to perform as upstanding members of our national community.</div></div></div></div>');function ws(t,e){K(e,!0);const[n,i]=$t(),r=()=>St(Ue,"$isMobile",n);let o,s,a,c=H(0),l=H(0),d=H(0),f=b(()=>Math.max(u(l),u(d))),h=b(()=>Math.max(0,Math.min(1,(u(c)-20)/15))),v=b(()=>u(h)),p=b(()=>-200+u(h)*200),g=b(()=>Math.max(0,Math.min(1,(u(c)-35)/15))),q=b(()=>u(g)),x=b(()=>200-u(g)*200);et(()=>{k.registerPlugin(W),s&&$(l,s.offsetHeight,!0),a&&$(d,a.offsetHeight,!0),k.set(s,{opacity:0,x:-200}),k.set(a,{x:200,opacity:0});const y=W.create({trigger:o,start:"top bottom",end:"bottom top",onUpdate:C=>{$(c,C.progress*100)}});return()=>{y.kill()}}),nt(()=>{s&&k.set(s,{opacity:u(v),x:u(p)}),a&&k.set(a,{x:u(x),opacity:u(q)})});var _=ys(),m=A(_);let M;P(m,y=>s=y,()=>s);var w=N(m,2);let S;P(w,y=>a=y,()=>a),E(_),P(_,y=>o=y,()=>o),J((y,C)=>{M=At(m,"",M,y),S=At(w,"",S,C)},[()=>({"min-height":r()?"auto":`${u(f)}px`}),()=>({"min-height":r()?"auto":`${u(f)}px`})]),R(t,_),Z(),i()}var xs=D('<div class="comment-item svelte-xwwfsa"><img class="svelte-xwwfsa"/></div>');function Xe(t,e){K(e,!0);let n=z(e,"progress",3,0),i=z(e,"startProgress",3,0),r=z(e,"endProgress",3,1),o=[],s=b(()=>()=>n()<i()?0:n()>r()?1:(n()-i())/(r()-i()));nt(()=>{o.forEach((l,d)=>{if(l){const h=e.commentData[d].position.scale||.3;k.set(l,{scale:h*.5,opacity:0,y:100})}})}),nt(()=>{const l=u(s)();o.forEach((d,f)=>{if(d){const v=e.commentData[f].position.scale||1,p=Math.max(0,Math.min(1,(l-f*.1)/.3)),g=v*.5,q=g+p*(v-g),x=p,_=(1-p)*100;k.to(d,{scale:q,opacity:x,y:_,duration:.1,ease:"power2.out"})}})});var a=Qt(),c=ot(a);Ve(c,17,()=>e.commentData,Ge,(l,d,f)=>{var h=xs(),v=A(h);E(h),P(h,(p,g)=>o[g]=p,p=>o?.[p],()=>[f]),J(()=>{At(h,`
        top: ${u(d).position.top??""}; 
        left: ${u(d).position.left??""};
      `),at(v,"src",`/assets/comments/${u(d).name}`),at(v,"alt",u(d).text)}),R(l,h)}),R(t,a),Z()}var bs=D('<div class="step-5 svelte-1o0k95o"><div class="section expected svelte-1o0k95o"><div class="text-content svelte-1o0k95o"><div class="text-body">Some answers we expected</div></div> <div class="comments-container svelte-1o0k95o"><!></div></div> <div class="section surprising svelte-1o0k95o"><div class="text-content svelte-1o0k95o"><div class="text-body">Others surprised us</div></div> <div class="comments-container svelte-1o0k95o"><!></div></div></div> <div class="space svelte-1o0k95o"></div>',1);function Ss(t,e){K(e,!0);const n=[{text:"Honoring the Constitution",name:"honoring-the-constitution.png",position:{top:"5%",left:"10%",scale:1}},{text:"Practicing freedom of speech",name:"practicing-freedom-of-speech.png",position:{top:"40%",left:"15%",scale:.7,direction:"right"}},{text:"Obeying the law",name:"obeying-the-law.png",position:{top:"20%",left:"65%",scale:.8}},{text:"Paying your taxes",name:"paying-your-taxes.png",position:{top:"100%",left:"5%",scale:1,direction:"right"}},{text:"Serving on a jury",name:"serving-on-a-jury.png",position:{top:"65%",left:"50%",scale:1}},{text:"Voting",name:"voting.png",position:{top:"100%",left:"70%",scale:.8,direction:"right"}}],i=[{text:"Tolerating differences",name:"tolerating-differences.png",position:{top:"15%",left:"10%",scale:.7,direction:"right"}},{text:"Protecting the environment",name:"protecting-the-environment.png",position:{top:"20%",left:"70%",scale:.8}},{text:"Helping one's community",name:"helping-ones-community.png",position:{top:"40%",left:"50%",scale:.7,direction:"right"}},{text:"Caring for future generations",name:"caring-for-future-generations.png",position:{top:"60%",left:"10%",scale:.9}},{text:"Making one's voice heard",name:"making-one-s-voice-heard.png",position:{top:"95%",left:"10%",scale:.8}},{text:"Being grateful for your opportunities",name:"being-grateful-for-your-opportunities.png",position:{top:"85%",left:"65%",scale:1,direction:"right"}}];let r,o,s,a,c,l=H(0),d=b(()=>u(l)>=10?1:0),f=b(()=>u(l)>=10?0:-30),h=b(()=>u(l)>=15?Math.min(1,(u(l)-15)/25):0),v=b(()=>u(l)>=55?1:0),p=b(()=>u(l)>=55?0:-30),g=b(()=>u(l)>=60?Math.min(1,(u(l)-60)/20):0);et(()=>{k.registerPlugin(W),k.set(o,{opacity:0,y:-30}),k.set(a,{opacity:0,y:-30});const O=W.create({trigger:r,start:"top bottom",end:"bottom top",onUpdate:L=>{$(l,L.progress*100)}});return()=>{O.kill()}}),nt(()=>{o&&k.to(o,{opacity:u(d),y:u(f),duration:.2,ease:"none"}),a&&k.to(a,{opacity:u(v),y:u(p),duration:.2,ease:"none"})});var q=bs(),x=ot(q),_=A(x),m=A(_);P(m,O=>o=O,()=>o);var M=N(m,2),w=A(M);Xe(w,{get commentData(){return n},get progress(){return u(h)},startProgress:0,endProgress:1}),E(M),P(M,O=>s=O,()=>s),E(_);var S=N(_,2),y=A(S);P(y,O=>a=O,()=>a);var C=N(y,2),I=A(C);Xe(I,{get commentData(){return i},get progress(){return u(g)},startProgress:0,endProgress:1}),E(C),P(C,O=>c=O,()=>c),E(S),E(x),P(x,O=>r=O,()=>r),Lt(2),R(t,q),Z()}var Es=D('<div class="step-12 svelte-1lo2ten"><div class="text-content svelte-1lo2ten"><div class="text-body svelte-1lo2ten">Yet despite these differences, <b class="svelte-1lo2ten">93% of Americans</b> agree on one thing…</div></div></div>');function ks(t,e){K(e,!0);let n,i,r=H(0),o=b(()=>Math.max(0,Math.min(1,(u(r)-20)/30))),s=b(()=>20-u(o)*20);et(()=>{k.registerPlugin(W),k.set(i,{opacity:0,y:20});const l=W.create({trigger:n,start:"top bottom",end:"bottom top",onUpdate:d=>{$(r,d.progress*100)}});return()=>{l.kill()}}),nt(()=>{i&&k.to(i,{opacity:u(o),y:u(s),duration:.1,ease:"none"})});var a=Es(),c=A(a);P(c,l=>i=l,()=>i),E(a),P(a,l=>n=l,()=>n),R(t,a),Z()}var As=D('<div class="step-13 svelte-6juy4g"><div class="sticky-container svelte-6juy4g"><div class="text-content svelte-6juy4g"><div class="quotes-background svelte-6juy4g"><span class="quote quote-left svelte-6juy4g">“</span> <span class="quote quote-right svelte-6juy4g">”</span></div> <div class="text-body svelte-6juy4g"><div class="first-line svelte-6juy4g">Now more than ever, it is important to</div> <div class="second-line svelte-6juy4g"><span class="word svelte-6juy4g">honor</span> <span class="word svelte-6juy4g">our</span> <span class="word svelte-6juy4g">civic</span> <span class="word svelte-6juy4g">responsibilities.</span></div></div></div> <div class="big-number-container svelte-6juy4g"><div class="big-number svelte-6juy4g"> </div> <div class="agree-text svelte-6juy4g">agree</div></div></div></div>');function Ms(t,e){K(e,!0);let n,i,r,o=H(0),s=H(0),a,c=b(()=>Math.max(0,Math.min(1,(u(o)-15)/20))),l=b(()=>Math.max(0,Math.min(1,(u(o)-25)/25))),d=b(()=>Math.max(0,Math.min(1,(u(o)-10)/30))),f=b(()=>()=>u(o)>=15&&u(o)<=35?(u(o)-15)/20:u(o)>35&&u(o)<70?1:u(o)>=70&&u(o)<=90?1-(u(o)-70)/20:0);et(()=>{k.registerPlugin(W),k.set(i,{opacity:0}),k.set(r,{opacity:0});const m=i?.querySelector(".first-line"),M=i?.querySelectorAll(".second-line .word");m&&k.set(m,{opacity:0,y:-50}),M&&k.set(M,{opacity:0,y:30,scale:.8});const w=W.create({trigger:n,start:"top bottom",end:"bottom top",onUpdate:S=>{$(o,S.progress*100)}});return()=>{w.kill(),a&&a.kill()}}),nt(()=>{if(i){k.to(i,{opacity:u(f),duration:.1,ease:"none"}),r&&k.to(r,{opacity:u(d),duration:.1,ease:"none"});const m=i.querySelector(".first-line");if(m){const w=u(c),S=-50+u(c)*50;k.set(m,{opacity:w,y:S,duration:.1,ease:"none"})}if(i.querySelectorAll(".second-line .word").forEach((w,S)=>{const y=Math.max(0,Math.min(1,(u(l)-S*.15)/.4)),C=y,I=30-y*30,O=.8+y*.2;k.set(w,{opacity:C,y:I,scale:O,duration:.1,ease:"none"})}),u(o)>25){if(!a||!a.isActive()){const w={value:u(s)};a=k.to(w,{value:93,duration:3,ease:"power2.out",onUpdate(){$(s,Math.round(w.value),!0)}})}}else a&&a.kill(),$(s,0)}});var h=As(),v=A(h),p=A(v),g=A(p);P(g,m=>r=m,()=>r),Lt(2),E(p),P(p,m=>i=m,()=>i);var q=N(p,2),x=A(q),_=A(x);E(x),Lt(2),E(q),E(v),E(h),P(h,m=>n=m,()=>n),J(()=>Dn(_,`${u(s)??""}%`)),R(t,h),Z()}var qs=D('<div class="dark-bg svelte-1ayam46"><!> <!> <!></div> <div class="dark-bg reverse svelte-1ayam46"><!> <!></div>',1),Cs=D("<!> <!>",1),Ts=D('<div class="scroller svelte-1ayam46"><!> <!></div>');function Ye(t,e){var n=Ts(),i=A(n);{var r=a=>{var c=qs(),l=ot(c),d=A(l);ds(d,{});var f=N(d,2);_s(f,{});var h=N(f,2);ms(h,{}),E(l);var v=N(l,2),p=A(v);ws(p,{});var g=N(p,2);Ss(g,{}),E(v),R(a,c)};lt(i,a=>{e.section=="intro"&&a(r)})}var o=N(i,2);{var s=a=>{var c=Cs(),l=ot(c);ks(l,{});var d=N(l,2);Ms(d,{}),R(a,c)};lt(o,a=>{e.section=="outro"&&a(s)})}E(n),R(t,n)}const dt=[];let Zt;if(typeof window<"u"){const t=()=>dt.forEach(e=>e());window.addEventListener("scroll",t),window.addEventListener("resize",t)}if(typeof IntersectionObserver<"u"){const t=new Map,e=new IntersectionObserver((n,i)=>{n.forEach(r=>{const o=t.get(r.target),s=dt.indexOf(o);r.isIntersecting?s===-1&&dt.push(o):(o(),s!==-1&&dt.splice(s,1))})},{rootMargin:"400px 0px"});Zt={add:({outer:n,update:i})=>{const{top:r,bottom:o}=n.getBoundingClientRect();r<window.innerHeight&&o>0&&dt.push(i),t.set(n,i),e.observe(n)},remove:({outer:n,update:i})=>{const r=dt.indexOf(i);r!==-1&&dt.splice(r,1),t.delete(n),e.unobserve(n)}}}else Zt={add:({update:t})=>{dt.push(t)},remove:({update:t})=>{const e=dt.indexOf(t);e!==-1&&dt.splice(e,1)}};var $s=D("<svelte-scroller-outer><svelte-scroller-background-container><svelte-scroller-background><!></svelte-scroller-background></svelte-scroller-background-container> <svelte-scroller-foreground><!></svelte-scroller-foreground></svelte-scroller-outer>",2);function Ns(t,e){K(e,!1);const n=rt(),i=rt(),r=rt(),o=rt(),s=rt();let a=z(e,"top",8,0),c=z(e,"bottom",8,1),l=z(e,"threshold",8,.5),d=z(e,"query",8,"section"),f=z(e,"parallax",8,!1),h=z(e,"interactiveBg",8,!1),v=z(e,"index",12,0),p=z(e,"count",12,0),g=z(e,"offset",12,0),q=z(e,"progress",12,0),x=z(e,"visible",12,!1),_=rt(),m=rt(),M=rt(),w,S,y=rt(0),C=rt(),I=rt(0),O=rt(1);et(()=>{S=u(m).querySelectorAll(d()),L();const T={outer:u(_),update:L};return Zt.add(T),()=>Zt.remove(T)});function L(){if(!u(m))return;const T=u(_).getBoundingClientRect();w=T.left,$(O,T.right-w);const Q=u(m).getBoundingClientRect(),ut=u(M).getBoundingClientRect();x(Q.top<u(y)&&Q.bottom>0);const vt=Q.bottom-Q.top,Nt=ut.bottom-ut.top,ft=u(i)-u(n);q((u(n)-Q.top)/(vt-ft)),q()<=0?($(I,0),$(C,!1)):q()>=1?($(I,f()?vt-Nt:vt-ft),$(C,!1)):($(I,f()?Math.round(u(n)-q()*(Nt-ft)):u(n)),$(C,!0));const yt=Array.from(S).filter(pt=>window.getComputedStyle(pt).display!=="none");p(yt.length);for(let pt=0;pt<yt.length;pt++){const _e=yt[pt],{top:ge}=_e.getBoundingClientRect(),me=yt[pt+1],ye=me?me.getBoundingClientRect().top:Q.bottom;if(g((u(r)-ge)/(ye-ge)),ye>=u(r)){v(pt);break}}}kt(()=>(wt(a()),u(y)),()=>{$(n,Math.round(a()*u(y)))}),kt(()=>(wt(c()),u(y)),()=>{$(i,Math.round(c()*u(y)))}),kt(()=>(wt(l()),u(y)),()=>{$(r,Math.round(l()*u(y)))}),kt(()=>(wt(a()),wt(c()),wt(l()),wt(f())),()=>{a(),c(),l(),f(),L()}),kt(()=>(u(C),u(I)),()=>{$(o,`
		position: ${u(C)?"fixed":"absolute"};
		top: 0;
		transform: translate(0, ${u(I)}px);
		z-index: 10;
	`)}),kt(()=>(u(C),u(O)),()=>{$(s,u(C)?`width:${u(O)}px;`:"")}),Ln(),Ke();var F=$s();j(F,1,"svelte-xdbafy");var Y=A(F);let V;var B=A(Y);j(B,1,"svelte-xdbafy");var G=A(B);ke(G,e,"background",{}),E(B),P(B,T=>$(M,T),()=>u(M)),E(Y);var X=N(Y,2);j(X,1,"svelte-xdbafy");var tt=A(X);ke(tt,e,"foreground",{}),E(X),P(X,T=>$(m,T),()=>u(m)),E(F),P(F,T=>$(_,T),()=>u(_)),J(T=>{V=j(Y,1,"background-container svelte-xdbafy",null,V,T),At(Y,`${u(o)??""}${u(s)??""}`)},[()=>({interactive:h()})],Fn),Qn("innerHeight",T=>$(y,T)),R(t,F),Z()}var Ps=D('<div role="region" aria-label="Interactive dashboard" aria-describedby="dashboard-content"><!></div>');function Rs(t,e){K(e,!0);let n=z(e,"showDashboard",3,!1),i=z(e,"interactiveMode",15);var r=Qt(),o=ot(r);{var s=a=>{var c=Ps();let l;var d=A(c);We(d,{get activeId(){return e.activeId},get interactiveMode(){return i()},set interactiveMode(f){i(f)}}),E(c),J(f=>l=j(c,1,`dashboard-wrapper ${i()?"interactive-mode":""}`,"svelte-1hccq8g",l,f),[()=>({visible:n()})]),st(1,c,()=>Mt,()=>({duration:500,delay:500})),st(2,c,()=>Mt,()=>({duration:500})),R(a,c)};lt(o,a=>{n()&&a(s)})}R(t,r),Z()}function Os(t){document.querySelector(t).scrollIntoView({behavior:"smooth"})}function Ds(t,e){ze(qt,Ut(e).submitted=!0,Ut(e)),setTimeout(()=>{Os(".matrix.slide[data-index='1']")},10)}var Ls=D('<span class="instructions drag">Drag the dot to your guess.<button class="svelte-xv4hqn">Submit</button></span>');function Fs(t,e){K(e,!1);const[n,i]=$t(),r=()=>St(qt,"$userResponse",n);Ke();var o=Qt(),s=ot(o);{var a=c=>{var l=Ls(),d=N(A(l));d.__click=[Ds,r],E(l),st(3,l,()=>Mt),R(c,l)};lt(s,c=>{r().submitted||c(a)})}R(t,o),Z(),i()}He(["click"]);var Is=D('<div class="text__component"><!></div>'),Bs=D('<div><div class="text__content text-block content"><!></div> <!></div>');function Xs(t,e){K(e,!0);const[n,i]=$t(),r=()=>St(qt,"$userResponse",n),o={GroupLegend:Wn,Submit:Fs},s=b(()=>[{label:"Generation",value:"generation",series:[{label:"Gen Z",color:gt("--color-theme-blue")},{label:"Baby Boomers",color:gt("--color-theme-yellow")}]},{label:"Political Identification",value:"pid",series:[{label:"Democrats",color:gt("--color-theme-dem-blue")},{label:"Republicans",color:gt("--color-theme-gop-red")}]}]);let a=b(()=>e.content.component?o[e.content.component.id]:null);function c(f){if(!f)return"";const h={userResponse:r().guess.toFixed(0)};return f.replace(/\{(\w+)\}/g,(v,p)=>h[p]!==void 0?h[p]:v)}nt(()=>{if(typeof document<"u"){let f=document.querySelector(".show-on-interaction");e.content&&f&&r().userSubmitted===!0&&r().guess.toFixed(0)==87&&(f.textContent="That's right!")}});var l=Qt(),d=ot(l);Gn(d,()=>e.content,f=>{var h=Bs();let v;var p=A(h),g=A(p);Zn(g,()=>e.content.text.split(`\r
`).map(_=>`<p>${c(_)}</p>`).join("")),E(p);var q=N(p,2);{var x=_=>{var m=Is(),M=A(m);const w=b(()=>u(s).find(y=>y.value===e.content.component.series)),S=b(()=>e.content?.component?.variant);Kn(M,()=>u(a),(y,C)=>{C(y,{get options(){return u(w)},get variant(){return u(S)}})}),E(m),R(_,m)};lt(q,_=>{u(a)&&_(x)})}E(h),J(_=>v=j(h,1,"text",null,v,_),[()=>({hide:e.content.hideFooter})]),st(1,h,()=>Ae,()=>({y:-50,duration:400,delay:200})),st(2,h,()=>Ae,()=>({y:50,duration:300})),R(f,h)}),R(t,l),Z(),i()}var Ys=D('<div class="background-container" style="height: 100vh;" role="presentation" aria-hidden="true"><!> <div></div></div> <!>',1),Hs=D("<section></section>"),zs=D('<div role="main" aria-label="Second content slides"></div>');function Us(t,e){K(e,!0);const[n,i]=$t(),r=()=>St(qt,"$userResponse",n);let o=H(0),s=H(0),a=H(0),c=H(0),l=0,d=.5,f=1,h=!1;const v=b(()=>e.content.scrolly.slidesFixed[r().submitted?u(s):0]);nt(()=>{r().submitted||$(s,0)});const p=b(()=>!!u(v).interactiveBg);Ns(t,{top:l,threshold:d,bottom:f,get interactiveBg(){return u(p)},role:"region","aria-label":"Second interactive content scroll area",get count(){return u(o)},set count(x){$(o,x,!0)},get index(){return u(s)},set index(x){$(s,x,!0)},get offset(){return u(a)},set offset(x){$(a,x,!0)},get progress(){return u(c)},set progress(x){$(c,x,!0)},background:x=>{var _=Ys(),m=ot(_),M=A(m);const w=b(()=>!!u(v).showDashboard);Rs(M,{get count(){return u(o)},get index(){return u(s)},get offset(){return u(a)},get progress(){return u(c)},get activeId(){return u(v).id},get showDashboard(){return u(w)},interactiveMode:h});var S=N(M,2);let y,C;E(m);var I=N(m,2);Xs(I,{get content(){return u(v)}}),J((O,L)=>{at(m,"data-theme",u(v).theme||"default"),y=j(S,1,"progress-indicator svelte-1lorfx0",null,y,O),C=At(S,"",C,L)},[()=>({hidden:!r().submitted}),()=>({"--slide-progress":u(a)})]),R(x,_)},foreground:x=>{var _=zs();j(_,1,"foreground-container "),Ve(_,21,()=>e.content.scrolly.slidesFixed,Ge,(m,M,w)=>{var S=Hs();let y;at(S,"data-index",w),J(C=>y=j(S,1,"matrix slide svelte-1lorfx0",null,y,C),[()=>({first:w===0,hidden:!r().submitted&&w>0})]),R(m,S)}),E(_),J(()=>at(_,"data-theme",u(v).theme||"default")),R(x,_)},$$slots:{background:!0,foreground:!0}}),Z(),i()}var Vs=()=>window.open("/dashboard?fromExplore=true","_blank"),Gs=()=>window.open("/quiz?fromExplore=true","_blank"),Ws=D(`<div id="explore" class="explore-section svelte-qwffc0"><div class="explore-background svelte-qwffc0"><!></div> <div class="explore-overlay svelte-qwffc0"></div> <div class="explore-content svelte-qwffc0"><div class="explore-title svelte-qwffc0"><h2 class="svelte-qwffc0">Explore further...</h2></div> <div class="explore-columns svelte-qwffc0"><div class="explore-column dashboard-column svelte-qwffc0"><div class="column-content svelte-qwffc0"><h3 class="svelte-qwffc0">Data Dashboard</h3> <p class="svelte-qwffc0">Learn how Americans' beliefs differ by political affiliation, gender, location, and more.</p> <button data-button="explore" class="svelte-qwffc0">Explore the data</button></div></div> <div class="explore-column quiz-column svelte-qwffc0"><div class="column-content svelte-qwffc0"><h3 class="svelte-qwffc0">Interactive Quiz</h3> <p class="svelte-qwffc0">How do your beliefs compare to other Americans'</p> <button data-button="quiz" class="svelte-qwffc0">Start the quiz</button></div></div></div></div></div>`);function Ks(t,e){K(e,!0);let n,i,r,o,s=H(0),a=b(()=>u(s)>=20?1:0),c=b(()=>u(s)>=20?0:30),l=b(()=>u(s)>=20?1:0),d=b(()=>u(s)>=20?1:.8);et(()=>{k.registerPlugin(W),k.set(i,{opacity:0,y:30}),k.set(r,{opacity:0,scale:.8}),k.set(o,{opacity:0,scale:.8});const y=W.create({trigger:n,start:"top 80%",end:"bottom 20%",onUpdate:C=>{$(s,C.progress*100)}});return()=>{y.kill()}}),nt(()=>{i&&k.to(i,{opacity:u(a),y:u(c),duration:.1,ease:"none"}),r&&k.to(r,{opacity:u(l),scale:u(d),duration:.1,ease:"none"}),o&&k.to(o,{opacity:u(l),scale:u(d),duration:.1,ease:"none"})});var f=Ws(),h=A(f),v=A(h);We(v,{activeId:"9999-dashboard",interactiveMode:!0,disableTippy:!0}),E(h);var p=N(h,4),g=A(p);P(g,y=>i=y,()=>i);var q=N(g,2),x=A(q),_=A(x),m=N(A(_),4);m.__click=[Vs],P(m,y=>r=y,()=>r),E(_),E(x);var M=N(x,2),w=A(M),S=N(A(w),4);S.__click=[Gs],P(S,y=>o=y,()=>o),E(w),E(M),E(q),E(p),E(f),P(f,y=>n=y,()=>n),R(t,f),Z()}He(["click"]);var Zs=D('<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/> <meta name="description"/>',1),Qs=D("<!> <!>",1),Js=D("<!> <!> <!>",1),js=D("<!> <!> <!> <!>",1);function pa(t,e){K(e,!0);const[n,i]=$t(),r=()=>St(qt,"$userResponse",n),o=()=>St(Hn,"$page",n),{meta:s,content:a}=Yn;let c=H(!1);function l(){const _=window.pageYOffset||document.documentElement.scrollTop,m=document.documentElement.scrollHeight,M=window.innerHeight;_+M>=m-10&&!u(c)&&r().submitted&&setTimeout(()=>{$(c,!0)},500)}et(()=>(o().url.href.includes("?fromExplore=true")&&(ze(qt,Ut(r).submitted=!0,Ut(r)),$(c,!0),setTimeout(()=>{document.getElementById("explore").scrollIntoView();const m=new URL(window.location.href);m.searchParams.delete("fromExplore"),window.history.replaceState({},"",m.pathname+m.search+m.hash)},0)),l(),window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}));var d=js();In(_=>{var m=Zs(),M=N(ot(m),2);J(()=>{Bn.title=s.title,at(M,"content",s.description)}),R(_,m)});var f=ot(d);const h=b(()=>a.hero.video||"/assets/videos/web-bg.mp4"),v=b(()=>a.hero.poster||"/assets/videos/placeholder.jpg");ei(f,{get videoSrc(){return u(h)},get poster(){return u(v)},get heroText(){return a.hero.text}});var p=N(f,2);Ye(p,{section:"intro"});var g=N(p,2);Us(g,{get content(){return a}});var q=N(g,2);{var x=_=>{var m=Js(),M=ot(m);Ye(M,{section:"outro"});var w=N(M,2);Ks(w,{});var S=N(w,2);{var y=C=>{var I=Qs(),O=ot(I);zn(O,{});var L=N(O,2);Un(L),R(C,I)};lt(S,C=>{u(c)&&C(y)})}R(_,m)};lt(q,_=>{r().submitted&&_(x)})}R(t,d),Z(),i()}export{pa as component};
