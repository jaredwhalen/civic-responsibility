import"../chunks/NZTpNUN0.js";import{K as J,h as xe,a as be,w as Tn,bc as qn,d as Se,au as Cn,aJ as $n,bd as Nn,be as Pn,aM as Ee,Z as Rn,bf as On,at as Bt,bg as Ln,b4 as Dn,J as K,ah as nt,A as D,O as A,C as R,N as Z,s as C,ai as H,an as Dt,P as E,F as N,j as u,aj as ke,f as et,ak as S,R as Qt,B as ot,Q as Fn,bh as kt,bi as In,aa as Bn,v as rt,k as wt,am as ze,g as Ut,ao as Xn,aq as Yn}from"../chunks/Bc-ifaFe.js";import{p as z,i as lt,b as St,a as $t,c as Ue}from"../chunks/BBcAs6B0.js";import{a as at,t as st,h as ee,f as At,b as Mt,i as Ve,s as j,e as Ge,c as We,g as Ae}from"../chunks/Cpg1GEhr.js";import{b as ue}from"../chunks/DOzJmPSv.js";import{s as Me,c as Hn,p as zn}from"../chunks/3VvYXOrg.js";import{g as Ke,a as Un}from"../chunks/C-nQTKe1.js";import{g as k,S as W,E as Vn,F as Gn}from"../chunks/3URe0pgy.js";import{i as xt,a as Te,b as Wn,c as qe,l as Ce,g as gt,D as Ze,u as Tt,k as Kn,G as Zn}from"../chunks/CsGgkiwk.js";import{b as $e}from"../chunks/ChvQqODY.js";import{b as P}from"../chunks/Cm_gSxwl.js";import"../chunks/BbZAAmF9.js";import{i as Qe}from"../chunks/CpvPBMtp.js";import{c as Qn}from"../chunks/D0d2SCp3.js";function Jn(t,e,n=!1,i=!1,r=!1){var o=t,s="";J(()=>{var a=Tn;if(s===(s=e()??"")){xe&&be();return}if(a.nodes_start!==null&&(qn(a.nodes_start,a.nodes_end),a.nodes_start=a.nodes_end=null),s!==""){if(xe){Se.data;for(var c=be(),l=c;c!==null&&(c.nodeType!==Cn||c.data!=="");)l=c,c=$n(c);if(c===null)throw Nn(),Pn;Ee(Se,l),o=Rn(c);return}var d=s+"";n?d=`<svg>${d}</svg>`:i&&(d=`<math>${d}</math>`);var f=On(d);if((n||i)&&(f=Bt(f)),Ee(Bt(f),f.lastChild),n||i)for(;Bt(f);)o.before(Bt(f));else o.before(f)}})}function jn(t,e){Ln(window,["resize"],()=>Dn(()=>e(window[t])))}var ti=D('<div class="hero-title svelte-1joyxxh"><h1 class="svelte-1joyxxh">What do we</h1> <h1 class="svelte-1joyxxh">owe each other</h1> <h1 class="svelte-1joyxxh">as Americans?</h1></div>'),ei=D('<div class="scroll-down svelte-1joyxxh"><span class="svelte-1joyxxh">Scroll down</span></div>'),ni=D(`<section class="hero-section svelte-1joyxxh" role="banner" aria-label="Hero section"><div class="hero-video-bg svelte-1joyxxh" role="presentation" aria-hidden="true"><video autoplay loop playsinline="" aria-label="Background video" class="svelte-1joyxxh"><source type="video/mp4" class="svelte-1joyxxh"/> <p class="svelte-1joyxxh">Your browser doesn't support HTML5 video.</p></video> <div class="hero-video-overlay svelte-1joyxxh"></div> <div class="hero-video-blur svelte-1joyxxh"></div></div> <div class="hero-content svelte-1joyxxh"><!></div> <!></section>`,2);function ii(t,e){K(e,!0);let n=z(e,"videoSrc",3,"/assets/videos/civic-montage.mp4"),i=z(e,"poster",3,"/assets/videos/placeholder.jpg");z(e,"heroText",3,"");let r=H(!1);nt(()=>{C(r,!0)});var o=ni(),s=A(o),a=A(s);a.muted=!0;var c=A(a);Dt(2),E(a),Dt(4),E(s);var l=N(s,2),d=A(l);{var f=p=>{var _=ti(),T=A(_),b=N(T,2),m=N(b,2);E(_),st(3,T,()=>ee,()=>({axis:"y",duration:1e3,delay:150})),st(3,b,()=>ee,()=>({axis:"y",duration:1e3,delay:300})),st(3,m,()=>ee,()=>({axis:"y",duration:1e3,delay:450})),R(p,_)};lt(d,p=>{u(r)&&p(f)})}E(l);var h=N(l,2);{var v=p=>{var _=ei();st(1,_,()=>At,()=>({duration:1e3,delay:1e3})),R(p,_)};lt(h,p=>{u(r)&&p(v)})}E(o),J(()=>{at(a,"poster",i()),at(c,"src",ue+n())}),R(t,o),Z()}function ne(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(r);++i<r;)o[i]=t+i*n;return o}var ri={value:()=>{}};function Je(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Yt(n)}function Yt(t){this._=t}function oi(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Yt.prototype=Je.prototype={constructor:Yt,on:function(t,e){var n=this._,i=oi(t+"",n),r,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((r=(t=i[o]).type)&&(r=si(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(r=(t=i[o]).type)n[r]=Ne(n[r],t.name,e);else if(e==null)for(r in n)n[r]=Ne(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Yt(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,o;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};function si(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function Ne(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=ri,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var ie="http://www.w3.org/1999/xhtml";const Pe={svg:"http://www.w3.org/2000/svg",xhtml:ie,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jt(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Pe.hasOwnProperty(e)?{space:Pe[e],local:t}:t}function ai(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ie&&e.documentElement.namespaceURI===ie?e.createElement(t):e.createElementNS(n,t)}}function li(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function je(t){var e=Jt(t);return(e.local?li:ai)(e)}function ci(){}function fe(t){return t==null?ci:function(){return this.querySelector(t)}}function ui(t){typeof t!="function"&&(t=fe(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=new Array(s),c,l,d=0;d<s;++d)(c=o[d])&&(l=t.call(c,c.__data__,d,o))&&("__data__"in c&&(l.__data__=c.__data__),a[d]=l);return new it(i,this._parents)}function fi(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function di(){return[]}function tn(t){return t==null?di:function(){return this.querySelectorAll(t)}}function hi(t){return function(){return fi(t.apply(this,arguments))}}function vi(t){typeof t=="function"?t=hi(t):t=tn(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s=e[o],a=s.length,c,l=0;l<a;++l)(c=s[l])&&(i.push(t.call(c,c.__data__,l,s)),r.push(c));return new it(i,r)}function en(t){return function(){return this.matches(t)}}function nn(t){return function(e){return e.matches(t)}}var pi=Array.prototype.find;function _i(t){return function(){return pi.call(this.children,t)}}function gi(){return this.firstElementChild}function mi(t){return this.select(t==null?gi:_i(typeof t=="function"?t:nn(t)))}var yi=Array.prototype.filter;function wi(){return Array.from(this.children)}function xi(t){return function(){return yi.call(this.children,t)}}function bi(t){return this.selectAll(t==null?wi:xi(typeof t=="function"?t:nn(t)))}function Si(t){typeof t!="function"&&(t=en(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=[],c,l=0;l<s;++l)(c=o[l])&&t.call(c,c.__data__,l,o)&&a.push(c);return new it(i,this._parents)}function rn(t){return new Array(t.length)}function Ei(){return new it(this._enter||this._groups.map(rn),this._parents)}function Vt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Vt.prototype={constructor:Vt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ki(t){return function(){return t}}function Ai(t,e,n,i,r,o){for(var s=0,a,c=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new Vt(t,o[s]);for(;s<c;++s)(a=e[s])&&(r[s]=a)}function Mi(t,e,n,i,r,o,s){var a,c,l=new Map,d=e.length,f=o.length,h=new Array(d),v;for(a=0;a<d;++a)(c=e[a])&&(h[a]=v=s.call(c,c.__data__,a,e)+"",l.has(v)?r[a]=c:l.set(v,c));for(a=0;a<f;++a)v=s.call(t,o[a],a,o)+"",(c=l.get(v))?(i[a]=c,c.__data__=o[a],l.delete(v)):n[a]=new Vt(t,o[a]);for(a=0;a<d;++a)(c=e[a])&&l.get(h[a])===c&&(r[a]=c)}function Ti(t){return t.__data__}function qi(t,e){if(!arguments.length)return Array.from(this,Ti);var n=e?Mi:Ai,i=this._parents,r=this._groups;typeof t!="function"&&(t=ki(t));for(var o=r.length,s=new Array(o),a=new Array(o),c=new Array(o),l=0;l<o;++l){var d=i[l],f=r[l],h=f.length,v=Ci(t.call(d,d&&d.__data__,l,i)),p=v.length,_=a[l]=new Array(p),T=s[l]=new Array(p),b=c[l]=new Array(h);n(d,f,_,T,b,v,e);for(var m=0,w=0,q,x;m<p;++m)if(q=_[m]){for(m>=w&&(w=m+1);!(x=T[w])&&++w<p;);q._next=x||null}}return s=new it(s,i),s._enter=a,s._exit=c,s}function Ci(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $i(){return new it(this._exit||this._groups.map(rn),this._parents)}function Ni(t,e,n){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?o.remove():n(o),i&&r?i.merge(r).order():r}function Pi(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,s=Math.min(r,o),a=new Array(r),c=0;c<s;++c)for(var l=n[c],d=i[c],f=l.length,h=a[c]=new Array(f),v,p=0;p<f;++p)(v=l[p]||d[p])&&(h[p]=v);for(;c<r;++c)a[c]=n[c];return new it(a,this._parents)}function Ri(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,o=i[r],s;--r>=0;)(s=i[r])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Oi(t){t||(t=Li);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s=n[o],a=s.length,c=r[o]=new Array(a),l,d=0;d<a;++d)(l=s[d])&&(c[d]=l);c.sort(e)}return new it(r,this._parents).order()}function Li(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Di(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Fi(){return Array.from(this)}function Ii(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null}function Bi(){let t=0;for(const e of this)++t;return t}function Xi(){return!this.node()}function Yi(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],o=0,s=r.length,a;o<s;++o)(a=r[o])&&t.call(a,a.__data__,o,r);return this}function Hi(t){return function(){this.removeAttribute(t)}}function zi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ui(t,e){return function(){this.setAttribute(t,e)}}function Vi(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Gi(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Wi(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ki(t,e){var n=Jt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?zi:Hi:typeof e=="function"?n.local?Wi:Gi:n.local?Vi:Ui)(n,e))}function on(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Zi(t){return function(){this.style.removeProperty(t)}}function Qi(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ji(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function ji(t,e,n){return arguments.length>1?this.each((e==null?Zi:typeof e=="function"?Ji:Qi)(t,e,n??"")):qt(this.node(),t)}function qt(t,e){return t.style.getPropertyValue(e)||on(t).getComputedStyle(t,null).getPropertyValue(e)}function tr(t){return function(){delete this[t]}}function er(t,e){return function(){this[t]=e}}function nr(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ir(t,e){return arguments.length>1?this.each((e==null?tr:typeof e=="function"?nr:er)(t,e)):this.node()[t]}function sn(t){return t.trim().split(/^|\s+/)}function de(t){return t.classList||new an(t)}function an(t){this._node=t,this._names=sn(t.getAttribute("class")||"")}an.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ln(t,e){for(var n=de(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function cn(t,e){for(var n=de(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function rr(t){return function(){ln(this,t)}}function or(t){return function(){cn(this,t)}}function sr(t,e){return function(){(e.apply(this,arguments)?ln:cn)(this,t)}}function ar(t,e){var n=sn(t+"");if(arguments.length<2){for(var i=de(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?sr:e?rr:or)(n,e))}function lr(){this.textContent=""}function cr(t){return function(){this.textContent=t}}function ur(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function fr(t){return arguments.length?this.each(t==null?lr:(typeof t=="function"?ur:cr)(t)):this.node().textContent}function dr(){this.innerHTML=""}function hr(t){return function(){this.innerHTML=t}}function vr(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function pr(t){return arguments.length?this.each(t==null?dr:(typeof t=="function"?vr:hr)(t)):this.node().innerHTML}function _r(){this.nextSibling&&this.parentNode.appendChild(this)}function gr(){return this.each(_r)}function mr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yr(){return this.each(mr)}function wr(t){var e=typeof t=="function"?t:je(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function xr(){return null}function br(t,e){var n=typeof t=="function"?t:je(t),i=e==null?xr:typeof e=="function"?e:fe(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Sr(){var t=this.parentNode;t&&t.removeChild(this)}function Er(){return this.each(Sr)}function kr(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ar(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Mr(t){return this.select(t?Ar:kr)}function Tr(t){return arguments.length?this.property("__data__",t):this.node().__data__}function qr(t){return function(e){t.call(this,e,this.__data__)}}function Cr(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function $r(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,o;n<r;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++i]=o;++i?e.length=i:delete this.__on}}}function Nr(t,e,n){return function(){var i=this.__on,r,o=qr(e);if(i){for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=e;return}}this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Pr(t,e,n){var i=Cr(t+""),r,o=i.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,l=a.length,d;c<l;++c)for(r=0,d=a[c];r<o;++r)if((s=i[r]).type===d.type&&s.name===d.name)return d.value}return}for(a=e?Nr:$r,r=0;r<o;++r)this.each(a(i[r],e,n));return this}function un(t,e,n){var i=on(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Rr(t,e){return function(){return un(this,t,e)}}function Or(t,e){return function(){return un(this,t,e.apply(this,arguments))}}function Lr(t,e){return this.each((typeof e=="function"?Or:Rr)(t,e))}function*Dr(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length,s;r<o;++r)(s=i[r])&&(yield s)}var fn=[null];function it(t,e){this._groups=t,this._parents=e}function It(){return new it([[document.documentElement]],fn)}function Fr(){return this}it.prototype=It.prototype={constructor:it,select:ui,selectAll:vi,selectChild:mi,selectChildren:bi,filter:Si,data:qi,enter:Ei,exit:$i,join:Ni,merge:Pi,selection:Fr,order:Ri,sort:Oi,call:Di,nodes:Fi,node:Ii,size:Bi,empty:Xi,each:Yi,attr:Ki,style:ji,property:ir,classed:ar,text:fr,html:pr,raise:gr,lower:yr,append:wr,insert:br,remove:Er,clone:Mr,datum:Tr,on:Pr,dispatch:Lr,[Symbol.iterator]:Dr};function Re(t){return typeof t=="string"?new it([[document.querySelector(t)]],[document.documentElement]):new it([[t]],fn)}var Oe=180/Math.PI,re={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dn(t,e,n,i,r,o){var s,a,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,c/=a),t*i<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Oe,skewX:Math.atan(c)*Oe,scaleX:s,scaleY:a}}var Xt;function Ir(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?re:dn(e.a,e.b,e.c,e.d,e.e,e.f)}function Br(t){return t==null||(Xt||(Xt=document.createElementNS("http://www.w3.org/2000/svg","g")),Xt.setAttribute("transform",t),!(t=Xt.transform.baseVal.consolidate()))?re:(t=t.matrix,dn(t.a,t.b,t.c,t.d,t.e,t.f))}function hn(t,e,n,i){function r(l){return l.length?l.pop()+" ":""}function o(l,d,f,h,v,p){if(l!==f||d!==h){var _=v.push("translate(",null,e,null,n);p.push({i:_-4,x:xt(l,f)},{i:_-2,x:xt(d,h)})}else(f||h)&&v.push("translate("+f+e+h+n)}function s(l,d,f,h){l!==d?(l-d>180?d+=360:d-l>180&&(l+=360),h.push({i:f.push(r(f)+"rotate(",null,i)-2,x:xt(l,d)})):d&&f.push(r(f)+"rotate("+d+i)}function a(l,d,f,h){l!==d?h.push({i:f.push(r(f)+"skewX(",null,i)-2,x:xt(l,d)}):d&&f.push(r(f)+"skewX("+d+i)}function c(l,d,f,h,v,p){if(l!==f||d!==h){var _=v.push(r(v)+"scale(",null,",",null,")");p.push({i:_-4,x:xt(l,f)},{i:_-2,x:xt(d,h)})}else(f!==1||h!==1)&&v.push(r(v)+"scale("+f+","+h+")")}return function(l,d){var f=[],h=[];return l=t(l),d=t(d),o(l.translateX,l.translateY,d.translateX,d.translateY,f,h),s(l.rotate,d.rotate,f,h),a(l.skewX,d.skewX,f,h),c(l.scaleX,l.scaleY,d.scaleX,d.scaleY,f,h),l=d=null,function(v){for(var p=-1,_=h.length,T;++p<_;)f[(T=h[p]).i]=T.x(v);return f.join("")}}}var Xr=hn(Ir,"px, ","px)","deg)"),Yr=hn(Br,", ",")",")"),Ct=0,Rt=0,Pt=0,vn=1e3,Gt,Ot,Wt=0,Et=0,jt=0,Ft=typeof performance=="object"&&performance.now?performance:Date,pn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function he(){return Et||(pn(Hr),Et=Ft.now()+jt)}function Hr(){Et=0}function Kt(){this._call=this._time=this._next=null}Kt.prototype=_n.prototype={constructor:Kt,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?he():+n)+(e==null?0:+e),!this._next&&Ot!==this&&(Ot?Ot._next=this:Gt=this,Ot=this),this._call=t,this._time=n,oe()},stop:function(){this._call&&(this._call=null,this._time=1/0,oe())}};function _n(t,e,n){var i=new Kt;return i.restart(t,e,n),i}function zr(){he(),++Ct;for(var t=Gt,e;t;)(e=Et-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ct}function Le(){Et=(Wt=Ft.now())+jt,Ct=Rt=0;try{zr()}finally{Ct=0,Vr(),Et=0}}function Ur(){var t=Ft.now(),e=t-Wt;e>vn&&(jt-=e,Wt=t)}function Vr(){for(var t,e=Gt,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Gt=n);Ot=t,oe(i)}function oe(t){if(!Ct){Rt&&(Rt=clearTimeout(Rt));var e=t-Et;e>24?(t<1/0&&(Rt=setTimeout(Le,t-Ft.now()-jt)),Pt&&(Pt=clearInterval(Pt))):(Pt||(Wt=Ft.now(),Pt=setInterval(Ur,vn)),Ct=1,pn(Le))}}function De(t,e,n){var i=new Kt;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}var Gr=Je("start","end","cancel","interrupt"),Wr=[],gn=0,Fe=1,se=2,Ht=3,Ie=4,ae=5,zt=6;function te(t,e,n,i,r,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Kr(t,n,{name:e,index:i,group:r,on:Gr,tween:Wr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:gn})}function ve(t,e){var n=ct(t,e);if(n.state>gn)throw new Error("too late; already scheduled");return n}function ht(t,e){var n=ct(t,e);if(n.state>Ht)throw new Error("too late; already running");return n}function ct(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Kr(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=_n(o,0,n.time);function o(l){n.state=Fe,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var d,f,h,v;if(n.state!==Fe)return c();for(d in i)if(v=i[d],v.name===n.name){if(v.state===Ht)return De(s);v.state===Ie?(v.state=zt,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete i[d]):+d<e&&(v.state=zt,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete i[d])}if(De(function(){n.state===Ht&&(n.state=Ie,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=se,n.on.call("start",t,t.__data__,n.index,n.group),n.state===se){for(n.state=Ht,r=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(v=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(r[++f]=v);r.length=f+1}}function a(l){for(var d=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=ae,1),f=-1,h=r.length;++f<h;)r[f].call(t,d);n.state===ae&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=zt,n.timer.stop(),delete i[e];for(var l in i)return;delete t.__transition}}function Zr(t,e){var n=t.__transition,i,r,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){o=!1;continue}r=i.state>se&&i.state<ae,i.state=zt,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}o&&delete t.__transition}}function Qr(t){return this.each(function(){Zr(this,t)})}function Jr(t,e){var n,i;return function(){var r=ht(this,t),o=r.tween;if(o!==n){i=n=o;for(var s=0,a=i.length;s<a;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function jr(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var o=ht(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},c=0,l=r.length;c<l;++c)if(r[c].name===e){r[c]=a;break}c===l&&r.push(a)}o.tween=r}}function to(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=ct(this.node(),n).tween,r=0,o=i.length,s;r<o;++r)if((s=i[r]).name===t)return s.value;return null}return this.each((e==null?Jr:jr)(n,t,e))}function pe(t,e,n){var i=t._id;return t.each(function(){var r=ht(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return ct(r,i).value[e]}}function mn(t,e){var n;return(typeof e=="number"?xt:e instanceof qe?Te:(n=qe(e))?(e=n,Te):Wn)(t,e)}function eo(t){return function(){this.removeAttribute(t)}}function no(t){return function(){this.removeAttributeNS(t.space,t.local)}}function io(t,e,n){var i,r=n+"",o;return function(){var s=this.getAttribute(t);return s===r?null:s===i?o:o=e(i=s,n)}}function ro(t,e,n){var i,r=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===r?null:s===i?o:o=e(i=s,n)}}function oo(t,e,n){var i,r,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),c=a+"",s===c?null:s===i&&c===r?o:(r=c,o=e(i=s,a)))}}function so(t,e,n){var i,r,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),c=a+"",s===c?null:s===i&&c===r?o:(r=c,o=e(i=s,a)))}}function ao(t,e){var n=Jt(t),i=n==="transform"?Yr:mn;return this.attrTween(t,typeof e=="function"?(n.local?so:oo)(n,i,pe(this,"attr."+t,e)):e==null?(n.local?no:eo)(n):(n.local?ro:io)(n,i,e))}function lo(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function co(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function uo(t,e){var n,i;function r(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&co(t,o)),n}return r._value=e,r}function fo(t,e){var n,i;function r(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&lo(t,o)),n}return r._value=e,r}function ho(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Jt(t);return this.tween(n,(i.local?uo:fo)(i,e))}function vo(t,e){return function(){ve(this,t).delay=+e.apply(this,arguments)}}function po(t,e){return e=+e,function(){ve(this,t).delay=e}}function _o(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?vo:po)(e,t)):ct(this.node(),e).delay}function go(t,e){return function(){ht(this,t).duration=+e.apply(this,arguments)}}function mo(t,e){return e=+e,function(){ht(this,t).duration=e}}function yo(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?go:mo)(e,t)):ct(this.node(),e).duration}function wo(t,e){if(typeof e!="function")throw new Error;return function(){ht(this,t).ease=e}}function xo(t){var e=this._id;return arguments.length?this.each(wo(e,t)):ct(this.node(),e).ease}function bo(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ht(this,t).ease=n}}function So(t){if(typeof t!="function")throw new Error;return this.each(bo(this._id,t))}function Eo(t){typeof t!="function"&&(t=en(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=[],c,l=0;l<s;++l)(c=o[l])&&t.call(c,c.__data__,l,o)&&a.push(c);return new mt(i,this._parents,this._name,this._id)}function ko(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var c=e[a],l=n[a],d=c.length,f=s[a]=new Array(d),h,v=0;v<d;++v)(h=c[v]||l[v])&&(f[v]=h);for(;a<i;++a)s[a]=e[a];return new mt(s,this._parents,this._name,this._id)}function Ao(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Mo(t,e,n){var i,r,o=Ao(e)?ve:ht;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}function To(t,e){var n=this._id;return arguments.length<2?ct(this.node(),n).on.on(t):this.each(Mo(n,t,e))}function qo(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Co(){return this.on("end.remove",qo(this._id))}function $o(t){var e=this._name,n=this._id;typeof t!="function"&&(t=fe(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a=i[s],c=a.length,l=o[s]=new Array(c),d,f,h=0;h<c;++h)(d=a[h])&&(f=t.call(d,d.__data__,h,a))&&("__data__"in d&&(f.__data__=d.__data__),l[h]=f,te(l[h],e,n,h,l,ct(d,n)));return new mt(o,this._parents,e,n)}function No(t){var e=this._name,n=this._id;typeof t!="function"&&(t=tn(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var c=i[a],l=c.length,d,f=0;f<l;++f)if(d=c[f]){for(var h=t.call(d,d.__data__,f,c),v,p=ct(d,n),_=0,T=h.length;_<T;++_)(v=h[_])&&te(v,e,n,_,h,p);o.push(h),s.push(d)}return new mt(o,s,e,n)}var Po=It.prototype.constructor;function Ro(){return new Po(this._groups,this._parents)}function Oo(t,e){var n,i,r;return function(){var o=qt(this,t),s=(this.style.removeProperty(t),qt(this,t));return o===s?null:o===n&&s===i?r:r=e(n=o,i=s)}}function yn(t){return function(){this.style.removeProperty(t)}}function Lo(t,e,n){var i,r=n+"",o;return function(){var s=qt(this,t);return s===r?null:s===i?o:o=e(i=s,n)}}function Do(t,e,n){var i,r,o;return function(){var s=qt(this,t),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),qt(this,t))),s===c?null:s===i&&c===r?o:(r=c,o=e(i=s,a))}}function Fo(t,e){var n,i,r,o="style."+e,s="end."+o,a;return function(){var c=ht(this,t),l=c.on,d=c.value[o]==null?a||(a=yn(e)):void 0;(l!==n||r!==d)&&(i=(n=l).copy()).on(s,r=d),c.on=i}}function Io(t,e,n){var i=(t+="")=="transform"?Xr:mn;return e==null?this.styleTween(t,Oo(t,i)).on("end.style."+t,yn(t)):typeof e=="function"?this.styleTween(t,Do(t,i,pe(this,"style."+t,e))).each(Fo(this._id,t)):this.styleTween(t,Lo(t,i,e),n).on("end.style."+t,null)}function Bo(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Xo(t,e,n){var i,r;function o(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&Bo(t,s,n)),i}return o._value=e,o}function Yo(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Xo(t,e,n??""))}function Ho(t){return function(){this.textContent=t}}function zo(t){return function(){var e=t(this);this.textContent=e??""}}function Uo(t){return this.tween("text",typeof t=="function"?zo(pe(this,"text",t)):Ho(t==null?"":t+""))}function Vo(t){return function(e){this.textContent=t.call(this,e)}}function Go(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Vo(r)),e}return i._value=t,i}function Wo(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Go(t))}function Ko(){for(var t=this._name,e=this._id,n=wn(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,c,l=0;l<a;++l)if(c=s[l]){var d=ct(c,e);te(c,t,n,l,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new mt(i,this._parents,t,n)}function Zo(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(o,s){var a={value:s},c={value:function(){--r===0&&o()}};n.each(function(){var l=ht(this,i),d=l.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),l.on=e}),r===0&&o()})}var Qo=0;function mt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function wn(){return++Qo}var _t=It.prototype;mt.prototype={constructor:mt,select:$o,selectAll:No,selectChild:_t.selectChild,selectChildren:_t.selectChildren,filter:Eo,merge:ko,selection:Ro,transition:Ko,call:_t.call,nodes:_t.nodes,node:_t.node,size:_t.size,empty:_t.empty,each:_t.each,on:To,attr:ao,attrTween:ho,style:Io,styleTween:Yo,text:Uo,textTween:Wo,remove:Co,tween:to,delay:_o,duration:yo,ease:xo,easeVarying:So,end:Zo,[Symbol.iterator]:_t[Symbol.iterator]};const Be=t=>+t;function Jo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var jo={time:null,delay:0,duration:250,ease:Jo};function ts(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function es(t){var e,n;t instanceof mt?(e=t._id,t=t._name):(e=wn(),(n=jo).time=he(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,c,l=0;l<a;++l)(c=s[l])&&te(c,t,e,l,s,n||ts(c,e));return new mt(i,this._parents,t,e)}It.prototype.interrupt=Qr;It.prototype.transition=es;const le=Math.PI,ce=2*le,bt=1e-6,ns=ce-bt;function xn(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function is(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return xn;const n=10**e;return function(i){this._+=i[0];for(let r=1,o=i.length;r<o;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class rs{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?xn:is(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,o,s){this._append`C${+e},${+n},${+i},${+r},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,i,r,o){if(e=+e,n=+n,i=+i,r=+r,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,c=i-e,l=r-n,d=s-e,f=a-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>bt)if(!(Math.abs(f*c-l*d)>bt)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let v=i-s,p=r-a,_=c*c+l*l,T=v*v+p*p,b=Math.sqrt(_),m=Math.sqrt(h),w=o*Math.tan((le-Math.acos((_+h-T)/(2*b*m)))/2),q=w/m,x=w/b;Math.abs(q-1)>bt&&this._append`L${e+q*d},${n+q*f}`,this._append`A${o},${o},0,0,${+(f*v>d*p)},${this._x1=e+x*c},${this._y1=n+x*l}`}}arc(e,n,i,r,o,s){if(e=+e,n=+n,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(r),c=i*Math.sin(r),l=e+a,d=n+c,f=1^s,h=s?r-o:o-r;this._x1===null?this._append`M${l},${d}`:(Math.abs(this._x1-l)>bt||Math.abs(this._y1-d)>bt)&&this._append`L${l},${d}`,i&&(h<0&&(h=h%ce+ce),h>ns?this._append`A${i},${i},0,1,${f},${e-a},${n-c}A${i},${i},0,1,${f},${this._x1=l},${this._y1=d}`:h>bt&&this._append`A${i},${i},0,${+(h>=le)},${f},${this._x1=e+i*Math.cos(o)},${this._y1=n+i*Math.sin(o)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function V(t){return function(){return t}}function bn(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new rs(e)}function Sn(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function En(t){this._context=t}En.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _e(t){return new En(t)}function kn(t){return t[0]}function An(t){return t[1]}function os(t,e){var n=V(!0),i=null,r=_e,o=null,s=bn(a);t=typeof t=="function"?t:t===void 0?kn:V(t),e=typeof e=="function"?e:e===void 0?An:V(e);function a(c){var l,d=(c=Sn(c)).length,f,h=!1,v;for(i==null&&(o=r(v=s())),l=0;l<=d;++l)!(l<d&&n(f=c[l],l,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,l,c),+e(f,l,c));if(v)return o=null,v+""||null}return a.x=function(c){return arguments.length?(t=typeof c=="function"?c:V(+c),a):t},a.y=function(c){return arguments.length?(e=typeof c=="function"?c:V(+c),a):e},a.defined=function(c){return arguments.length?(n=typeof c=="function"?c:V(!!c),a):n},a.curve=function(c){return arguments.length?(r=c,i!=null&&(o=r(i)),a):r},a.context=function(c){return arguments.length?(c==null?i=o=null:o=r(i=c),a):i},a}function ss(t,e,n){var i=null,r=V(!0),o=null,s=_e,a=null,c=bn(l);t=typeof t=="function"?t:t===void 0?kn:V(+t),e=typeof e=="function"?e:V(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?An:V(+n);function l(f){var h,v,p,_=(f=Sn(f)).length,T,b=!1,m,w=new Array(_),q=new Array(_);for(o==null&&(a=s(m=c())),h=0;h<=_;++h){if(!(h<_&&r(T=f[h],h,f))===b)if(b=!b)v=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=h-1;p>=v;--p)a.point(w[p],q[p]);a.lineEnd(),a.areaEnd()}b&&(w[h]=+t(T,h,f),q[h]=+e(T,h,f),a.point(i?+i(T,h,f):w[h],n?+n(T,h,f):q[h]))}if(m)return a=null,m+""||null}function d(){return os().defined(r).curve(s).context(o)}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:V(+f),i=null,l):t},l.x0=function(f){return arguments.length?(t=typeof f=="function"?f:V(+f),l):t},l.x1=function(f){return arguments.length?(i=f==null?null:typeof f=="function"?f:V(+f),l):i},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:V(+f),n=null,l):e},l.y0=function(f){return arguments.length?(e=typeof f=="function"?f:V(+f),l):e},l.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:V(+f),l):n},l.lineX0=l.lineY0=function(){return d().x(t).y(e)},l.lineY1=function(){return d().x(t).y(n)},l.lineX1=function(){return d().x(i).y(e)},l.defined=function(f){return arguments.length?(r=typeof f=="function"?f:V(!!f),l):r},l.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),l):s},l.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),l):o},l}function Xe(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Mn(t){this._context=t}Mn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xe(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xe(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function as(t){return new Mn(t)}function Lt(t,e,n){this.k=t,this.x=e,this.y=n}Lt.prototype={constructor:Lt,scale:function(t){return t===1?this:new Lt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Lt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Lt.prototype;function ls(){if(typeof window>"u")return!1;const t=navigator.hardwareConcurrency||4,e=navigator.deviceMemory||4,n=navigator.connection,i=n&&(n.effectiveType==="slow-2g"||n.effectiveType==="2g"||n.saveData===!0);return t<=2||e<=2||i}function cs(){return typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches}function us(){const t=ls();return{enabled:!cs(),complexity:t?"low":"high",targetFPS:t?30:60,d3Duration:t?100:50,disableHeavyEffects:t}}var fs=D('<div class="inner-container svelte-10tfcss"><svg width="100%" class="svelte-10tfcss"><g transform="translate(0, 1)"><path fill="url(#leftGradient)" opacity="0.8" class="svelte-10tfcss"></path><path fill="url(#rightGradient)" opacity="0.8" class="svelte-10tfcss"></path></g></svg></div>');function ds(t,e){K(e,!0);let n=z(e,"offset",3,0),i=z(e,"width",7);const r=.1,o=.9,s=ne(-5,5.01,10/20);let a=H(void 0),c=H(void 0),l=H(void 0);function d({years:y=10,bins:g=21,sigma:M=1,separationStart:I=.5,separationEnd:L=5}={}){const F=(X,G,Y)=>Math.exp(-.5*((X-G)/Y)**2)/(Y*Math.sqrt(2*Math.PI)),O=Array.from({length:g},(X,G)=>(G/(g-1)*6-3)*M);function B(X,G){let Y=O.map($=>F($,X,G));const tt=Y.reduce(($,Q)=>$+Q,0);return Y.map($=>$/tt*100)}const U=[];for(let X=0;X<y;X++){const G=y===1?0:X/(y-1),Y=I+G*(L-I),tt=-Y/2,$=Y/2,Q=B(tt,M),ut=B($,M);U.push([{name:"Dem",data:Q.map(vt=>+vt.toFixed(2))},{name:"REP",data:ut.map(vt=>+vt.toFixed(2))}])}return U}const f=d({years:12,bins:21,sigma:1,separationStart:.5,separationEnd:4});nt(async()=>{await ke(),i(u(a).clientWidth),_()});const h=us();let v=-1,p;const _=()=>{if(!h.enabled||Math.abs(n()-v)<.01)return;v=n();const y=(n()-r)/(o-r),g=Math.max(0,Math.min(1,y)),M=f.length,I=g*(M-1),L=Math.floor(I),F=Math.min(L+1,M-1),O=I-L,B=f[L][0].data,U=f[L][1].data,X=f[F][0].data,G=f[F][1].data,Y=ne(B.length).map(ft=>B[ft]*(1-O)+X[ft]*O),tt=ne(U.length).map(ft=>U[ft]*(1-O)+G[ft]*O),$=Math.max(...Y,...tt),Q=Ce().domain([-5,5]).range([0,i()]),ut=Ce().domain([0,$]).range([e.height,0]),vt=h.complexity==="low"?_e:as,Nt=ft=>ss().x((yt,pt)=>Q(s[pt])).y0(e.height).y1(yt=>ut(yt)).curve(vt);p&&cancelAnimationFrame(p),p=requestAnimationFrame(()=>{Re(u(c)).transition().duration(h.d3Duration).ease(Be).attr("d",Nt()(Y)),Re(u(l)).transition().duration(h.d3Duration).ease(Be).attr("d",Nt()(tt))})};et(()=>{_()});const T=()=>{const y=document.querySelector("svg");if(!y)return;const g=y.querySelector("defs");g&&g.remove();const M=y.appendChild(document.createElementNS("http://www.w3.org/2000/svg","defs")),I=(L,F)=>{const O=M.appendChild(document.createElementNS("http://www.w3.org/2000/svg","radialGradient"));O.setAttribute("id",L),O.setAttribute("cx","50%"),O.setAttribute("cy","50%"),O.setAttribute("r","100%");const B=O.appendChild(document.createElementNS("http://www.w3.org/2000/svg","stop"));B.setAttribute("offset","20%"),B.setAttribute("stop-color",F);const U=O.appendChild(document.createElementNS("http://www.w3.org/2000/svg","stop"));U.setAttribute("offset","100%"),U.setAttribute("stop-color",gt("--color-theme-blue"))};I("leftGradient",gt("--color-theme-dem-blue")),I("rightGradient",gt("--color-theme-gop-red"))};nt(async()=>{await ke(),T()});var b=fs(),m=A(b),w=A(m),q=A(w);P(q,y=>C(c,y),()=>u(c));var x=N(q);P(x,y=>C(l,y),()=>u(l)),E(w),E(m),P(m,y=>C(a,y),()=>u(a)),E(b),J((y,g)=>{at(m,"height",e.height),at(q,"stroke",y),at(x,"stroke",g)},[()=>gt("--color-theme-dem-blue"),()=>gt("--color-theme-gop-red")]),st(7,m,()=>At,()=>({duration:400})),st(5,b,()=>At,()=>({duration:400,delay:500})),R(t,b),Z()}var hs=D('<div class="step-1 svelte-1uqnj3"><div class="text-content svelte-1uqnj3"><div class="text-body svelte-1uqnj3">Our country is growing more<br class="svelte-1uqnj3"/><span class="text-accent svelte-1uqnj3">polarized</span></div></div> <div class="art-content svelte-1uqnj3"><!></div></div>');function vs(t,e){K(e,!0);let n,i,r,o=H(0),s=S(()=>u(o)>=25?1:0),a=S(()=>u(o)>=25?0:-50),c=25,l=S(()=>u(o)>=c?Math.min(1,(u(o)-c)*.04):0),d=S(()=>u(o)>=c?Math.min(1,(u(o)-c)*.02):0),f=S(()=>u(d)*.5);nt(()=>{k.registerPlugin(W),W.config({ignoreMobileResize:!0}),k.set(i,{opacity:0,y:-50}),k.set(r,{opacity:0});const x=W.create({trigger:n,start:"top bottom",end:"bottom top",onUpdate:y=>{C(o,y.progress*100)}});return()=>{x.kill()}}),et(()=>{i&&k.to(i,{opacity:u(s),y:u(a),duration:.1,ease:"none"}),r&&k.to(r,{opacity:u(l),duration:.1,ease:"none"})});let h=H(void 0),v=H(void 0);var p=hs(),_=A(p),T=A(_),b=N(A(T),2);E(T),E(_),P(_,x=>i=x,()=>i);var m=N(_,2),w=A(m);{var q=x=>{ds(x,{get offset(){return u(d)},get height(){return u(h)},get width(){return u(v)}})};lt(w,x=>{u(h)&&u(v)&&x(q)})}E(m),P(m,x=>r=x,()=>r),E(p),P(p,x=>n=x,()=>n),J(()=>Mt(b,`letter-spacing: ${u(f)??""}em; --gradient-opacity: ${u(d)??""}`)),$e(m,"clientHeight",x=>C(h,x)),$e(m,"clientWidth",x=>C(v,x)),R(t,p),Z()}var ps=D('<div class="d-words text-body svelte-r7ifgb"><div><span class="text-accent svelte-r7ifgb">divided</span> in our beliefs,</div> <div><span class="text-accent svelte-r7ifgb">disillusioned</span> with our politics, and</div> <div><span class="text-accent svelte-r7ifgb">distrustful</span> of each other.</div></div>'),_s=D('<div class="d-words text-body svelte-r7ifgb"><div><span class="text-accent svelte-r7ifgb">divided</span> in our beliefs,</div> <div><span class="text-accent svelte-r7ifgb">disillusioned</span> with our politics, and</div> <div><span class="text-accent svelte-r7ifgb">distrustful</span> of each other.</div></div>'),gs=D('<div class="step-2 svelte-r7ifgb"><div class="text-content svelte-r7ifgb"><div class="text-body svelte-r7ifgb"><span class="text-accent">We are increasingly</span></div> <!></div></div>');function ms(t,e){K(e,!0);const[n,i]=$t(),r=()=>St(Ve,"$isMobile",n);let o,s,a,c,l,d=H(0),f=S(()=>u(d)>=20?1:0),h=S(()=>u(d)>=20?0:-30),v=S(()=>Math.max(0,Math.min(1,(u(d)-15)/15))),p=S(()=>Math.max(0,Math.min(1,(u(d)-30)/15))),_=S(()=>Math.max(0,Math.min(1,(u(d)-45)/15))),T=S(()=>300-u(v)*300),b=S(()=>300-u(p)*300),m=S(()=>300-u(_)*300),w=S(()=>u(v)>.7),q=S(()=>u(p)>.7),x=S(()=>u(_)>.7);nt(()=>{k.registerPlugin(W),k.set(s,{opacity:0,y:-30}),k.set(a,{x:300,opacity:0}),k.set(c,{x:300,opacity:0}),k.set(l,{x:300,opacity:0});const F=W.create({trigger:o,start:"top bottom",end:"bottom top",onUpdate:O=>{C(d,O.progress*100)}});return()=>{F.kill()}}),et(()=>{s&&k.to(s,{opacity:u(f),y:u(h),duration:.1,ease:"none"}),a&&k.set(a,{x:u(T),opacity:u(v)}),c&&k.set(c,{x:u(b),opacity:u(p)}),l&&k.set(l,{x:u(m),opacity:u(_)})});var y=gs(),g=A(y),M=N(A(g),2);{var I=F=>{var O=ps(),B=A(O);let U;P(B,$=>a=$,()=>a);var X=N(B,2);let G;P(X,$=>c=$,()=>c);var Y=N(X,2);let tt;P(Y,$=>l=$,()=>l),E(O),J(($,Q,ut)=>{U=j(B,1,"d-word svelte-r7ifgb",null,U,$),G=j(X,1,"d-word svelte-r7ifgb",null,G,Q),tt=j(Y,1,"d-word svelte-r7ifgb",null,tt,ut)},[()=>({visible:u(w)}),()=>({visible:u(q)}),()=>({visible:u(x)})]),R(F,O)},L=F=>{var O=_s(),B=A(O);let U;P(B,$=>a=$,()=>a);var X=N(B,2);let G;P(X,$=>c=$,()=>c);var Y=N(X,2);let tt;P(Y,$=>l=$,()=>l),E(O),J(($,Q,ut)=>{U=j(B,1,"d-word svelte-r7ifgb",null,U,$),G=j(X,1,"d-word svelte-r7ifgb",null,G,Q),tt=j(Y,1,"d-word svelte-r7ifgb",null,tt,ut)},[()=>({visible:u(w)}),()=>({visible:u(q)}),()=>({visible:u(x)})]),R(F,O)};lt(M,F=>{r()?F(I):F(L,!1)})}E(g),P(g,F=>s=F,()=>s),E(y),P(y,F=>o=F,()=>o),R(t,y),Z(),i()}var ys=D(`<div class="step-3 svelte-a3ag8a"><div class="background-container svelte-a3ag8a"><div class="background-image svelte-a3ag8a"></div> <div class="color-overlay svelte-a3ag8a"></div></div> <div class="text-overlay svelte-a3ag8a"><div class="text-body">As we approach America's 250th anniversary, it is important to remember the <b>civic responsibilities</b> we all share.</div></div></div>`);function ws(t,e){K(e,!0);let n,i,r,o=H(0),s=S(()=>u(o)>=20?1:0),a=S(()=>u(o)>=20?0:30),c=S(()=>u(o)*10),l=S(()=>.25+u(o)/90*.6),d=S(()=>1+u(o)/100*.2);nt(()=>{k.registerPlugin(W),k.set(r,{opacity:0,y:30});const p=W.create({trigger:n,start:"top bottom",end:"bottom top",onUpdate:_=>{C(o,_.progress*100)}});return()=>{p.kill()}}),et(()=>{if(r&&k.to(r,{opacity:u(s),y:u(a)+u(c),duration:.1,ease:"none"}),i){const p=i.querySelector(".color-overlay"),_=i.querySelector(".background-image");p&&k.set(p,{opacity:u(l)}),_&&k.set(_,{scale:u(d)})}});var f=ys(),h=A(f);P(h,p=>i=p,()=>i);var v=N(h,2);P(v,p=>r=p,()=>r),E(f),P(f,p=>n=p,()=>n),R(t,f),Z()}var xs=D('<div class="step-4 svelte-1wbto4d"><div class="text-content svelte-1wbto4d"><div class="text-body">We asked 5,000 Americans from all 50 states: <b class="svelte-1wbto4d">What are our civic responsibilities as Americans?</b></div></div> <div class="definition-content svelte-1wbto4d"><div class="dictionary-entry svelte-1wbto4d"><div class="term svelte-1wbto4d"><span class="term-text svelte-1wbto4d">civic responsibilities</span></div> <div class="part-of-speech svelte-1wbto4d">noun phrase</div> <div class="definition-text svelte-1wbto4d">Behaviors people are expected to perform as upstanding members of our national community.</div></div></div></div>');function bs(t,e){K(e,!0);const[n,i]=$t(),r=()=>St(Ve,"$isMobile",n);let o,s,a,c=H(0),l=H(0),d=H(0),f=S(()=>Math.max(u(l),u(d))),h=S(()=>Math.max(0,Math.min(1,(u(c)-20)/15))),v=S(()=>u(h)),p=S(()=>-200+u(h)*200),_=S(()=>Math.max(0,Math.min(1,(u(c)-35)/15))),T=S(()=>u(_)),b=S(()=>200-u(_)*200);nt(()=>{k.registerPlugin(W),s&&C(l,s.offsetHeight,!0),a&&C(d,a.offsetHeight,!0),k.set(s,{opacity:0,x:-200}),k.set(a,{x:200,opacity:0});const g=W.create({trigger:o,start:"top bottom",end:"bottom top",onUpdate:M=>{C(c,M.progress*100)}});return()=>{g.kill()}}),et(()=>{s&&k.set(s,{opacity:u(v),x:u(p)}),a&&k.set(a,{x:u(b),opacity:u(T)})});var m=xs(),w=A(m);let q;P(w,g=>s=g,()=>s);var x=N(w,2);let y;P(x,g=>a=g,()=>a),E(m),P(m,g=>o=g,()=>o),J((g,M)=>{q=Mt(w,"",q,g),y=Mt(x,"",y,M)},[()=>({"min-height":r()?"auto":`${u(f)}px`}),()=>({"min-height":r()?"auto":`${u(f)}px`})]),R(t,m),Z(),i()}var Ss=D('<div class="comment-item svelte-xwwfsa"><img class="svelte-xwwfsa"/></div>');function Ye(t,e){K(e,!0);let n=z(e,"progress",3,0),i=z(e,"startProgress",3,0),r=z(e,"endProgress",3,1),o=[],s=S(()=>()=>n()<i()?0:n()>r()?1:(n()-i())/(r()-i()));et(()=>{o.forEach((l,d)=>{if(l){const h=e.commentData[d].position.scale||.3;k.set(l,{scale:h*.5,opacity:0,y:100})}})}),et(()=>{const l=u(s)();o.forEach((d,f)=>{if(d){const v=e.commentData[f].position.scale||1,p=Math.max(0,Math.min(1,(l-f*.1)/.3)),_=v*.5,T=_+p*(v-_),b=p,m=(1-p)*100;k.to(d,{scale:T,opacity:b,y:m,duration:.1,ease:"power2.out"})}})});var a=Qt(),c=ot(a);Ge(c,17,()=>e.commentData,We,(l,d,f)=>{var h=Ss(),v=A(h);E(h),P(h,(p,_)=>o[_]=p,p=>o?.[p],()=>[f]),J(()=>{Mt(h,`
        top: ${u(d).position.top??""}; 
        left: ${u(d).position.left??""};
      `),at(v,"src",`/assets/comments/${u(d).name}`),at(v,"alt",u(d).text)}),R(l,h)}),R(t,a),Z()}var Es=D('<div class="step-5 svelte-1o0k95o"><div class="section expected svelte-1o0k95o"><div class="text-content svelte-1o0k95o"><div class="text-body">Some answers we expected</div></div> <div class="comments-container svelte-1o0k95o"><!></div></div> <div class="section surprising svelte-1o0k95o"><div class="text-content svelte-1o0k95o"><div class="text-body">Others surprised us</div></div> <div class="comments-container svelte-1o0k95o"><!></div></div></div> <div class="space svelte-1o0k95o"></div>',1);function ks(t,e){K(e,!0);const n=[{text:"Honoring the Constitution",name:"honoring-the-constitution.png",position:{top:"5%",left:"10%",scale:1}},{text:"Practicing freedom of speech",name:"practicing-freedom-of-speech.png",position:{top:"40%",left:"15%",scale:.7,direction:"right"}},{text:"Obeying the law",name:"obeying-the-law.png",position:{top:"20%",left:"65%",scale:.8}},{text:"Paying your taxes",name:"paying-your-taxes.png",position:{top:"100%",left:"5%",scale:1,direction:"right"}},{text:"Serving on a jury",name:"serving-on-a-jury.png",position:{top:"65%",left:"50%",scale:1}},{text:"Voting",name:"voting.png",position:{top:"100%",left:"70%",scale:.8,direction:"right"}}],i=[{text:"Tolerating differences",name:"tolerating-differences.png",position:{top:"15%",left:"10%",scale:.7,direction:"right"}},{text:"Protecting the environment",name:"protecting-the-environment.png",position:{top:"20%",left:"70%",scale:.8}},{text:"Helping one's community",name:"helping-ones-community.png",position:{top:"40%",left:"50%",scale:.7,direction:"right"}},{text:"Caring for future generations",name:"caring-for-future-generations.png",position:{top:"60%",left:"10%",scale:.9}},{text:"Making one's voice heard",name:"making-one-s-voice-heard.png",position:{top:"95%",left:"10%",scale:.8}},{text:"Being grateful for your opportunities",name:"being-grateful-for-your-opportunities.png",position:{top:"85%",left:"65%",scale:1,direction:"right"}}];let r,o,s,a,c,l=H(0),d=S(()=>u(l)>=10?1:0),f=S(()=>u(l)>=10?0:-30),h=S(()=>u(l)>=15?Math.min(1,(u(l)-15)/25):0),v=S(()=>u(l)>=55?1:0),p=S(()=>u(l)>=55?0:-30),_=S(()=>u(l)>=60?Math.min(1,(u(l)-60)/20):0);nt(()=>{k.registerPlugin(W),k.set(o,{opacity:0,y:-30}),k.set(a,{opacity:0,y:-30});const L=W.create({trigger:r,start:"top bottom",end:"bottom top",onUpdate:F=>{C(l,F.progress*100)}});return()=>{L.kill()}}),et(()=>{o&&k.to(o,{opacity:u(d),y:u(f),duration:.2,ease:"none"}),a&&k.to(a,{opacity:u(v),y:u(p),duration:.2,ease:"none"})});var T=Es(),b=ot(T),m=A(b),w=A(m);P(w,L=>o=L,()=>o);var q=N(w,2),x=A(q);Ye(x,{get commentData(){return n},get progress(){return u(h)},startProgress:0,endProgress:1}),E(q),P(q,L=>s=L,()=>s),E(m);var y=N(m,2),g=A(y);P(g,L=>a=L,()=>a);var M=N(g,2),I=A(M);Ye(I,{get commentData(){return i},get progress(){return u(_)},startProgress:0,endProgress:1}),E(M),P(M,L=>c=L,()=>c),E(y),E(b),P(b,L=>r=L,()=>r),Dt(2),R(t,T),Z()}var As=D('<div class="step-12 svelte-1lo2ten"><div class="text-content svelte-1lo2ten"><div class="text-body svelte-1lo2ten">Yet despite these differences, <b class="svelte-1lo2ten">93% of Americans</b> agree on one thing</div></div></div>');function Ms(t,e){K(e,!0);let n,i,r=H(0),o=S(()=>Math.max(0,Math.min(1,(u(r)-20)/30))),s=S(()=>20-u(o)*20);nt(()=>{k.registerPlugin(W),k.set(i,{opacity:0,y:20});const l=W.create({trigger:n,start:"top bottom",end:"bottom top",onUpdate:d=>{C(r,d.progress*100)}});return()=>{l.kill()}}),et(()=>{i&&k.to(i,{opacity:u(o),y:u(s),duration:.1,ease:"none"})});var a=As(),c=A(a);P(c,l=>i=l,()=>i),E(a),P(a,l=>n=l,()=>n),R(t,a),Z()}var Ts=D('<div class="step-13 svelte-6juy4g"><div class="sticky-container svelte-6juy4g"><div class="text-content svelte-6juy4g"><div class="quotes-background svelte-6juy4g"><span class="quote quote-left svelte-6juy4g"></span> <span class="quote quote-right svelte-6juy4g"></span></div> <div class="text-body svelte-6juy4g"><div class="first-line svelte-6juy4g">Now more than ever, it is important to</div> <div class="second-line svelte-6juy4g"><span class="word svelte-6juy4g">honor</span> <span class="word svelte-6juy4g">our</span> <span class="word svelte-6juy4g">civic</span> <span class="word svelte-6juy4g">responsibilities.</span></div></div></div> <div class="big-number-container svelte-6juy4g"><div class="big-number svelte-6juy4g"> </div> <div class="agree-text svelte-6juy4g">agree</div></div></div></div>');function qs(t,e){K(e,!0);let n,i,r,o=H(0),s=H(0),a,c=S(()=>Math.max(0,Math.min(1,(u(o)-15)/20))),l=S(()=>Math.max(0,Math.min(1,(u(o)-25)/25))),d=S(()=>Math.max(0,Math.min(1,(u(o)-10)/30))),f=S(()=>()=>u(o)>=15&&u(o)<=35?(u(o)-15)/20:u(o)>35&&u(o)<70?1:u(o)>=70&&u(o)<=90?1-(u(o)-70)/20:0);nt(()=>{k.registerPlugin(W),k.set(i,{opacity:0}),k.set(r,{opacity:0});const w=i?.querySelector(".first-line"),q=i?.querySelectorAll(".second-line .word");w&&k.set(w,{opacity:0,y:-50}),q&&k.set(q,{opacity:0,y:30,scale:.8});const x=W.create({trigger:n,start:"top bottom",end:"bottom top",onUpdate:y=>{C(o,y.progress*100)}});return()=>{x.kill(),a&&a.kill()}}),et(()=>{if(i){k.to(i,{opacity:u(f),duration:.1,ease:"none"}),r&&k.to(r,{opacity:u(d),duration:.1,ease:"none"});const w=i.querySelector(".first-line");if(w){const x=u(c),y=-50+u(c)*50;k.set(w,{opacity:x,y,duration:.1,ease:"none"})}if(i.querySelectorAll(".second-line .word").forEach((x,y)=>{const g=Math.max(0,Math.min(1,(u(l)-y*.15)/.4)),M=g,I=30-g*30,L=.8+g*.2;k.set(x,{opacity:M,y:I,scale:L,duration:.1,ease:"none"})}),u(o)>25){if(!a||!a.isActive()){const x={value:u(s)};a=k.to(x,{value:93,duration:3,ease:"power2.out",onUpdate(){C(s,Math.round(x.value),!0)}})}}else a&&a.kill(),C(s,0)}});var h=Ts(),v=A(h),p=A(v),_=A(p);P(_,w=>r=w,()=>r),Dt(2),E(p),P(p,w=>i=w,()=>i);var T=N(p,2),b=A(T),m=A(b);E(b),Dt(2),E(T),E(v),E(h),P(h,w=>n=w,()=>n),J(()=>Fn(m,`${u(s)??""}%`)),R(t,h),Z()}var Cs=D('<div class="dark-bg svelte-1ayam46"><!> <!> <!></div> <div class="dark-bg reverse svelte-1ayam46"><!> <!></div>',1),$s=D("<!> <!>",1),Ns=D('<div class="scroller svelte-1ayam46"><!> <!></div>');function He(t,e){var n=Ns(),i=A(n);{var r=a=>{var c=Cs(),l=ot(c),d=A(l);vs(d,{});var f=N(d,2);ms(f,{});var h=N(f,2);ws(h,{}),E(l);var v=N(l,2),p=A(v);bs(p,{});var _=N(p,2);ks(_,{}),E(v),R(a,c)};lt(i,a=>{e.section=="intro"&&a(r)})}var o=N(i,2);{var s=a=>{var c=$s(),l=ot(c);Ms(l,{});var d=N(l,2);qs(d,{}),R(a,c)};lt(o,a=>{e.section=="outro"&&a(s)})}E(n),R(t,n)}const dt=[];let Zt;if(typeof window<"u"){const t=()=>dt.forEach(e=>e());window.addEventListener("scroll",t),window.addEventListener("resize",t)}if(typeof IntersectionObserver<"u"){const t=new Map,e=new IntersectionObserver((n,i)=>{n.forEach(r=>{const o=t.get(r.target),s=dt.indexOf(o);r.isIntersecting?s===-1&&dt.push(o):(o(),s!==-1&&dt.splice(s,1))})},{rootMargin:"400px 0px"});Zt={add:({outer:n,update:i})=>{const{top:r,bottom:o}=n.getBoundingClientRect();r<window.innerHeight&&o>0&&dt.push(i),t.set(n,i),e.observe(n)},remove:({outer:n,update:i})=>{const r=dt.indexOf(i);r!==-1&&dt.splice(r,1),t.delete(n),e.unobserve(n)}}}else Zt={add:({update:t})=>{dt.push(t)},remove:({update:t})=>{const e=dt.indexOf(t);e!==-1&&dt.splice(e,1)}};var Ps=D("<svelte-scroller-outer><svelte-scroller-background-container><svelte-scroller-background><!></svelte-scroller-background></svelte-scroller-background-container> <svelte-scroller-foreground><!></svelte-scroller-foreground></svelte-scroller-outer>",2);function Rs(t,e){K(e,!1);const n=rt(),i=rt(),r=rt(),o=rt(),s=rt();let a=z(e,"top",8,0),c=z(e,"bottom",8,1),l=z(e,"threshold",8,.5),d=z(e,"query",8,"section"),f=z(e,"parallax",8,!1),h=z(e,"interactiveBg",8,!1),v=z(e,"index",12,0),p=z(e,"count",12,0),_=z(e,"offset",12,0),T=z(e,"progress",12,0),b=z(e,"visible",12,!1),m=rt(),w=rt(),q=rt(),x,y,g=rt(0),M=rt(),I=rt(0),L=rt(1);nt(()=>{y=u(w).querySelectorAll(d()),F();const $={outer:u(m),update:F};return Zt.add($),()=>Zt.remove($)});function F(){if(!u(w))return;const $=u(m).getBoundingClientRect();x=$.left,C(L,$.right-x);const Q=u(w).getBoundingClientRect(),ut=u(q).getBoundingClientRect();b(Q.top<u(g)&&Q.bottom>0);const vt=Q.bottom-Q.top,Nt=ut.bottom-ut.top,ft=u(i)-u(n);T((u(n)-Q.top)/(vt-ft)),T()<=0?(C(I,0),C(M,!1)):T()>=1?(C(I,f()?vt-Nt:vt-ft),C(M,!1)):(C(I,f()?Math.round(u(n)-T()*(Nt-ft)):u(n)),C(M,!0));const yt=Array.from(y).filter(pt=>window.getComputedStyle(pt).display!=="none");p(yt.length);for(let pt=0;pt<yt.length;pt++){const ge=yt[pt],{top:me}=ge.getBoundingClientRect(),ye=yt[pt+1],we=ye?ye.getBoundingClientRect().top:Q.bottom;if(_((u(r)-me)/(we-me)),we>=u(r)){v(pt);break}}}kt(()=>(wt(a()),u(g)),()=>{C(n,Math.round(a()*u(g)))}),kt(()=>(wt(c()),u(g)),()=>{C(i,Math.round(c()*u(g)))}),kt(()=>(wt(l()),u(g)),()=>{C(r,Math.round(l()*u(g)))}),kt(()=>(wt(a()),wt(c()),wt(l()),wt(f())),()=>{a(),c(),l(),f(),F()}),kt(()=>(u(M),u(I)),()=>{C(o,`
		position: ${u(M)?"fixed":"absolute"};
		top: 0;
		transform: translate(0, ${u(I)}px);
		z-index: 10;
	`)}),kt(()=>(u(M),u(L)),()=>{C(s,u(M)?`width:${u(L)}px;`:"")}),In(),Qe();var O=Ps();j(O,1,"svelte-xdbafy");var B=A(O);let U;var X=A(B);j(X,1,"svelte-xdbafy");var G=A(X);Me(G,e,"background",{}),E(X),P(X,$=>C(q,$),()=>u(q)),E(B);var Y=N(B,2);j(Y,1,"svelte-xdbafy");var tt=A(Y);Me(tt,e,"foreground",{}),E(Y),P(Y,$=>C(w,$),()=>u(w)),E(O),P(O,$=>C(m,$),()=>u(m)),J($=>{U=j(B,1,"background-container svelte-xdbafy",null,U,$),Mt(B,`${u(o)??""}${u(s)??""}`)},[()=>({interactive:h()})],Bn),jn("innerHeight",$=>C(g,$)),R(t,O),Z()}var Os=D('<div role="region" aria-label="Interactive dashboard" aria-describedby="dashboard-content"><!></div>');function Ls(t,e){K(e,!0);let n=z(e,"showDashboard",3,!1),i=z(e,"interactiveMode",15);var r=Qt(),o=ot(r);{var s=a=>{var c=Os();let l;var d=A(c);Ze(d,{get activeId(){return e.activeId},get interactiveMode(){return i()},set interactiveMode(f){i(f)}}),E(c),J(f=>l=j(c,1,`dashboard-wrapper ${i()?"interactive-mode":""}`,"svelte-1hccq8g",l,f),[()=>({visible:n()})]),st(1,c,()=>At,()=>({duration:500,delay:500})),st(2,c,()=>At,()=>({duration:500})),R(a,c)};lt(o,a=>{n()&&a(s)})}R(t,r),Z()}function Ds(t){document.querySelector(t).scrollIntoView({behavior:"smooth"})}function Fs(t,e){Ue(Tt,Ut(e).submitted=!0,Ut(e)),setTimeout(()=>{Ds(".matrix.slide[data-index='1']")},10)}var Is=D('<span class="instructions drag">Drag the dot to your guess.<button class="svelte-xv4hqn">Submit</button></span>');function Bs(t,e){K(e,!1);const[n,i]=$t(),r=()=>St(Tt,"$userResponse",n);Qe();var o=Qt(),s=ot(o);{var a=c=>{var l=Is(),d=N(A(l));d.__click=[Fs,r],E(l),st(3,l,()=>At),R(c,l)};lt(s,c=>{r().submitted||c(a)})}R(t,o),Z(),i()}ze(["click"]);var Xs=D('<div class="text__component"><!></div>'),Ys=D('<div><div class="text__content text-block content"><!></div> <!></div>');function Hs(t,e){K(e,!0);const[n,i]=$t(),r=()=>St(Tt,"$userResponse",n),o={GroupLegend:Zn,Submit:Bs},s=S(()=>[{label:"Generation",value:"generation",series:[{label:"Gen Z",color:gt("--color-theme-blue")},{label:"Baby Boomers",color:gt("--color-theme-yellow")}]},{label:"Political Identification",value:"pid",series:[{label:"Democrats",color:gt("--color-theme-dem-blue")},{label:"Republicans",color:gt("--color-theme-gop-red")}]}]);let a=S(()=>e.content.component?o[e.content.component.id]:null);function c(f){if(!f)return"";const h={userResponse:r().guess.toFixed(0)};return f.replace(/\{(\w+)\}/g,(v,p)=>h[p]!==void 0?h[p]:v)}et(()=>{if(typeof document<"u"){let f=document.querySelector(".show-on-interaction");e.content&&f&&r().userSubmitted===!0&&r().guess.toFixed(0)==87&&(f.textContent="That's right!")}});var l=Qt(),d=ot(l);Kn(d,()=>e.content,f=>{var h=Ys();let v;var p=A(h),_=A(p);Jn(_,()=>e.content.text.split(`\r
`).map(m=>`<p>${c(m)}</p>`).join("")),E(p);var T=N(p,2);{var b=m=>{var w=Xs(),q=A(w);const x=S(()=>u(s).find(g=>g.value===e.content.component.series)),y=S(()=>e.content?.component?.variant);Qn(q,()=>u(a),(g,M)=>{M(g,{get options(){return u(x)},get variant(){return u(y)}})}),E(w),R(m,w)};lt(T,m=>{u(a)&&m(b)})}E(h),J(m=>v=j(h,1,"text",null,v,m),[()=>({hide:e.content.hideFooter})]),st(1,h,()=>Ae,()=>({y:-50,duration:400,delay:200})),st(2,h,()=>Ae,()=>({y:50,duration:300})),R(f,h)}),R(t,l),Z(),i()}var zs=D('<div class="background-container" style="height: 100vh;" role="presentation" aria-hidden="true"><!> <div></div></div> <!>',1),Us=D("<section></section>"),Vs=D('<div role="main" aria-label="Second content slides"></div>');function Gs(t,e){K(e,!0);const[n,i]=$t(),r=()=>St(Tt,"$userResponse",n);let o=H(0),s=H(0),a=H(0),c=H(0),l=0,d=.5,f=1,h=!1;const v=S(()=>e.content.scrolly.slidesFixed[r().submitted?u(s):0]);et(()=>{r().submitted||C(s,0)});const p=S(()=>!!u(v).interactiveBg);Rs(t,{top:l,threshold:d,bottom:f,get interactiveBg(){return u(p)},role:"region","aria-label":"Second interactive content scroll area",get count(){return u(o)},set count(b){C(o,b,!0)},get index(){return u(s)},set index(b){C(s,b,!0)},get offset(){return u(a)},set offset(b){C(a,b,!0)},get progress(){return u(c)},set progress(b){C(c,b,!0)},background:b=>{var m=zs(),w=ot(m),q=A(w);const x=S(()=>!!u(v).showDashboard);Ls(q,{get count(){return u(o)},get index(){return u(s)},get offset(){return u(a)},get progress(){return u(c)},get activeId(){return u(v).id},get showDashboard(){return u(x)},interactiveMode:h});var y=N(q,2);let g,M;E(w);var I=N(w,2);Hs(I,{get content(){return u(v)}}),J((L,F)=>{at(w,"data-theme",u(v).theme||"default"),g=j(y,1,"progress-indicator svelte-1lorfx0",null,g,L),M=Mt(y,"",M,F)},[()=>({hidden:!r().submitted}),()=>({"--slide-progress":u(a)})]),R(b,m)},foreground:b=>{var m=Vs();j(m,1,"foreground-container "),Ge(m,21,()=>e.content.scrolly.slidesFixed,We,(w,q,x)=>{var y=Us();let g;at(y,"data-index",x),J(M=>g=j(y,1,"matrix slide svelte-1lorfx0",null,g,M),[()=>({first:x===0,hidden:!r().submitted&&x>0})]),R(w,y)}),E(m),J(()=>at(m,"data-theme",u(v).theme||"default")),R(b,m)},$$slots:{background:!0,foreground:!0}}),Z(),i()}var Ws=()=>Ke(ue+"/dashboard?fromExplore=true"),Ks=()=>Ke(ue+"/quiz?fromExplore=true"),Zs=D(`<div id="explore" class="explore-section svelte-qwffc0"><div class="explore-background svelte-qwffc0"><!></div> <div class="explore-overlay svelte-qwffc0"></div> <div class="explore-content svelte-qwffc0"><div class="explore-title svelte-qwffc0"><h2 class="svelte-qwffc0">Explore further...</h2></div> <div class="explore-columns svelte-qwffc0"><div class="explore-column dashboard-column svelte-qwffc0"><div class="column-content svelte-qwffc0"><h3 class="svelte-qwffc0">Data Dashboard</h3> <p class="svelte-qwffc0">Learn how Americans' beliefs differ by political affiliation, gender, location, and more.</p> <button data-button="explore" class="svelte-qwffc0">Explore the data</button></div></div> <div class="explore-column quiz-column svelte-qwffc0"><div class="column-content svelte-qwffc0"><h3 class="svelte-qwffc0">Interactive Quiz</h3> <p class="svelte-qwffc0">How do your beliefs compare to other Americans'</p> <button data-button="quiz" class="svelte-qwffc0">Start the quiz</button></div></div></div></div></div>`);function Qs(t,e){K(e,!0);let n,i,r,o,s=H(0),a=S(()=>u(s)>=20?1:0),c=S(()=>u(s)>=20?0:30),l=S(()=>u(s)>=20?1:0),d=S(()=>u(s)>=20?1:.8);nt(()=>{k.registerPlugin(W),k.set(i,{opacity:0,y:30}),k.set(r,{opacity:0,scale:.8}),k.set(o,{opacity:0,scale:.8});const g=W.create({trigger:n,start:"top 80%",end:"bottom 20%",onUpdate:M=>{C(s,M.progress*100)}});return()=>{g.kill()}}),et(()=>{i&&k.to(i,{opacity:u(a),y:u(c),duration:.1,ease:"none"}),r&&k.to(r,{opacity:u(l),scale:u(d),duration:.1,ease:"none"}),o&&k.to(o,{opacity:u(l),scale:u(d),duration:.1,ease:"none"})});var f=Zs(),h=A(f),v=A(h);Ze(v,{activeId:"9999-dashboard",interactiveMode:!0,disableTippy:!0}),E(h);var p=N(h,4),_=A(p);P(_,g=>i=g,()=>i);var T=N(_,2),b=A(T),m=A(b),w=N(A(m),4);w.__click=[Ws],P(w,g=>r=g,()=>r),E(m),E(b);var q=N(b,2),x=A(q),y=N(A(x),4);y.__click=[Ks],P(y,g=>o=g,()=>o),E(x),E(q),E(T),E(p),E(f),P(f,g=>n=g,()=>n),R(t,f),Z()}ze(["click"]);var Js=D('<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/> <meta name="description"/>',1),js=D("<!> <!>",1),ta=D("<!> <!> <!>",1),ea=D("<!> <!> <!> <!>",1);function _a(t,e){K(e,!0);const[n,i]=$t(),r=()=>St(zn,"$page",n),o=()=>St(Tt,"$userResponse",n),{meta:s,content:a}=Hn;let c=H(!1),l=H(!1);function d(){const y=window.pageYOffset||document.documentElement.scrollTop,g=document.documentElement.scrollHeight,M=window.innerHeight;y+M>=g-10&&!u(c)&&o().submitted&&setTimeout(()=>{C(c,!0)},500)}function f(){r().url.href.includes("?fromExplore=true")&&(Ue(Tt,Ut(o).submitted=!0,Ut(o)),C(c,!0),setTimeout(()=>{const g=document.getElementById("explore");g&&g.scrollIntoView();const M=new URL(window.location.href);M.searchParams.delete("fromExplore"),window.history.replaceState({},"",M.pathname+M.search+M.hash)},0)),setTimeout(()=>{d()},100)}function h(){u(l)||(window.addEventListener("scroll",d),C(l,!0))}function v(){u(l)&&(window.removeEventListener("scroll",d),C(l,!1))}nt(()=>(f(),h(),()=>{v()})),et(()=>{const y=r().route.id;r().url.pathname,y==="/"?setTimeout(()=>{f(),h()},0):v()}),Un(({to:y})=>{y?.route.id==="/"?setTimeout(()=>{f(),h()},10):v()});var p=ea();Xn(y=>{var g=Js(),M=N(ot(g),2);J(()=>{Yn.title=s.title,at(M,"content",s.description)}),R(y,g)});var _=ot(p);const T=S(()=>a.hero.video||"/assets/videos/web-bg.mp4"),b=S(()=>a.hero.poster||"/assets/videos/placeholder.jpg");ii(_,{get videoSrc(){return u(T)},get poster(){return u(b)},get heroText(){return a.hero.text}});var m=N(_,2);He(m,{section:"intro"});var w=N(m,2);Gs(w,{get content(){return a}});var q=N(w,2);{var x=y=>{var g=ta(),M=ot(g);He(M,{section:"outro"});var I=N(M,2);Qs(I,{});var L=N(I,2);{var F=O=>{var B=js(),U=ot(B);Vn(U,{});var X=N(U,2);Gn(X),R(O,B)};lt(L,O=>{u(c)&&O(F)})}R(y,g)};lt(q,y=>{o().submitted&&y(x)})}R(t,p),Z(),i()}export{_a as component};
