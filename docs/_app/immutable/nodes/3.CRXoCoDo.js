import"../chunks/NZTpNUN0.js";import{o as be,h as me}from"../chunks/Bz0hnmKM.js";import{q as pe,i as fe,f,t as b,a as m,s as _e,v as g,w as G,x as p,l as e,y as o,z as n,A as c,$ as xe,B as h}from"../chunks/B1Ah7rep.js";import{i as $e,s as ye,a as J}from"../chunks/jOJjXvDc.js";import{_ as N,c as Me,e as P,i as Q,D as we,t as Se,f as ke,a as Be,b as ze}from"../chunks/TqbEnFRp.js";import{s as Te,a as x,b as I}from"../chunks/dw5RaSrU.js";import{b as Fe}from"../chunks/B1QgHq-j.js";import{H as De,B as U,T as Ee,S as V}from"../chunks/DcxUnTCT.js";import{F as Ce}from"../chunks/BpRdTIob.js";var Le=f('<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/> <meta name="description"/>',1),He=f('<div class="dashboard-overlay svelte-15cacbz" role="dialog" aria-modal="true" aria-labelledby="dashboard-title" aria-describedby="dashboard-description"><div><div class="dashboard-header svelte-15cacbz"><h2 id="dashboard-title" class="visually-hidden svelte-15cacbz">Interactive Dashboard</h2> <p id="dashboard-description" class="visually-hidden svelte-15cacbz">Explore civic responsibility data and insights</p></div> <!></div></div>'),Ie=f('<div class="background-container" role="presentation" aria-hidden="true"><!></div>'),We=f('<div role="main" aria-label="First content slides"></div>'),je=f('<div class="background-container" role="presentation" aria-hidden="true"><!></div> <!>',1),qe=f('<div role="main" aria-label="Second content slides"></div>'),Ae=f('<main role="main" aria-label="Civic Responsibility Interactive Experience"><header class="main-header svelte-15cacbz" role="banner" aria-label="Site navigation"><div class="header-left svelte-15cacbz"></div> <div class="header-right svelte-15cacbz"><img class="logo svelte-15cacbz" alt="More in Common" role="img" aria-label="More in Common logo"/></div></header> <!>  <!> <!> <!> <!></main>');function Ve(X,Y){pe(Y,!0);const[W,Z]=ye(),ee=()=>J(Be,"$isMobile",W),te=()=>J(ze,"$isTablet",W),{meta:j,content:v}=Me;let k=n(0),M=n(0),B=n(0),z=n(0),re=0,oe=.25,ae=1,T=n(0),w=n(0),F=n(0),D=n(0),se=0,ie=.25,ne=1;const $=c(()=>v.scrolly.slidesScroll[e(M)]),_=c(()=>v.scrolly.slidesFixed[e(w)]);let a=n(!1),E=n(!1),C=n(!1);fe(()=>{e(a)?(o(E,!0),setTimeout(()=>{o(C,!0)},250)):(o(C,!1),setTimeout(()=>{o(E,!1)},250))}),be(()=>{const d=i=>{i.key==="Escape"&&e(a)&&o(a,!1)};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)});var S=Ae();me(d=>{var i=Le(),t=g(G(i),2);b(()=>{xe.title=j.title,x(t,"content",j.description||"Interactive civic responsibility exploration")}),m(d,i)}),Te(S,"",{},{"--bg-color":"#d1dfed"});var L=p(S),q=g(p(L),2),de=p(q);h(q),h(L);var A=g(L,2);const le=c(()=>v.hero.video||"/assets/videos/web-bg.mp4"),ce=c(()=>v.hero.poster||"/assets/videos/placeholder.jpg");De(A,{get videoSrc(){return e(le)},get poster(){return e(ce)},get heroText(){return v.hero.text}});var K=g(A,2);{var ve=d=>{var i=He(),t=p(i),r=g(p(t),2);we(r,{activeId:"9999-dashboard",animateMount:!1,get interactiveMode(){return e(a)},set interactiveMode(s){o(a,s,!0)}}),h(t),h(i),b(()=>I(t,1,`dashboard-overlay-content ${e(C)?"expanded":""} ${ee()?"mobile":""} ${te()?"tablet":""}`,"svelte-15cacbz")),Se(3,i,()=>ke,()=>({duration:250})),m(d,i)};$e(K,d=>{e(E)&&d(ve)})}var O=g(K,2);const ue=c(()=>!!e($).interactiveBg);N(O,{top:re,threshold:oe,bottom:ae,get interactiveBg(){return e(ue)},role:"region","aria-label":"First interactive content scroll area",get count(){return e(k)},set count(t){o(k,t,!0)},get index(){return e(M)},set index(t){o(M,t,!0)},get offset(){return e(B)},set offset(t){o(B,t,!0)},get progress(){return e(z)},set progress(t){o(z,t,!0)},background:t=>{var r=Ie(),s=p(r);const l=c(()=>!!e($).showDashboard);U(s,{get count(){return e(k)},get index(){return e(M)},get offset(){return e(B)},get progress(){return e(z)},get activeId(){return e($).id},get showDashboard(){return e(l)},get interactiveMode(){return e(a)}}),h(r),b(()=>x(r,"data-theme",e($).theme||"default")),m(t,r)},foreground:t=>{var r=We();P(r,21,()=>v.scrolly.slidesScroll,Q,(s,l,u)=>{const y=c(()=>v.scrolly.slidesScroll.length);V(s,{get content(){return e(l)},get cls(){return`slide-${u} ${e(l).cls??""}`},index:u,get"aria-label"(){return`Slide ${u+1} of ${e(y)??""}`},get interactiveMode(){return e(a)},set interactiveMode(H){o(a,H,!0)}})}),h(r),b(()=>{I(r,1,`foreground-container ${e(a)?"interactive-mode":""}`),x(r,"data-theme",e($).theme||"default")}),m(t,r)},$$slots:{background:!0,foreground:!0}});var R=g(O,2);const ge=c(()=>!!e(_).interactiveBg);N(R,{top:se,threshold:ie,bottom:ne,get interactiveBg(){return e(ge)},role:"region","aria-label":"Second interactive content scroll area",get count(){return e(T)},set count(t){o(T,t,!0)},get index(){return e(w)},set index(t){o(w,t,!0)},get offset(){return e(F)},set offset(t){o(F,t,!0)},get progress(){return e(D)},set progress(t){o(D,t,!0)},background:t=>{var r=je(),s=G(r),l=p(s);const u=c(()=>!!e(_).showDashboard);U(l,{get count(){return e(T)},get index(){return e(w)},get offset(){return e(F)},get progress(){return e(D)},get activeId(){return e(_).id},get showDashboard(){return e(u)},get interactiveMode(){return e(a)}}),h(s);var y=g(s,2);Ee(y,{get content(){return e(_)}}),b(()=>x(s,"data-theme",e(_).theme||"default")),m(t,r)},foreground:t=>{var r=qe();P(r,21,()=>v.scrolly.slidesFixed,Q,(s,l,u)=>{const y=c(()=>v.scrolly.slidesFixed.length);V(s,{get content(){return e(l)},get cls(){return`slide-${u} ${e(l).cls??""}`},index:u,get"aria-label"(){return`Slide ${u+1} of ${e(y)??""}`},get noText(){return e(l).noFgText},get interactiveMode(){return e(a)},set interactiveMode(H){o(a,H,!0)}})}),h(r),b(()=>{I(r,1,`foreground-container ${e(a)?"interactive-mode":""}`),x(r,"data-theme",e(_).theme||"default")}),m(t,r)},$$slots:{background:!0,foreground:!0}});var he=g(R,2);Ce(he),h(S),b(()=>x(de,"src",Fe+"/assets/icons/Lockup_WhiteWhite.png")),m(X,S),_e(),Z()}export{Ve as component};
