import"../chunks/NZTpNUN0.js";import{o as be,h as pe}from"../chunks/B8lghQbU.js";import{p as me,b as fe,k as f,t as b,l as p,m as _e,s as g,n as G,o as m,g as e,q as o,v as i,w as c,$ as xe,x as h}from"../chunks/DN2GeI0z.js";import{i as $e,s as ye,a as J}from"../chunks/CIJFCRwf.js";import{s as Me,H as ke,_ as N,F as we,c as Se,e as P,B as Q,T as Be,a as x,i as U,b as I,D as Te,t as ze,f as Fe,S as V,d as De,g as Ee}from"../chunks/Dcx0yKyk.js";import{b as Ce}from"../chunks/D9lI4rRi.js";var Le=f('<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/> <meta name="description"/>',1),He=f('<div class="dashboard-overlay svelte-15cacbz" role="dialog" aria-modal="true" aria-labelledby="dashboard-title" aria-describedby="dashboard-description"><div><div class="dashboard-header svelte-15cacbz"><h2 id="dashboard-title" class="visually-hidden svelte-15cacbz">Interactive Dashboard</h2> <p id="dashboard-description" class="visually-hidden svelte-15cacbz">Explore civic responsibility data and insights</p></div> <!></div></div>'),Ie=f('<div class="background-container" role="presentation" aria-hidden="true"><!></div>'),We=f('<div role="main" aria-label="First content slides"></div>'),je=f('<div class="background-container" role="presentation" aria-hidden="true"><!></div> <!>',1),qe=f('<div role="main" aria-label="Second content slides"></div>'),Ke=f('<main role="main" aria-label="Civic Responsibility Interactive Experience"><header class="main-header svelte-15cacbz" role="banner" aria-label="Site navigation"><div class="header-left svelte-15cacbz"></div> <div class="header-right svelte-15cacbz"><img class="logo svelte-15cacbz" alt="More in Common" role="img" aria-label="More in Common logo"/></div></header> <!>  <!> <!> <!> <!></main>');function Pe(X,Y){me(Y,!0);const[W,Z]=ye(),ee=()=>J(De,"$isMobile",W),te=()=>J(Ee,"$isTablet",W),{meta:j,content:v}=Se;let S=i(0),M=i(0),B=i(0),T=i(0),re=0,oe=.25,ae=1,z=i(0),k=i(0),F=i(0),D=i(0),se=0,ne=.25,ie=1;const $=c(()=>v.scrolly.slidesScroll[e(M)]),_=c(()=>v.scrolly.slidesFixed[e(k)]);let a=i(!1),E=i(!1),C=i(!1);fe(()=>{e(a)?(o(E,!0),setTimeout(()=>{o(C,!0)},250)):(o(C,!1),setTimeout(()=>{o(E,!1)},250))}),be(()=>{const d=n=>{n.key==="Escape"&&e(a)&&o(a,!1)};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)});var w=Ke();pe(d=>{var n=Le(),t=g(G(n),2);b(()=>{xe.title=j.title,x(t,"content",j.description||"Interactive civic responsibility exploration")}),p(d,n)}),Me(w,"",{},{"--bg-color":"#d1dfed"});var L=m(w),q=g(m(L),2),de=m(q);h(q),h(L);var K=g(L,2);const le=c(()=>v.hero.video||"/assets/videos/web-bg.mp4"),ce=c(()=>v.hero.poster||"/assets/videos/placeholder.jpg");ke(K,{get videoSrc(){return e(le)},get poster(){return e(ce)},get heroText(){return v.hero.text}});var O=g(K,2);{var ve=d=>{var n=He(),t=m(n),r=g(m(t),2);Te(r,{activeId:"9999-dashboard",animateMount:!1,get interactiveMode(){return e(a)},set interactiveMode(s){o(a,s,!0)}}),h(t),h(n),b(()=>I(t,1,`dashboard-overlay-content ${e(C)?"expanded":""} ${ee()?"mobile":""} ${te()?"tablet":""}`,"svelte-15cacbz")),ze(3,n,()=>Fe,()=>({duration:250})),p(d,n)};$e(O,d=>{e(E)&&d(ve)})}var R=g(O,2);const ue=c(()=>!!e($).interactiveBg);N(R,{top:re,threshold:oe,bottom:ae,get interactiveBg(){return e(ue)},role:"region","aria-label":"First interactive content scroll area",get count(){return e(S)},set count(t){o(S,t,!0)},get index(){return e(M)},set index(t){o(M,t,!0)},get offset(){return e(B)},set offset(t){o(B,t,!0)},get progress(){return e(T)},set progress(t){o(T,t,!0)},background:t=>{var r=Ie(),s=m(r);const l=c(()=>!!e($).showDashboard);Q(s,{get count(){return e(S)},get index(){return e(M)},get offset(){return e(B)},get progress(){return e(T)},get activeId(){return e($).id},get showDashboard(){return e(l)},get interactiveMode(){return e(a)}}),h(r),b(()=>x(r,"data-theme",e($).theme||"default")),p(t,r)},foreground:t=>{var r=We();P(r,21,()=>v.scrolly.slidesScroll,U,(s,l,u)=>{const y=c(()=>v.scrolly.slidesScroll.length);V(s,{get content(){return e(l)},get cls(){return`slide-${u} ${e(l).cls??""}`},index:u,get"aria-label"(){return`Slide ${u+1} of ${e(y)??""}`},get interactiveMode(){return e(a)},set interactiveMode(H){o(a,H,!0)}})}),h(r),b(()=>{I(r,1,`foreground-container ${e(a)?"interactive-mode":""}`),x(r,"data-theme",e($).theme||"default")}),p(t,r)},$$slots:{background:!0,foreground:!0}});var A=g(R,2);const ge=c(()=>!!e(_).interactiveBg);N(A,{top:se,threshold:ne,bottom:ie,get interactiveBg(){return e(ge)},role:"region","aria-label":"Second interactive content scroll area",get count(){return e(z)},set count(t){o(z,t,!0)},get index(){return e(k)},set index(t){o(k,t,!0)},get offset(){return e(F)},set offset(t){o(F,t,!0)},get progress(){return e(D)},set progress(t){o(D,t,!0)},background:t=>{var r=je(),s=G(r),l=m(s);const u=c(()=>!!e(_).showDashboard);Q(l,{get count(){return e(z)},get index(){return e(k)},get offset(){return e(F)},get progress(){return e(D)},get activeId(){return e(_).id},get showDashboard(){return e(u)},get interactiveMode(){return e(a)}}),h(s);var y=g(s,2);Be(y,{get content(){return e(_)}}),b(()=>x(s,"data-theme",e(_).theme||"default")),p(t,r)},foreground:t=>{var r=qe();P(r,21,()=>v.scrolly.slidesFixed,U,(s,l,u)=>{const y=c(()=>v.scrolly.slidesFixed.length);V(s,{get content(){return e(l)},get cls(){return`slide-${u} ${e(l).cls??""}`},index:u,get"aria-label"(){return`Slide ${u+1} of ${e(y)??""}`},get noText(){return e(l).noFgText},get interactiveMode(){return e(a)},set interactiveMode(H){o(a,H,!0)}})}),h(r),b(()=>{I(r,1,`foreground-container ${e(a)?"interactive-mode":""}`),x(r,"data-theme",e(_).theme||"default")}),p(t,r)},$$slots:{background:!0,foreground:!0}});var he=g(A,2);we(he),h(w),b(()=>x(de,"src",Ce+"/assets/icons/Lockup_WhiteWhite.png")),p(X,w),_e(),Z()}export{Pe as component};
